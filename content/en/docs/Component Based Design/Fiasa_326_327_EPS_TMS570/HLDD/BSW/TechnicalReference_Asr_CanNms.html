---
title: TechnicalReference_Asr_CanNms
linkTitle: TechnicalReference_Asr_CanNms
weight: 15
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-1_1.png"/><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/><b>MICROSAR CAN Network&#160;Management&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>CAN NM&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Markus Drescher&#160;<br/>
Version&#160;<br/>
4.18.00&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-2_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-2_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
Oliver&#160;Hornung&#160;<br/>
2007-12-10&#160;<br/>
4.0.0&#160;<br/>
ESCAN00023633:&#160;Update Documentation&#160;<br/>for&#160;AUTOSAR&#160;Release 3&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2008-02-01&#160;<br/>
4.1.0&#160;<br/>
Added&#160;Coordination&#160;Extension;&#160;Updated&#160;<br/>configuration.&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2008-03-11&#160;<br/>
4.2.0&#160;<br/>
ESCAN00025282:&#160;Configuration changes&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2008-04-02&#160;<br/>
4.2.1&#160;<br/>
Corrected&#160;Coordination&#160;Extension&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2008-04-21&#160;<br/>
4.3.0&#160;<br/>
ESCAN00025499:&#160;Renamed&#160;Technical&#160;<br/>Reference&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2008-05-02&#160;<br/>
4.3.1&#160;<br/>
Corrected&#160;Memory&#160;Mapping&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2008-11-28&#160;<br/>
4.4.0&#160;<br/>
ESCAN00031692:&#160;Adapted&#160;Configuration&#160;<br/>and&#160;API&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2009-03-31&#160;<br/>
4.5.0&#160;<br/>
ESCAN00034277:&#160;Re-structured&#160;document;&#160;<br/>added chapter&#160;with service&#160;functions&#160;that&#160;<br/>are&#160;used&#160;by&#160;CAN&#160;NM.&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2009-07-31&#160;<br/>
4.06.00&#160;<br/>
ESCAN00036641:&#160;Documented&#160;changed&#160;<br/>behavior&#160;when requesting and&#160;releasing&#160;bus&#160;<br/>communication&#160;in state&#160;Bus Sleep.&#160;<br/>ESCAN00036642:&#160;Documented&#160;Multiple&#160;<br/>ECU&#160;Support&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2009-09-17&#160;<br/>
4.06.01&#160;<br/>
ESCAN00037225:&#160;Added&#160;hint&#160;for&#160;message&#160;<br/>length&#160;configuration&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2009-11-27&#160;<br/>
4.07.00&#160;<br/>
ESCAN00037848:&#160;Added&#160;feature&#160;description&#160;<br/>‘NM&#160;user&#160;data&#160;via Com’&#160;<br/>Clarified&#160;restart&#160;behavior&#160;(ESCAN00037081)&#160;<br/>Added&#160;note&#160;for&#160;message&#160;layout&#160;<br/>configuration&#160;(ESCAN00039378)&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2010-03-03&#160;<br/>
4.07.01&#160;<br/>
ESCAN00041215:&#160;Corrected&#160;GENy&#160;module&#160;<br/>name;&#160;adapted&#160;database&#160;attribute&#160;<br/>description&#160;for&#160;“NmType”&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2010-03-30&#160;<br/>
4.08.00&#160;<br/>
ESCAN00041850:&#160;Added&#160;QNX&#160;Support&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2010-04-30&#160;<br/>
4.09.00&#160;<br/>
ESCAN00042564:&#160;Added&#160;Extended Bus&#160;<br/>Synchronization&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2010-06-23&#160;<br/>
4.10.00&#160;<br/>
ESCAN00043403:&#160;Added&#160;‘Check&#160;Limp&#160;<br/>Home’&#160;API&#160;description&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2010-07-21&#160;<br/>
4.11.00&#160;<br/>
ESCAN00043887:&#160;Added&#160;‘Gateway&#160;<br/>Extension&#160;Support’&#160;description&#160;<br/>
Daniel&#160;Hof&#160;<br/>
2010-08-11&#160;<br/>
4.12.00&#160;<br/>
Added&#160;descriptions&#160;for:&#160;<br/>ESCAN00043787:&#160;Active&#160;Wake-up&#160;Bit&#160;<br/>ESCAN00043772:&#160;Car&#160;Wake-up&#160;<br/>ESCAN00043794:&#160;Partial&#160;Networking&#160;<br/>ESCAN00043785:&#160;Fast&#160;Wake-up&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
2&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-3_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-3_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
Oliver&#160;Hornung&#160;<br/>
2011-02-10&#160;<br/>
4.13.00&#160;<br/>
ESCAN00045764:&#160;Adapted&#160;DET&#160;and&#160;DEM&#160;<br/>error&#160;description&#160;<br/>ESCAN00045879&#160;Reworked&#160;Partial&#160;<br/>Networking&#160;description&#160;<br/>ESCAN00046097:&#160;Added&#160;description&#160;for&#160;<br/>usage&#160;of&#160;PduInfoType&#160;<br/>ESCAN00046915&#160;Adapted&#160;description&#160;for&#160;<br/>Fast&#160;Wake-up&#160;(Immediate Nm&#160;<br/>Transmissions)&#160;<br/>ESCAN00047362&#160;Added&#160;descriptions&#160;of&#160;<br/>critical&#160;section&#160;codes&#160;<br/>ESCAN00047497&#160;Added&#160;description&#160;for&#160;<br/>usage&#160;in&#160;multiple configuration setups&#160;<br/>
Markus Drescher&#160;<br/>
2011-05-26&#160;<br/>
4.13.01&#160;<br/>
ESCAN00051145:&#160;Added&#160;description&#160;for&#160;<br/>‘Dem2Det&#160;Enabled’&#160;switch and updated&#160;<br/>Error&#160;Handling&#160;<br/>
Markus Drescher&#160;<br/>
2011-07-04&#160;<br/>
4.13.02&#160;<br/>
ESCAN00051912:&#160;Adapted&#160;description&#160;for&#160;<br/>state&#160;transitions&#160;from&#160;Prepare Bus&#160;Sleep to&#160;<br/>Network&#160;Mode,&#160;adapted&#160;<br/>CanNm_PassiveStartUp&#160;API&#160;description&#160;<br/>ESCAN00051972:&#160;Updated&#160;Include&#160;<br/>Structure&#160;figure&#160;<br/>
Markus Drescher&#160;<br/>
2011-06-30&#160;<br/>
4.14.00&#160;<br/>
ESCAN00048297:&#160;Added&#160;description&#160;for&#160;<br/>Callbacks&#160;for&#160;Partial&#160;Networking&#160;<br/>ESCAN00051150:&#160;Adapted&#160;description&#160;of&#160;<br/>‘Usage of&#160;PduInfoType’&#160;<br/>
Markus Drescher&#160;<br/>
2012-01-12&#160;<br/>
4.15.00&#160;<br/>
ESCAN00053603:&#160;Removed&#160;VStdLib and&#160;<br/>DrvCan&#160;critical&#160;section&#160;handling&#160;<br/>ESCAN00054369:&#160;Adapted&#160;description&#160;of&#160;<br/>‘Msg&#160;Timeout&#160;Time’&#160;<br/>ESCAN00054839:&#160;Added&#160;description&#160;for&#160;<br/>Support&#160;for&#160;RX&#160;PDUs&#160;with different&#160;lengths&#160;<br/>
Markus Drescher&#160;<br/>
2012-06-20&#160;<br/>
4.16.00&#160;<br/>
ESCAN00059530:&#160;Adapted&#160;API&#160;descriptions&#160;<br/>for&#160;availability&#160;of&#160;the&#160;functions&#160;in chapters&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#59">5.5.2.5,&#160;</a><a href="TechnicalReference_Asr_CanNms.html#64">5.5.2.7.1,</a><a href="TechnicalReference_Asr_CanNms.html#67">&#160;5.5.2.8.1,</a><a href="TechnicalReference_Asr_CanNms.html#68">&#160;5.5.2.9.1;&#160;<br/></a>adapted&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#75">&#160;5.6&#160;</a><br/>
Markus Drescher&#160;<br/>
2012-09-06&#160;<br/>
4.17.00&#160;<br/>
ESCAN00059456:&#160;Updated&#160;version of&#160;<br/>reference document&#160;[3]&#160;<br/>ESCAN00059750:&#160;Added&#160;descriptions&#160;of&#160;the&#160;<br/>values&#160;written&#160;by&#160;CanNm_GetState&#160;(chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#55">5.5.2.2)</a>&#160;<br/>ESCAN00059987:&#160;Added&#160;caution&#160;box&#160;to&#160;<br/>chapter<a href="TechnicalReference_Asr_CanNms.html#42">&#160;3.23&#160;</a>about&#160;the&#160;‘Com&#160;User&#160;Data&#160;<br/>Enabled’&#160;configuration&#160;setting&#160;<br/>ESCAN00060186:&#160;Reworked&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#28">&#160;3.5.5&#160;<br/></a>ESCAN00060200:&#160;Updated&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#33">s&#160;3.13&#160;<br/></a><a href="TechnicalReference_Asr_CanNms.html#90">and&#160;6.3.2,</a>&#160;created&#160;chapt<a href="TechnicalReference_Asr_CanNms.html#94">er&#160;6.3.2.1.</a>&#160;<br/>ESCAN00061255:&#160;Fixed&#160;name&#160;of&#160;<br/>CanNm_TxConfirmation&#160;(chapter<a href="TechnicalReference_Asr_CanNms.html#77">&#160;5.7.1.2)</a>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
3&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-4_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-4_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-4_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
Markus Drescher&#160;<br/>
2013-05-08&#160;<br/>
4.18.00&#160;<br/>
ESCAN00061017:&#160;Adapted&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#84">&#160;6.3.1&#160;<br/></a>ESCAN00061692:&#160;Adapted&#160;Multiple ECU&#160;<br/>Use Case descriptions&#160;for&#160;NM&#160;User&#160;Data&#160;via&#160;&#160;<br/>Com&#160;(chapter<a href="TechnicalReference_Asr_CanNms.html#33">s&#160;3.13,&#160;</a><a href="TechnicalReference_Asr_CanNms.html#35">3.15.1)</a>&#160;<br/>ESCAN00065299:&#160;Improved&#160;send behavior&#160;<br/>descriptions in&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#27">&#160;3.5.3&#160;</a>and&#160;Immediate&#160;<br/>Nm&#160;Transmission&#160;feature&#160;descriptions&#160;in&#160;<br/>chapter<a href="TechnicalReference_Asr_CanNms.html#39">&#160;3.20&#160;</a><a href="TechnicalReference_Asr_CanNms.html#40">and&#160;3.21&#160;<br/></a>ESCAN00065569:&#160;Adapted&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#43">&#160;3.23.5&#160;<br/></a><a href="TechnicalReference_Asr_CanNms.html#90">and&#160;6.3.2&#160;<br/></a>ESCAN00065570:&#160;Extended chapter<a href="TechnicalReference_Asr_CanNms.html#34">&#160;3.15&#160;<br/></a>ESCAN00065637:&#160;Adapted&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#52">&#160;5.5.1.1&#160;<br/></a>ESCAN00067267:&#160;Added&#160;chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#12">‘Component&#160;History’</a>,&#160;adapted&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#13">s&#160;2&#160;<br/></a><a href="TechnicalReference_Asr_CanNms.html#16">and&#160;3,</a>&#160;merged&#160;chapter&#160;7&#160;with chapter<a href="TechnicalReference_Asr_CanNms.html#16">&#160;3,&#160;<br/></a>swapped chapter<a href="TechnicalReference_Asr_CanNms.html#50">s&#160;5&#160;</a>and<a href="TechnicalReference_Asr_CanNms.html#80">&#160;6,</a>&#160;removed&#160;<br/>‘Compiler&#160;Abstraction&#160;and Memory&#160;Mapping’&#160;<br/>from&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#45">&#160;4,</a>&#160;various improvements&#160;<br/>ESCAN00067268:&#160;Replaced&#160;<br/>Nm_PrepareBusSleep by&#160;<br/>Nm_PrepareBusSleepMode&#160;<br/>
Table&#160;1-1&#160;&#160;<br/>
History&#160;of&#160;the&#160;Document&#160;<br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;<br/>
AUTOSAR&#160;&#160;SRS&#160;AUTOSAR&#160;Network&#160;Management&#160;<br/>
2.1.0&#160;<br/>
[2]&#160;<br/>
AUTOSAR&#160;&#160;SWS&#160;NM&#160;Interface&#160;<br/>
1.2.0&#160;<br/>
[3]&#160;<br/>
AUTOSAR&#160;&#160;SWS&#160;CAN&#160;NM&#160;<br/>
3.4.0&#160;<br/>
[4]&#160;<br/>
AUTOSAR&#160;&#160;SWS&#160;Development&#160;Error&#160;Tracer&#160;<br/>
2.2.2&#160;<br/>
[5]&#160;<br/>
AUTOSAR&#160;&#160;SWS&#160;Diagnostic&#160;Event&#160;Manager&#160;<br/>
3.2.0&#160;<br/>
[6]&#160;<br/>
AUTOSAR&#160;&#160;SWS&#160;CAN&#160;Interface&#160;<br/>
3.3.0&#160;<br/>
[7]&#160;<br/>
AUTOSAR&#160;&#160;SWS&#160;BSW&#160;Scheduler&#160;<br/>
1.2.0&#160;<br/>
[8]&#160;<br/>
Vector&#160;<br/>
<a href="http://www.vector-group.net/support/appnotes/AN-AND-1-108_glossary_of_can_protocol_terminology.pdf">AN-AND-1-108&#160;Glossary&#160;of&#160;CAN&#160;Protocol&#160;Terminology&#160;</a><br/>
1.0.0&#160;<br/>
<a href="http://www.vector-informatik.de/">http://www.vector-informatik.de&#160;</a><br/>
[9]&#160;<br/>
Vector&#160;<br/>
Technical&#160;Reference&#160;Identity&#160;Manager&#160;<br/>
≥&#160;1.1.5&#160;<br/>
[10]&#160;<br/>
Vector&#160;<br/>
Technical&#160;Reference&#160;MICROSAR&#160;PDU&#160;Router&#160;<br/>
≥&#160;3.12.02&#160;<br/>
[11]&#160;<br/>
Vector&#160;<br/>
AN-ISC-8-1118&#160;MICROSAR&#160;BSW&#160;Compatibility&#160;Check&#160;<br/>
1.0.0&#160;<br/>
[12]&#160;<br/>
AUTOSAR&#160;&#160;AUTOSAR_BasicSoftwareModules.pdf&#160;<br/>
1.5.0&#160;<br/>
Table&#160;1-2&#160;&#160;<br/>
Reference&#160;Documents&#160;<br/>
&#160;<br/>
<b>Please&#160;note&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>
&#160;&#160;questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
4&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-5_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-5_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
specified&#160;in your&#160;questionnaire,&#160;Vector’s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have&#160;specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
5&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-6_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-6_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_Asr_CanNms.html#12"><b>1</b>&#160;&#160;<b>Component&#160;History&#160;......................................................................................................&#160;12</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13"><b>2</b>&#160;&#160;<b>Introduction&#160;..................................................................................................................&#160;13</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13">2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13">Naming Conventions&#160;..............................................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13">2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13">Architecture&#160;Overview&#160;............................................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13">2.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13">Architecture of&#160;AUTOSAR&#160;Software&#160;..............................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#14">2.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#14">Architecture of&#160;AUTOSAR&#160;Network&#160;Management&#160;..........................................&#160;14&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16"><b>3</b>&#160;&#160;<b>Functional&#160;Description&#160;................................................................................................&#160;16</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16">3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16">Overview&#160;of&#160;the&#160;Functional&#160;Scope&#160;..........................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16">3.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16">Deviations&#160;Against&#160;AUTOSAR&#160;3.2.2&#160;..............................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16">3.1.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16">Initialization&#160;............................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">PDU&#160;ID&#160;Used&#160;as&#160;Argument&#160;for&#160;CanNm_TxConfirmation&#160;.........................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">Dependencies between Configuration Parameters&#160;.................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">Coordinator&#160;Synchronization&#160;Support&#160;.....................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">NM&#160;User&#160;Data&#160;via Com&#160;...........................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.6&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">Active&#160;Wake-up&#160;Bit&#160;Support&#160;....................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.7&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#17">Redundant&#160;BSWMD&#160;Parameters&#160;............................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">3.1.1.8&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Unsupported&#160;Features&#160;............................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">3.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Additions/&#160;Extensions&#160;....................................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Link-Time&#160;Support&#160;for&#160;Channels&#160;.............................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Single&#160;Channel&#160;Optimization&#160;..................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Memory&#160;Initialization&#160;...............................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Error&#160;Reporting&#160;to&#160;Diagnostic Event&#160;Manager&#160;........................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Disable&#160;Transmission&#160;Error&#160;Reporting&#160;....................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.6&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">Limp Home&#160;Indication&#160;.............................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.7&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">Extended Remote&#160;Sleep&#160;Indication&#160;.........................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.8&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">Multiple ECU&#160;Support&#160;.............................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.9&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">QNX&#160;Support&#160;..........................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.10&#160;&#160;Extended Bus Synchronization&#160;...............................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.11&#160;&#160;Gateway&#160;Extension&#160;Support&#160;...................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.12&#160;&#160;Dem2Det&#160;Enabled&#160;..................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.13&#160;&#160;Message Reception&#160;with Different&#160;PDU&#160;Lengths&#160;....................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.14&#160;&#160;Deactivation of&#160;Partial&#160;Networking&#160;during&#160;Run-Time&#160;...............................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#20">3.1.2.15&#160;&#160;Features&#160;Provided Beyond the&#160;AUTOSAR&#160;Standard&#160;..............................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#20">3.1.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#20">Limitations&#160;.....................................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#20">3.1.3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#20">Ranges&#160;of&#160;Timers&#160;...................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#21">3.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#21">Network&#160;Management&#160;Mechanism&#160;.........................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#22">3.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#22">Passive&#160;Mode&#160;.........................................................................................................&#160;22&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
6&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-7_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-7_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#22">3.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#22">Operation&#160;Modes and States&#160;..................................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#23">3.4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#23">Network&#160;Mode&#160;...............................................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#24">3.4.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#24">Repeat&#160;Message State&#160;...........................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#24">3.4.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#24">Normal&#160;Operation&#160;State&#160;..........................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#24">3.4.1.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#24">Ready&#160;Sleep State&#160;.................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#24">3.4.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#24">Prepare&#160;Bus-Sleep Mode&#160;..............................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#25">3.4.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#25">Bus-Sleep Mode&#160;............................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#25">3.4.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#25">Wake-up&#160;Registration&#160;....................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">3.4.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">User&#160;Data&#160;Handling&#160;.......................................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">3.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">Network&#160;Management&#160;Message&#160;Transmission&#160;and Reception&#160;...............................&#160;26&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">3.5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">AUTOSAR&#160;CAN&#160;Interface..............................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">3.5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">PDU&#160;Message Layout&#160;...................................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#27">3.5.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#27">Message&#160;Transmissions&#160;................................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#28">3.5.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#28">Bus Load&#160;Reduction&#160;......................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#28">3.5.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#28">Support&#160;for&#160;RX&#160;PDUs&#160;with Different&#160;Lengths&#160;.................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#29">3.6&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#29">Node Detection&#160;......................................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#29">3.7&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#29">NM&#160;PDU&#160;Receive Indication&#160;...................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#29">3.8&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#29">Communication&#160;Control&#160;..........................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">3.9&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">Gateway&#160;Functionality&#160;............................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">3.9.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">Remote&#160;Sleep Indication&#160;and Cancellation&#160;....................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">3.9.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">Extended Remote&#160;Sleep&#160;Indication and&#160;Cancellation&#160;....................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">3.9.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">Bus Synchronization&#160;.....................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#30">3.10&#160;&#160;Limp Home&#160;Indication&#160;and Cancellation&#160;.................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#31">3.11&#160;&#160;Coordinator&#160;Synchronization&#160;Support&#160;.....................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#32">3.12&#160;&#160;Error&#160;Handling&#160;........................................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#32">3.12.1&#160;&#160;Development&#160;Error&#160;Detection&#160;........................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#32">3.12.1.1&#160;&#160;Det_ReportError&#160;.....................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#32">3.12.1.2&#160;&#160;Error&#160;Codes&#160;............................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#32">3.12.2&#160;&#160;Diagnostic&#160;Event&#160;Manager&#160;............................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#33">3.12.2.1&#160;&#160;Dem_ReportErrorStatus&#160;.........................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#33">3.12.2.2&#160;&#160;Error&#160;Codes&#160;............................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#33">3.13&#160;&#160;Multiple ECU&#160;Support&#160;.............................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#34">3.14&#160;&#160;Multiple Configuration&#160;Support&#160;...............................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#34">3.15&#160;&#160;NM&#160;User&#160;Data&#160;via Com&#160;..........................................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#35">3.15.1&#160;&#160;Configuration Preconditions&#160;in an&#160;AUTOSAR&#160;ECU&#160;Configuration&#160;..................&#160;35&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#37">3.15.1.1&#160;&#160;Caveats&#160;for&#160;Multiple ECU&#160;Support&#160;..........................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#37">3.15.2&#160;&#160;Configuration Preconditions&#160;in a&#160;DBC&#160;Based&#160;Configuration&#160;..........................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#37">3.16&#160;&#160;QNX&#160;Support&#160;..........................................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#38">3.17&#160;&#160;Extended Bus Synchronization&#160;...............................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#38">3.18&#160;&#160;Gateway&#160;Extension&#160;Support&#160;...................................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#39">3.19&#160;&#160;Active&#160;Wake-up&#160;Handling&#160;.......................................................................................&#160;39&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
7&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-8_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-8_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#39">3.20&#160;&#160;Immediate&#160;Nm&#160;Transmissions&#160;................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#40">3.21&#160;&#160;Immediate&#160;Restart&#160;Enabled&#160;....................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#41">3.22&#160;&#160;Car&#160;Wake-up&#160;..........................................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#41">3.22.1&#160;&#160;Rx-Path&#160;.........................................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#41">3.22.2&#160;&#160;Tx-Path&#160;.........................................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#42">3.23&#160;&#160;Partial&#160;Networking&#160;..................................................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#42">3.23.1&#160;&#160;Availability&#160;of&#160;Partial&#160;Network&#160;Request&#160;Information&#160;.......................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#42">3.23.2&#160;&#160;Transmission&#160;of&#160;the&#160;CRI&#160;Bit&#160;in the&#160;NM&#160;User&#160;Data&#160;..........................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#42">3.23.3&#160;&#160;Filter&#160;Algorithm&#160;for&#160;Received&#160;NM&#160;Messages&#160;..................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#43">3.23.4&#160;&#160;Aggregation&#160;of&#160;Requested Partial&#160;Networks&#160;..................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#43">3.23.5&#160;&#160;Spontaneous Sending&#160;of&#160;NM&#160;Messages........................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#44">3.23.5.1&#160;&#160;Using&#160;Com&#160;Transmission&#160;on&#160;Change Mechanism&#160;..................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#44">3.23.5.2&#160;&#160;Using&#160;NM&#160;Request&#160;and&#160;Immediate&#160;Nm&#160;Transmission&#160;.............................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#44">3.23.6&#160;&#160;Deactivation of&#160;Partial&#160;Networking&#160;during&#160;Run-Time&#160;......................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#44">3.24&#160;&#160;Usage&#160;of&#160;PduInfoType&#160;............................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#45"><b>4</b>&#160;&#160;<b>Integration&#160;....................................................................................................................&#160;45</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#45">4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#45">Files&#160;.......................................................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#46">4.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#46">Include Structure&#160;....................................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#46">4.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#46">Version Changes&#160;....................................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#46">4.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#46">Initialization&#160;............................................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#47">4.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#47">Main Functions&#160;.......................................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#48">4.6&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#48">Critical&#160;Sections&#160;.....................................................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#48">4.7&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#48">Critical&#160;Section Codes&#160;............................................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50"><b>5</b>&#160;&#160;<b>API&#160;Description&#160;............................................................................................................&#160;50</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">API&#160;Categories&#160;.......................................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">Data&#160;Types&#160;.............................................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">5.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">Global&#160;Variables&#160;.....................................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">5.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">Global&#160;Constants&#160;....................................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">5.4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">AUTOSAR&#160;Specification&#160;Version&#160;...................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">5.4.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">Component&#160;Versions&#160;.....................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">5.4.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">Vendor&#160;and&#160;Module ID&#160;...................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#52">5.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#52">Services Provided by&#160;CAN&#160;NM&#160;...............................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#52">5.5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#52">Administrative Functions&#160;...............................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#52">5.5.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#52">CanNm_Init:&#160;Initialization&#160;of&#160;CAN&#160;NM&#160;.....................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#53">5.5.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#53">CanNm_MainFunction:&#160;Channel&#160;Specific&#160;Main Functions&#160;of&#160;CAN&#160;NM&#160;....&#160;53&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#54">5.5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#54">Service Functions of&#160;CAN&#160;NM&#160;.......................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#54">5.5.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#54">CanNm_GetVersionInfo:&#160;Version Information&#160;API&#160;...................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#55">5.5.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#55">CanNm_GetState:&#160;Get&#160;the&#160;State of&#160;the&#160;Network&#160;Management&#160;...............&#160;55&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#56">5.5.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#56">CanNm_PassiveStartUp:&#160;Wake up&#160;Network&#160;Management&#160;.....................&#160;56&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
8&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-9_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-9_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#57">5.5.2.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#57">Wake-up&#160;Registration&#160;.............................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#57">5.5.2.4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#57">CanNm_NetworkRequest:&#160;Request&#160;the&#160;Network&#160;.............................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#58">5.5.2.4.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#58">CanNm_NetworkRelease:&#160;Release&#160;the&#160;Network&#160;..............................&#160;58&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#59">5.5.2.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#59">Communication&#160;Control&#160;Service&#160;.............................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#59">5.5.2.5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#59">CanNm_DisableCommunication:&#160;Disable NM&#160;Message&#160;<br/>Transmission&#160;...................................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#60">5.5.2.5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#60">CanNm_EnableCommunication:&#160;Enable NM&#160;Message&#160;<br/>Transmission&#160;...................................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#61">5.5.2.6&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#61">User&#160;Data&#160;Handling&#160;................................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#61">5.5.2.6.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#61">CanNm_SetUserData:&#160;Set&#160;User&#160;Data&#160;..............................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#62">5.5.2.6.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#62">CanNm_GetUserData:&#160;Get&#160;User&#160;Data&#160;.............................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#63">5.5.2.6.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#63">CanNm_GetPduData:&#160;Get&#160;NM&#160;Pdu&#160;Data&#160;.........................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#64">5.5.2.7&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#64">Node Detection.......................................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#64">5.5.2.7.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#64">CanNm_RepeatMessageRequest:&#160;Set&#160;Repeat&#160;Message&#160;<br/>Request&#160;Bit&#160;......................................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#65">5.5.2.7.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#65">CanNm_GetNodeIdentifier:&#160;Get&#160;Source Node&#160;Identifier&#160;...................&#160;65&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#66">5.5.2.7.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#66">CanNm_GetLocalNodeIdentifier:&#160;Get&#160;Local&#160;Source Node&#160;<br/>Identifier&#160;..........................................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#67">5.5.2.8&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#67">Bus Synchronization&#160;...............................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#67">5.5.2.8.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#67">CanNm_RequestBusSynchronization:&#160;Synchronization of&#160;<br/>Networks&#160;.........................................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#68">5.5.2.9&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#68">Remote&#160;Sleep Indication&#160;........................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#68">5.5.2.9.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#68">CanNm_CheckRemoteSleepIndication:&#160;Check&#160;for&#160;Remote&#160;<br/>Sleep Indication&#160;...............................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#69">5.5.2.10&#160;&#160;NM&#160;Message&#160;Transmission&#160;Request&#160;......................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#69">5.5.2.10.1&#160;&#160;CanNm_Transmit:&#160;Spontaneous NM&#160;Message&#160;Transmission&#160;..........&#160;69&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#70">5.5.2.11&#160;&#160;Partial&#160;Networking&#160;..................................................................................&#160;70&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#70">5.5.2.11.1&#160;&#160;CanNm_ConfirmPnAvailability:&#160;Notification&#160;for&#160;activating&#160;the&#160;PN&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#70">filter&#160;functionality&#160;..............................................................................&#160;70&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#71">5.5.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#71">Vector&#160;extensions&#160;..........................................................................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#71">5.5.3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#71">CanNm_InitMemory:&#160;Memory&#160;Initialization&#160;.............................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#72">5.5.3.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#72">CanNm_SetCoordBits:&#160;Set&#160;Coordination&#160;Bits&#160;in&#160;the CBV&#160;.......................&#160;72&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#73">5.5.3.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#73">CanNm_CheckLimpHomeIndication:&#160;Check&#160;the&#160;Limp Home Status&#160;.......&#160;73&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#74">5.5.3.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#74">CanNm_SetDiagGwReqId:&#160;Diagnostic&#160;Gateway&#160;ID&#160;Request&#160;..................&#160;74&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#74">5.5.3.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#74">CanNm_DisablePNActivationState:&#160;Disable Partial&#160;Networking&#160;.............&#160;74&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">5.6&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">Services Used by&#160;CAN&#160;NM&#160;....................................................................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">5.7&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">Callbacks&#160;Provided by&#160;CAN&#160;NM&#160;.............................................................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">5.7.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">Callback&#160;Functions&#160;from&#160;CAN&#160;Interface&#160;.........................................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">5.7.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">CanNm_RxIndication:&#160;NM&#160;Message Indication&#160;.......................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#77">5.7.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#77">CanNm_TxConfirmation:&#160;NM&#160;Message Confirmation&#160;Function&#160;...............&#160;77&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#77">5.8&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#77">Callback&#160;Functions&#160;used&#160;by&#160;CAN&#160;NM&#160;.....................................................................&#160;77&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#77">5.8.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#77">Service Callback&#160;Functions&#160;of&#160;CAN&#160;NM&#160;........................................................&#160;77&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
9&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-10_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-10_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#78">5.8.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">Additional&#160;Service Callback&#160;Functions&#160;of&#160;CAN&#160;NM&#160;........................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">5.8.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">Callbacks&#160;for&#160;Limp&#160;Home Indication&#160;.......................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">5.8.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">Callbacks&#160;for&#160;Coordination&#160;Extension&#160;.....................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">5.8.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">Callbacks&#160;for&#160;Gateway&#160;Extension&#160;Support&#160;..............................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">5.8.2.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#78">Callbacks&#160;for&#160;Partial&#160;Networking&#160;.............................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#79">5.8.2.5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#79">Generator&#160;Compatibility&#160;Error&#160;.................................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#80"><b>6</b>&#160;&#160;<b>Configuration................................................................................................................&#160;80</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#80">6.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#80">Configuration Variants&#160;............................................................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#80">6.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#80">Configuration in&#160;Data Base&#160;.....................................................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#82">6.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#82">Configuration with&#160;GENy&#160;........................................................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#84">6.3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#84">Component&#160;Configuration&#160;.............................................................................&#160;84&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#90">6.3.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#90">Channel&#160;Configuration&#160;...................................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#94">6.3.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#94">Identity&#160;Specific&#160;Channel&#160;Configuration&#160;..................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#96">6.3.3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#96">Timing&#160;Restrictions&#160;........................................................................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#96">6.3.4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#96">NM&#160;Message Structure&#160;Configuration Notes&#160;.................................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#97"><b>7</b>&#160;&#160;<b>Glossary&#160;and&#160;Abbreviations&#160;........................................................................................&#160;97</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#97">7.1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#97">Glossary&#160;.................................................................................................................&#160;97&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#97">7.2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#97">Abbreviations&#160;.........................................................................................................&#160;97&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#99"><b>8</b>&#160;&#160;<b>Contact..........................................................................................................................&#160;99</b>&#160;<br/></a>&#160;<br/>
<b>Illustrations&#160;</b><br/>
<a href="TechnicalReference_Asr_CanNms.html#14">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#14">Architecture of&#160;AUTOSAR&#160;Stack&#160;...............................................................&#160;14&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#15">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#15">Interface&#160;to&#160;Adjacent&#160;Modules of&#160;the&#160;CAN&#160;NM&#160;..........................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#22">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#22">State&#160;Diagram&#160;of&#160;CAN&#160;NM&#160;from&#160;SWS&#160;CAN&#160;NM&#160;[3]&#160;...................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#27">Figure&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#27">Usual&#160;Behavior&#160;of&#160;NM&#160;Transmissions&#160;when Repeat&#160;Message&#160;is&#160;entered&#160;..&#160;27&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#35">Figure&#160;3-3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#35">Immediate&#160;Transmission&#160;due to&#160;Signal&#160;Change&#160;inside&#160;User&#160;Data&#160;I-PDU&#160;..&#160;35&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#39">Figure&#160;3-4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#39">Immediate&#160;Nm&#160;Transmissions&#160;...................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#41">Figure&#160;3-5&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#41">Behavior&#160;for&#160;NM&#160;Transmissions&#160;if&#160;Immediate&#160;Restart&#160;Enabled&#160;is&#160;ON&#160;........&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#46">Figure&#160;4-1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#46">Include Structure&#160;of&#160;CAN&#160;NM&#160;....................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#83">Figure&#160;6-1&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#83">Component&#160;Selection in&#160;GENy&#160;.................................................................&#160;83&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#84">Figure&#160;6-2&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#84">Component&#160;Configuration&#160;CAN&#160;NM&#160;..........................................................&#160;84&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#91">Figure&#160;6-3&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#91">Channel&#160;Configuration CAN&#160;NM&#160;...............................................................&#160;91&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#95">Figure&#160;6-4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#95">Identity-Specific&#160;Channel&#160;Configuration&#160;CAN&#160;NM&#160;.....................................&#160;95&#160;</a><br/>
<b>&#160;</b><br/>
<b>Tables&#160;</b><br/>
<a href="TechnicalReference_Asr_CanNms.html#4">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#4">History&#160;of&#160;the&#160;Document&#160;.............................................................................&#160;4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#4">Table&#160;1-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#4">Reference&#160;Documents&#160;................................................................................&#160;4&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#12">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#12">Component&#160;history....................................................................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13">Table&#160;2-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#13">Naming Conventions&#160;................................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16">Table&#160;3-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#16">Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;.....................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Table&#160;3-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#18">Not&#160;supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;...............................&#160;18&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
10&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-11_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-11_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#20">Table&#160;3-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#20">Features&#160;provided beyond the&#160;AUTOSAR&#160;standard&#160;..................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">Table&#160;3-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#26">PDU&#160;NM&#160;Message Layout&#160;........................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#31">Table&#160;3-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#31">NM&#160;Coordination&#160;Bits&#160;................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#32">Table&#160;3-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#32">DET&#160;Error&#160;Codes of&#160;CAN&#160;NM&#160;...................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#33">Table&#160;3-7&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#33">DEM&#160;Error&#160;Codes of&#160;CAN&#160;NM&#160;..................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#36">Table&#160;3-8&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#36">Configuration Precondition&#160;Overview&#160;for&#160;AUTOSAR&#160;ECU&#160;Configurations&#160;.&#160;36&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#45">Table&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#45">CAN&#160;NM&#160;Integration&#160;Files&#160;.........................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#49">Table&#160;4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#49">Critical&#160;Section Codes&#160;..............................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">Table&#160;5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#50">Data&#160;Types&#160;...............................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">Table&#160;5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">Specification&#160;Version&#160;API&#160;Data&#160;.................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">Table&#160;5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">Component&#160;Version&#160;API&#160;Data&#160;...................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">Table&#160;5-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#51">Vendor/Module ID&#160;.....................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">Table&#160;5-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#75">Services Used by&#160;the&#160;CAN&#160;NM&#160;.................................................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#82">Table&#160;6-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#82">Database&#160;Attributes&#160;for&#160;CAN&#160;NM&#160;..............................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#89">Table&#160;6-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#89">Component&#160;Configuration&#160;CAN&#160;NM&#160;..........................................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#94">Table&#160;6-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#94">Channel&#160;Configuration CAN&#160;NM&#160;...............................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#95">Table&#160;6-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#95">Identity-Specific&#160;Channel&#160;Configuration&#160;CAN&#160;NM&#160;.....................................&#160;95&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#96">Table&#160;6-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#96">CAN&#160;NM&#160;Timing&#160;Restrictions&#160;....................................................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#97">Table&#160;7-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#97">Glossary&#160;...................................................................................................&#160;97&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#98">Table&#160;7-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#98">Abbreviations&#160;............................................................................................&#160;98&#160;</a><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
11&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-12_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-12_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>1&#160;&#160;Component&#160;History&#160;</b><br/>
The&#160;&#160;component&#160;&#160;history&#160;&#160;gives&#160;&#160;an&#160;&#160;overview&#160;&#160;over&#160;&#160;the&#160;&#160;important&#160;&#160;milestones&#160;&#160;that&#160;&#160;are&#160;<br/>supported&#160;in&#160;the&#160;different&#160;versions of&#160;the&#160;component.&#160;&#160;<br/>
<b>Component&#160;Version&#160;&#160;New&#160;Features&#160;</b><br/>
1.00.00&#160;<br/>
Creation&#160;for&#160;AUTOSAR&#160;1.0&#160;<br/>
3.00.00&#160;<br/>
Adaption&#160;for&#160;AUTOSAR&#160;2.1&#160;<br/>
4.00.00&#160;<br/>
Adaption&#160;for&#160;AUTOSAR&#160;3.0&#160;<br/>
4.01.00&#160;<br/>
Added&#160;Coordinator&#160;Synchronization Support&#160;<br/>
4.02.00&#160;<br/>
Support&#160;variant&#160;link-time&#160;for&#160;the&#160;number&#160;of&#160;channels&#160;<br/>Extended Coordinator&#160;Synchronization Support&#160;<br/>
4.09.00&#160;<br/>
Multiple ECU&#160;Support&#160;<br/>
4.12.00&#160;<br/>
Added&#160;‘User&#160;Data&#160;via Com’&#160;Feature&#160;<br/>
4.14.00&#160;<br/>
Added&#160;‘QNX&#160;Support’&#160;Feature&#160;<br/>
4.15.00&#160;<br/>
Added&#160;‘Extended Bus Synchronization’&#160;Feature&#160;<br/>
4.16.00&#160;<br/>
Added&#160;‘Limp Home&#160;Indication and Cancellation’&#160;Feature&#160;<br/>
4.17.00&#160;<br/>
Added&#160;‘Gateway&#160;Extension&#160;Support’&#160;Feature&#160;<br/>
4.19.00&#160;<br/>
Added&#160;‘Partial&#160;Networking’&#160;Feature&#160;&#160;<br/>Added&#160;‘Car&#160;Wakeup’&#160;Feature&#160;&#160;<br/>Added&#160;‘Active&#160;Wakeup&#160;Bit’&#160;Feature&#160;<br/>Added&#160;‘Immediate&#160;Transmissions’&#160;Feature&#160;<br/>
4.22.00&#160;<br/>
Adapted&#160;‘Msg&#160;Timeout’&#160;Handling&#160;<br/>Added&#160;Support&#160;for&#160;RX&#160;PDUs&#160;with different&#160;lengths&#160;<br/>
4.26.00&#160;<br/>
Added&#160;‘Disable Partial&#160;Networking&#160;During Initialization’&#160;Feature&#160;<br/>
Table&#160;1-1&#160;&#160;<br/>
Component&#160;history&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
12&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-13_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-13_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>2&#160;&#160;Introduction&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;concept,&#160;&#160;features,&#160;&#160;API&#160;&#160;and&#160;&#160;the&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;<br/>AUTOSAR&#160;&#160;CAN&#160;&#160;Network&#160;&#160;Management&#160;&#160;as&#160;&#160;specified&#160;&#160;in&#160;&#160;[3].&#160;&#160;Also&#160;&#160;the&#160;&#160;integration&#160;&#160;of&#160;&#160;the&#160;<br/>Network Management&#160;into&#160;the&#160;Vector CANbedded&#160;stack&#160;is covered&#160;by&#160;this document.&#160;&#160;<br/>The&#160;FlexRay&#160;Network Management&#160;is&#160;not&#160;covered&#160;by&#160;this document.&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;R<a href="TechnicalReference_Asr_CanNms.html#13">elease*:</a></b><b>&#160;</b><br/>
3&#160;<br/>
<b>Supported&#160;Configuration&#160;Variants:&#160;</b><br/>
pre-compile,&#160;link-time,&#160;post-build&#160;<br/>
<b>Vendor&#160;ID:&#160;</b><br/>
CANNM_VENDOR_ID&#160;<br/>
30&#160;decimal&#160;<br/>
(=&#160;Vector-Informatik,&#160;<br/>according&#160;to&#160;HIS)&#160;<br/>
<b>Module&#160;ID:&#160;</b><br/>
CANNM_MODULE_ID &#160;&#160;<br/>
31&#160;decimal&#160;<br/>
(according&#160;to ref.&#160;[12])&#160;<br/>
*&#160;For the precise&#160;AUTOSAR Release&#160;3.x&#160;please see the&#160;release specific&#160;documentation.&#160;&#160;<br/>&#160;<br/>&#160;<br/>Please&#160;&#160;note&#160;&#160;that&#160;&#160;in&#160;&#160;this&#160;&#160;document&#160;&#160;the&#160;&#160;term&#160;&#160;Application&#160;&#160;is&#160;&#160;not&#160;&#160;used&#160;&#160;strictly&#160;&#160;for&#160;&#160;the&#160;&#160;user&#160;<br/>software&#160;but&#160;&#160;also&#160;for&#160;any&#160;higher&#160;software&#160;layer,&#160;&#160;like&#160;e.g.&#160;&#160;a&#160;Communication&#160;Control&#160;Layer.&#160;<br/>Therefore,&#160;Application&#160;refers to&#160;any&#160;of&#160;the&#160;software components&#160;using&#160;the&#160;CAN&#160;NM.&#160;<br/>
For&#160;further&#160;information&#160;please&#160;also&#160;refer&#160;to&#160;the&#160;AUTOSAR&#160;SWS&#160;specifications&#160;referenced&#160;<br/>in&#160;the&#160;section&#160;<a href="TechnicalReference_Asr_CanNms.html#4">‘Reference&#160;Documents’</a>.&#160;<br/>
<b>2.1&#160;</b><br/>
<b>Naming Conventions&#160;</b><br/>
The&#160;&#160;names&#160;&#160;of&#160;&#160;the&#160;&#160;service&#160;&#160;functions&#160;&#160;provided&#160;&#160;by&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;and&#160;&#160;CAN&#160;&#160;NM&#160;&#160;always&#160;<br/>start&#160;with&#160;a&#160;prefix&#160;that&#160;denominates&#160;the&#160;software&#160;component&#160;where&#160;the&#160;service&#160;is&#160;located.&#160;<br/>E.g.&#160;a&#160;service&#160;that&#160;starts with&#160;‘CanNm_’&#160;is implemented&#160;within&#160;the&#160;CAN NM.&#160;<br/>
<b>Naming&#160;conventions&#160;<br/></b>Nm_&#160;<br/>
Services of&#160;NM&#160;Interface.&#160;<br/>
CanNm_&#160;<br/>
Services of&#160;CAN&#160;NM.&#160;<br/>
Det_&#160;<br/>
Services of&#160;Development&#160;Error&#160;Tracer.&#160;<br/>
Dem_&#160;<br/>
Services of&#160;Diagnostic&#160;Event&#160;Manager.&#160;<br/>
Table&#160;2-1&#160;&#160;<br/>
Naming&#160;Conventions&#160;<br/>
Nodes&#160;&#160;which&#160;&#160;are&#160;&#160;configured&#160;&#160;to&#160;&#160;be&#160;&#160;passive&#160;&#160;will&#160;&#160;be&#160;&#160;also&#160;&#160;referred&#160;&#160;to&#160;&#160;as&#160;&#160;passive&#160;&#160;nodes.&#160;<br/>Accordingly&#160;nodes that&#160;are not&#160;passive&#160;will be&#160;termed&#160;as active&#160;nodes.&#160;&#160;<br/>
<b>2.2&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
<b>2.2.1&#160;</b><br/>
<b>Architecture&#160;of&#160;AUTOSAR&#160;Software&#160;</b><br/>
The&#160;following&#160;figure shows&#160;where the&#160;CAN&#160;NM&#160;is located&#160;in&#160;the&#160;AUTOSAR architecture.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
13&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-14_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-14_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-14_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;2-1&#160;<br/>
Architecture&#160;of&#160;AUTOSAR&#160;Stack&#160;<br/>
<b>2.2.2&#160;</b><br/>
<b>Architecture&#160;of&#160;AUTOSAR Network&#160;Management&#160;</b><br/>
The&#160;AUTOSAR Network Management&#160;consists of&#160;three&#160;modules:&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Interface1&#160;<br/>
<b>&gt;&#160;&#160;</b>CAN NM&#160;<br/>
<b>&gt;&#160;&#160;</b>FlexRay<a href="TechnicalReference_Asr_CanNms.html#14">&#160;NM1&#160;</a><br/>
The&#160;&#160;NM&#160;&#160;Interface&#160;&#160;schedules&#160;&#160;function&#160;&#160;calls&#160;&#160;from&#160;&#160;the&#160;&#160;application&#160;&#160;to&#160;&#160;the&#160;&#160;respective&#160;&#160;module&#160;<br/>for&#160;&#160;each&#160;&#160;channel,&#160;&#160;e.g.&#160;&#160;for&#160;&#160;a&#160;&#160;CAN&#160;&#160;channel&#160;&#160;the&#160;&#160;corresponding&#160;&#160;CAN&#160;&#160;NM&#160;&#160;function&#160;&#160;will&#160;&#160;be&#160;<br/>called.&#160;CAN NM&#160;exclusively&#160;interacts with&#160;the&#160;NM&#160;Interface.&#160;<br/>
The&#160;&#160;communication&#160;&#160;bus&#160;&#160;specific&#160;&#160;functionality&#160;&#160;is&#160;&#160;incorporated&#160;&#160;in&#160;&#160;the&#160;&#160;corresponding&#160;&#160;bus-<br/>specific&#160;NM.&#160;The&#160;CAN-specific&#160;part&#160;implements&#160;the&#160;network&#160;management&#160;algorithm&#160;and&#160;is&#160;<br/>responsible&#160;for&#160;the&#160;transmission&#160;of&#160;NM&#160;messages&#160;on&#160;the&#160;communication&#160;bus&#160;by&#160;interacting&#160;<br/>with&#160;the&#160;AUTOSAR CAN Interface.&#160;<br/>
The&#160;&#160;next&#160;&#160;figure&#160;&#160;shows&#160;&#160;the&#160;&#160;interfaces&#160;&#160;to&#160;&#160;adjacent&#160;&#160;modules&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM.&#160;&#160;These&#160;<br/>interfaces&#160;are&#160;described&#160;in&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#50">&#160;5, ‘API&#160;Description’.</a>&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
1&#160;Not covered&#160;by&#160;this&#160;document.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
14&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-15_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-15_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>class&#160;Architecture</b><br/>
<b>Det</b><br/>
<b>Dem</b><br/>
<b>Nm</b><br/>
<b>PduR</b><br/>
0..1<br/>
0..1<br/>
1<br/>
1<br/>
0..1<br/>
0..1<br/>
<b>EcuM</b><br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
0..1<br/>
1<br/>
<b>CanNm</b><br/>
0..1<br/>
1<br/>
<b>SchM</b><br/>
1<br/>
0..1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
0..1<br/>
1<br/>
1<br/>
<b>CanSM</b><br/>
<b>CanIf</b><br/>
&#160;<br/>
Figure&#160;2-2&#160;<br/>
Interface&#160;to&#160;Adjacent&#160;Modules&#160;of&#160;the&#160;CAN&#160;NM&#160;<br/>
Applications&#160;do&#160;not&#160;access&#160;the&#160;services&#160;of&#160;the&#160;BSW&#160;modules&#160;directly.&#160;They&#160;use&#160;the&#160;service&#160;<br/>ports&#160;provided&#160;by&#160;the&#160;BSW&#160;modules&#160;via&#160;the&#160;RTE.&#160;Since&#160;the&#160;CAN&#160;NM&#160;has&#160;no&#160;service&#160;ports,&#160;<br/>the&#160;CAN&#160;NM&#160;cannot&#160;be&#160;accessed&#160;via&#160;RTE&#160;by&#160;the&#160;application.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
15&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-16_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-16_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>3.1&#160;</b><br/>
<b>Overview&#160;of the&#160;Functional&#160;Scope&#160;</b><br/>
The&#160;Network&#160;Management&#160;is&#160;a&#160;network&#160;comprehensive&#160;protocol&#160;that&#160;provides&#160;services&#160;for&#160;<br/>the&#160;organization&#160;of&#160;the&#160;network.&#160;It&#160;is&#160;a&#160;decentralized&#160;and&#160;direct&#160;network&#160;management.&#160;That&#160;<br/>means&#160;&#160;that&#160;&#160;every&#160;&#160;ECU&#160;&#160;transmits&#160;&#160;a&#160;&#160;special&#160;&#160;network&#160;&#160;management&#160;&#160;message,&#160;&#160;which&#160;&#160;is&#160;<br/>reserved&#160;for the&#160;network management&#160;only.&#160;<br/>
The&#160;features&#160;listed&#160;in&#160;the&#160;following&#160;tables&#160;cover&#160;the&#160;complete&#160;functionality&#160;specified&#160;for&#160;the&#160;<br/>CanNm.&#160;<br/>
The&#160;&#160;AUTOSAR&#160;&#160;standard&#160;&#160;functionality&#160;&#160;is&#160;&#160;specified&#160;&#160;in&#160;&#160;[3],&#160;&#160;the&#160;&#160;corresponding&#160;&#160;features&#160;&#160;are&#160;<br/>listed&#160;in&#160;the&#160;tables&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_Asr_CanNms.html#16">Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_Asr_CanNms.html#18">Table&#160;3-2&#160;&#160;&#160;Not&#160;supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;</a><br/>
Vector&#160;&#160;Informatik&#160;&#160;provides&#160;&#160;further&#160;&#160;CanNm&#160;&#160;functionality&#160;&#160;beyond&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;standard.&#160;<br/>The&#160;corresponding&#160;features&#160;are&#160;listed&#160;in&#160;the&#160;table&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_Asr_CanNms.html#20">Table&#160;3-3&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;</a><br/>
&#160;<br/>
The&#160;following&#160;features&#160;specified&#160;in&#160;[3]&#160;are&#160;supported:&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Standard&#160;Conform&#160;Features&#160;</b><br/>
Controlled&#160;transition&#160;of&#160;all&#160;ECUs&#160;to bus-sleep&#160;mode and vice versa.&#160;&#160;<br/>
User&#160;Data&#160;Handling&#160;<br/>
Node Detection&#160;<br/>
Remote&#160;Sleep Indication&#160;<br/>
Passive&#160;Mode Support&#160;<br/>
Multiple ECU&#160;Support&#160;<br/>
Multiple Configuration&#160;Support&#160;<br/>
NM&#160;User&#160;Data&#160;via Com&#160;<br/>
Active&#160;Wake-up&#160;Bit&#160;<br/>
Immediate&#160;Nm&#160;Transmissions&#160;<br/>
Car&#160;Wake-up&#160;<br/>
Partial&#160;Networking&#160;<br/>
Usage&#160;of&#160;PduInfoType&#160;<br/>
Table&#160;3-1&#160;&#160;<br/>
Supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
<b>3.1.1&#160;</b><br/>
<b>Deviations&#160;Against&#160;AUTOSAR 3.2.2&#160;</b><br/>
<b>3.1.1.1&#160;</b><br/>
<b>Initialization&#160;</b><br/>
If&#160;&#160;RAM&#160;&#160;is&#160;&#160;not&#160;&#160;implicitly&#160;&#160;initialized&#160;&#160;by&#160;&#160;the&#160;&#160;start-up&#160;&#160;code&#160;&#160;of&#160;&#160;the&#160;&#160;project,&#160;&#160;the&#160;&#160;function&#160;<br/>CanNm_InitMemory&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;called&#160;&#160;to&#160;&#160;ensure&#160;&#160;that&#160;&#160;all&#160;&#160;relevant&#160;variables&#160;&#160;are&#160;&#160;initialized&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
16&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-17_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-17_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
correctly&#160;&#160;(e.g.&#160;&#160;the&#160;&#160;state&#160;&#160;machine&#160;&#160;for&#160;&#160;checking&#160;&#160;if&#160;&#160;the&#160;&#160;module&#160;&#160;is&#160;&#160;initialized)&#160;&#160;as&#160;&#160;specified&#160;&#160;by&#160;<br/>AUTOSAR.&#160;&#160;<br/>
<b>3.1.1.2&#160;</b><br/>
<b>PDU&#160;ID Used as&#160;Argument&#160;for CanNm_TxConfirmation&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;specification&#160;&#160;[6]&#160;&#160;and&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;specification&#160;&#160;[3]&#160;&#160;have&#160;&#160;different&#160;<br/>interpretations&#160;&#160;belonging&#160;&#160;the&#160;&#160;value&#160;&#160;of&#160;&#160;the&#160;API&#160;&#160;parameter&#160;&#160;canNmTxPduId&#160;&#160;of&#160;&#160;the&#160;&#160;function&#160;<br/>CanNm_TxConfirmation.&#160;&#160;To&#160;&#160;avoid&#160;&#160;inconsistencies&#160;&#160;this&#160;&#160;implementation&#160;&#160;adopts&#160;&#160;the&#160;<br/>interpretation&#160;of&#160;the&#160;CAN&#160;Interface&#160;specification&#160;where&#160;this&#160;parameter&#160;refers&#160;not&#160;to&#160;the&#160;NM&#160;<br/>channel handle&#160;but&#160;to&#160;the&#160;PDU&#160;ID.&#160;<br/>
<b>3.1.1.3&#160;</b><br/>
<b>Dependencies&#160;between Configuration Parameters&#160;</b><br/>
Following&#160;&#160;additional&#160;&#160;dependencies&#160;&#160;between&#160;configuration&#160;parameters&#160;&#160;are&#160;&#160;added&#160;&#160;to&#160;avoid&#160;<br/>bad&#160;configurations:&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_COM_CONTROL_ENABLED&#160;must&#160;be&#160;set&#160;to&#160;STD_OFF&#160;for passive&#160;nodes.&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_NODE_DETECTION_ENABLED&#160;must&#160;be&#160;set&#160;to&#160;STD_OFF&#160;for passive&#160;nodes.&#160;<br/>
<b>3.1.1.4&#160;</b><br/>
<b>Coordinator Synchronization&#160;Support&#160;</b><br/>
There&#160;&#160;are&#160;APIs&#160;&#160;of&#160;&#160;the&#160;&#160;Coordinator&#160;&#160;Synchronization&#160;&#160;Support&#160;&#160;that&#160;&#160;are&#160;&#160;not&#160;&#160;supported.&#160;&#160;This&#160;<br/>includes:&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;usage&#160;of&#160;Nm_CoordReadyToSleepIndication&#160;(indication&#160;is&#160;done&#160;through&#160;<br/>
Nm_ActiveCoordIndication&#160;instead)&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;provision&#160;of&#160;the&#160;CanNm_SetSleepReadyBit&#160;function&#160;(CanNm_SetCoordBits&#160;<br/>
may&#160;be&#160;used&#160;instead&#160;to&#160;indicate&#160;the&#160;value&#160;of&#160;the&#160;Sleep&#160;Ready&#160;bit)&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;BSWMD parameter&#160;CanNmCoordinatorSyncSupport&#160;does&#160;not&#160;exist.&#160;Instead,&#160;<br/>
the&#160;preprocessor define&#160;in&#160;the&#160;code&#160;depends&#160;on&#160;the&#160;value&#160;of&#160;the&#160;corresponding&#160;<br/>parameter&#160;in&#160;the&#160;NM Interface.&#160;<br/>
<b>3.1.1.5&#160;</b><br/>
<b>NM&#160;User Data via&#160;Com&#160;</b><br/>
The&#160;<br/>
BSWMD&#160;<br/>
parameter&#160;<br/>
CanNmComUserDataSupport&#160;<br/>
is&#160;<br/>
called&#160;<br/>
CanNmComUserDataEnabled&#160;instead.&#160;<br/>
<b>3.1.1.6&#160;</b><br/>
<b>Active&#160;Wake-up Bit&#160;Support&#160;</b><br/>
The&#160;&#160;BSWMD&#160;&#160;parameter&#160;&#160;CanNmActiveWakeupBitEnabled&#160;&#160;is&#160;&#160;not&#160;&#160;located&#160;&#160;inside&#160;&#160;the&#160;<br/>CanNmGlobalConfig&#160;container but&#160;inside&#160;CanNmChannelConfig&#160;container.&#160;<br/>
<b>3.1.1.7&#160;</b><br/>
<b>Redundant BSWMD Parameters&#160;</b><br/>
The&#160;&#160;following&#160;&#160;BSWMD&#160;&#160;parameters&#160;&#160;are&#160;&#160;redundant&#160;&#160;to&#160;&#160;other&#160;&#160;parameters,&#160;&#160;but&#160;&#160;are&#160;<br/>nevertheless&#160;mandatory&#160;since&#160;they&#160;were mandatory&#160;in&#160;previous versions of&#160;[3]:&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;multiplicity&#160;of&#160;the&#160;CanNmNumberOfChannels&#160;parameter is 1..1,&#160;but&#160;should&#160;be&#160;<br/>
0..1&#160;instead&#160;according&#160;to&#160;[3].&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;multiplicity&#160;of&#160;the&#160;CanNmUserDataLentgh2&#160;parameter is 1..1,&#160;but&#160;should&#160;be&#160;0..1&#160;<br/>
instead&#160;according&#160;to&#160;[3].&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
2&#160;Typo&#160;is&#160;intended (parameter&#160;name according&#160;to&#160;AUTOSAR)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
17&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-18_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-18_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3.1.1.8&#160;</b><br/>
<b>Unsupported Features&#160;</b><br/>
The&#160;following&#160;features&#160;specified&#160;in&#160;[3]&#160;are&#160;not&#160;supported:&#160;<br/>
<b>Not&#160;Supported&#160;AUTOSAR&#160;Standard&#160;Conform&#160;Features&#160;</b><br/>
-&#160;<br/>
Table&#160;3-2&#160;&#160;<br/>
Not&#160;supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
<b>3.1.2&#160;</b><br/>
<b>Additions/&#160;Extensions&#160;</b><br/>
The&#160;following&#160;extensions&#160;of&#160;&#160;the&#160;CAN&#160;NM&#160;software&#160;&#160;specifications&#160;([3])&#160;are&#160;available&#160;within&#160;<br/>the&#160;&#160;Network&#160;&#160;Management&#160;&#160;embedded&#160;&#160;software&#160;&#160;components.&#160;&#160;If&#160;&#160;required,&#160;&#160;the&#160;&#160;extensions&#160;<br/>have&#160;to&#160;be&#160;enabled&#160;during&#160;configuration.&#160;<br/>
<b>3.1.2.1&#160;</b><br/>
<b>Link-Time&#160;Support for&#160;Channels&#160;</b><br/>
In&#160;[3]&#160;the&#160;number&#160;of&#160;channels&#160;is&#160;a&#160;pre-compile&#160;parameter&#160;and&#160;cannot&#160;be&#160;changed&#160;at&#160;link-<br/>time.&#160;For&#160;a&#160;better&#160;library&#160;support&#160;it&#160;must&#160;be&#160;possible&#160;to&#160;change&#160;the&#160;number&#160;of&#160;channels&#160;at&#160;<br/>link-time.&#160;Therefore&#160;the&#160;implementation&#160;of&#160;the&#160;CAN&#160;NM&#160;supports&#160;link-time&#160;changes&#160;of&#160;the&#160;<br/>channels.&#160;<br/>
<b>3.1.2.2&#160;</b><br/>
<b>Single&#160;Channel&#160;Optimization&#160;</b><br/>
For&#160;single&#160;channel&#160;systems&#160;it&#160;is&#160;possible&#160;to&#160;optimize&#160;the&#160;source&#160;code&#160;for&#160;saving&#160;precious&#160;<br/>resources&#160;&#160;(ROM,&#160;&#160;RAM&#160;&#160;and&#160;&#160;CPU&#160;&#160;load).&#160;&#160;This&#160;&#160;optimization&#160;&#160;is&#160;&#160;only&#160;&#160;possible&#160;&#160;when&#160;&#160;source&#160;<br/>code&#160;&#160;is&#160;&#160;available.&#160;&#160;For&#160;&#160;the&#160;&#160;configuration&#160;&#160;please&#160;&#160;refer&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#84">6.3.1&#160;&#160;‘Component&#160;<br/>Configuration’.</a>&#160;<br/>
Please&#160;&#160;note&#160;&#160;that&#160;&#160;single&#160;&#160;channel&#160;&#160;optimization&#160;&#160;can&#160;&#160;only&#160;&#160;be&#160;&#160;enabled&#160;&#160;in&#160;&#160;pre-compile&#160;<br/>configurations.&#160;The&#160;value&#160;must&#160;not&#160;be&#160;changed&#160;at&#160;link-time.&#160;If&#160;single-channel&#160;optimization&#160;<br/>is&#160;enabled&#160;and&#160;the&#160;configuration&#160;variant&#160;is&#160;link-time&#160;the&#160;number&#160;of&#160;CAN&#160;NM&#160;channels&#160;must&#160;<br/>not&#160;be&#160;changed.&#160;<br/>
<b>3.1.2.3&#160;</b><br/>
<b>Memory&#160;Initialization&#160;</b><br/>
AUTOSAR&#160;&#160;expects&#160;&#160;the&#160;&#160;start-up&#160;&#160;code&#160;&#160;to&#160;&#160;automatically&#160;&#160;initialize&#160;&#160;RAM.&#160;&#160;Due&#160;&#160;to&#160;&#160;not&#160;&#160;every&#160;<br/>startup&#160;code&#160;of&#160;embedded&#160;targets&#160;reinitializes&#160;all&#160;variables&#160;correctly&#160;it&#160;may&#160;happen&#160;that&#160;the&#160;<br/>state&#160;&#160;of&#160;&#160;a&#160;&#160;variable&#160;&#160;may&#160;&#160;be&#160;&#160;not&#160;&#160;initialized,&#160;&#160;when&#160;&#160;this&#160;&#160;should&#160;&#160;be&#160;&#160;the&#160;&#160;case.&#160;&#160;To&#160;&#160;avoid&#160;&#160;this&#160;<br/>problem&#160;&#160;the&#160;&#160;Vector&#160;AUTOSAR&#160;&#160;NM&#160;&#160;provides&#160;&#160;additional&#160;&#160;functions&#160;&#160;to&#160;&#160;initialize&#160;&#160;the&#160;&#160;relevant&#160;<br/>variables&#160;of&#160;the&#160;CAN&#160;NM.&#160;<br/>
Refer also&#160;to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#71">r&#160;5.5.3.1&#160;‘CanNm_InitMemory:&#160;Memory&#160;Initialization’.</a>&#160;<br/>
<b>3.1.2.4&#160;</b><br/>
<b>Error&#160;Reporting to Diagnostic&#160;Event&#160;Manager&#160;</b><br/>
According&#160;to&#160;the&#160;AUTOSAR&#160;specifications&#160;error&#160;reporting&#160;to&#160;the&#160;Diagnostic&#160;Event&#160;Manager&#160;<br/>is&#160;&#160;mandatory.&#160;&#160;If&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;NM&#160;&#160;is&#160;&#160;used&#160;&#160;in&#160;&#160;environments&#160;&#160;without&#160;&#160;a&#160;&#160;Diagnostic&#160;&#160;Event&#160;<br/>Manager&#160;&#160;it&#160;&#160;should&#160;&#160;be&#160;&#160;possible&#160;&#160;to&#160;&#160;deactivate&#160;&#160;the&#160;&#160;error&#160;&#160;reporting.&#160;&#160;Therefore&#160;&#160;the&#160;&#160;switch&#160;<br/>CANNM_PROD_ERROR_DETECT&#160;&#160;has&#160;&#160;been&#160;&#160;added&#160;&#160;(refer&#160;&#160;also&#160;&#160;to&#160;&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#84">r&#160;&#160;6.3.1&#160;&#160;‘Component&#160;<br/>Configuration’)</a>.&#160;<br/>
<b>3.1.2.5&#160;</b><br/>
<b>Disable&#160;Transmission Error&#160;Reporting&#160;</b><br/>
The&#160;&#160;error&#160;&#160;reporting&#160;&#160;for&#160;&#160;the&#160;&#160;following&#160;&#160;transmission&#160;&#160;errors&#160;&#160;can&#160;&#160;be&#160;&#160;disabled&#160;&#160;(refer&#160;&#160;also&#160;&#160;to&#160;<br/>chapte<a href="TechnicalReference_Asr_CanNms.html#84">r&#160;6.3.1&#160;‘Component&#160;Configuration’)</a>:&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_E_DEV_NETWORK_TIMEOUT&#160;(DET)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
18&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-19_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-19_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_E_NETWORK_TIMEOUT&#160;(DEM)&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_E_CANIF_TRANSMIT_ERROR&#160;(DEM)&#160;<br/>
<b>3.1.2.6&#160;</b><br/>
<b>Limp&#160;Home&#160;Indication&#160;</b><br/>
This&#160;&#160;additional&#160;feature&#160;&#160;allows&#160;&#160;the&#160;detection&#160;and&#160;&#160;cancellation&#160;&#160;of&#160;&#160;Limp&#160;&#160;Home,&#160;&#160;i.e.&#160;&#160;if&#160;&#160;no&#160;&#160;NM&#160;<br/>message&#160;could&#160;be&#160;received&#160;and&#160;transmitted&#160;for&#160;a&#160;certain&#160;amount&#160;of&#160;time&#160;(see&#160;also&#160;chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#30">3.10&#160;&#160;‘Limp&#160;&#160;Home&#160;&#160;Indication&#160;&#160;and&#160;&#160;Cancellation’)</a>.&#160;&#160;Please&#160;&#160;note&#160;&#160;that&#160;&#160;this&#160;&#160;feature&#160;&#160;is&#160;&#160;OEM-<br/>specific&#160;and&#160;not&#160;&#160;available&#160;&#160;by&#160;default.&#160;&#160;If&#160;available&#160;&#160;it&#160;can&#160;be&#160;activated&#160;or&#160;deactivated&#160;in&#160;&#160;the&#160;<br/>configuration.&#160;Also&#160;refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#80">r&#160;6&#160;‘Configuration’.</a>&#160;<br/>
<b>3.1.2.7&#160;</b><br/>
<b>Extended Remote&#160;Sleep Indication&#160;</b><br/>
This&#160;additional&#160;feature&#160;allows&#160;checking&#160;the&#160;remote&#160;sleep&#160;state&#160;also&#160;in&#160;the&#160;Repeat&#160;Message&#160;<br/>state&#160;&#160;(see&#160;&#160;also&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#30">3.9.2&#160;&#160;‘Extended&#160;&#160;Remote&#160;&#160;Sleep&#160;&#160;Indication&#160;&#160;and&#160;&#160;Cancellation’)</a>.&#160;<br/>Please&#160;note&#160;that&#160;this&#160;feature is&#160;OEM-specific and&#160;not&#160;available&#160;by&#160;default.&#160;If&#160;available&#160;it can&#160;<br/>be&#160;activated&#160;or&#160;deactivated&#160;in&#160;the&#160;configuration.&#160;Also&#160;refer to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#80">&#160;6&#160;‘Configuration’</a>.&#160;<br/>
<b>3.1.2.8&#160;</b><br/>
<b>Multiple&#160;ECU&#160;Support&#160;</b><br/>
The&#160;CAN&#160;NM&#160;supports&#160;Multiple&#160;ECU&#160;configuration&#160;when&#160;the&#160;configuration&#160;in&#160;GENy&#160;is&#160;done&#160;<br/>with&#160;an&#160;AUTOSAR&#160;ECU&#160;configuration&#160;file.&#160;Refer&#160;to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#33">r&#160;3.13&#160;‘Multiple&#160;ECU&#160;Support’&#160;</a>for&#160;<br/>more information.&#160;<br/>
<b>3.1.2.9&#160;</b><br/>
<b>QNX&#160;Support&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;supports&#160;&#160;context&#160;&#160;switch.&#160;&#160;Refer&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#37">3.16&#160;&#160;‘QNX&#160;&#160;Support’</a>&#160;&#160;for&#160;&#160;more&#160;<br/>information.&#160;<br/>
<b>3.1.2.10&#160;&#160;Extended Bus&#160;Synchronization&#160;</b><br/>
The&#160;<br/>
CAN&#160;<br/>
NM&#160;<br/>
supports&#160;<br/>
the&#160;<br/>
possibility&#160;<br/>
to&#160;<br/>
enable&#160;<br/>
the&#160;<br/>
API&#160;<br/>
‘CanNm_RequestBusSynchronization’&#160;&#160;additionally.&#160;&#160;More&#160;&#160;details&#160;&#160;can&#160;&#160;be&#160;&#160;found&#160;&#160;in&#160;<br/>chapte<a href="TechnicalReference_Asr_CanNms.html#38">r&#160;3.17&#160;‘Extended&#160;Bus&#160;Synchronization’.</a>&#160;<br/>
<b>3.1.2.11&#160;&#160;Gateway&#160;Extension Support&#160;<br/></b>The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;provides&#160;&#160;support&#160;&#160;for&#160;&#160;the&#160;&#160;‘Gateway&#160;&#160;Extension’&#160;&#160;functionality&#160;&#160;in&#160;&#160;the&#160;&#160;NM&#160;<br/>Interface.&#160;Refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#38">r&#160;3.18&#160;‘Gateway&#160;Extension&#160;Support’&#160;</a>for&#160;further information.&#160;<br/>
<b>3.1.2.12&#160;&#160;Dem2Det Enabled&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;provides&#160;&#160;support&#160;&#160;for&#160;&#160;the&#160;&#160;different&#160;&#160;Dem/Det&#160;&#160;error&#160;&#160;requirements&#160;&#160;specified&#160;&#160;in&#160;<br/>AUTOSAR&#160;&#160;Release&#160;&#160;3.0,&#160;&#160;3.1&#160;&#160;and&#160;&#160;3.2.&#160;&#160;Refer&#160;&#160;to&#160;&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#32">r&#160;&#160;3.12&#160;&#160;‘Error&#160;&#160;Handling’</a>&#160;&#160;for&#160;&#160;further&#160;<br/>information.&#160;<br/>
<b>3.1.2.13&#160;&#160;Message&#160;Reception with Different&#160;PDU&#160;Lengths&#160;</b><br/>
The&#160;CAN&#160;NM&#160;supports&#160;the&#160;reception&#160;of&#160;PDUs&#160;with&#160;different&#160;lengths.&#160;Refer&#160;to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#28">r&#160;3.5.5&#160;<br/>‘Support&#160;for RX&#160;PDUs&#160;with&#160;Different&#160;Lengths’</a>&#160;for&#160;further information.&#160;<br/>
<b>3.1.2.14&#160;&#160;Deactivation of&#160;Partial&#160;Networking during&#160;Run-Time&#160;</b><br/>
The&#160;FlexRay&#160;NM&#160;supports&#160;the&#160;deactivation&#160;of&#160;Partial&#160;Networking&#160;during&#160;run-time.&#160;Refer&#160;to&#160;<br/>chapte<a href="TechnicalReference_Asr_CanNms.html#44">r&#160;3.23.6&#160;</a>and&#160;5.4.3.2&#160;for details.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
19&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-20_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-20_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-20_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3.1.2.15&#160;</b><br/>
<b>Features&#160;Provided Beyond the&#160;AUTOSAR&#160;Standard&#160;</b><br/>
The&#160;following&#160;features&#160;are provided&#160;beyond&#160;the&#160;AUTOSAR standard:&#160;<br/>
<b>Features&#160;Provided&#160;Beyond&#160;The&#160;AUTOSAR&#160;Standard&#160;</b><br/>
Link-Time&#160;Support&#160;for&#160;Channels&#160;<br/>
Single Channel&#160;Optimization&#160;<br/>
Memory&#160;Initialization&#160;<br/>
Error&#160;Reporting&#160;to&#160;the&#160;Diagnostic&#160;Event&#160;Manager&#160;<br/>
Disable&#160;Transmission&#160;Error&#160;Reporting&#160;<br/>
Limp Home&#160;Indication&#160;<br/>
Extended Remote&#160;Sleep&#160;Indication&#160;<br/>
Multiple ECU&#160;Support&#160;<br/>
QNX&#160;Support&#160;<br/>
Extended Bus Synchronization&#160;<br/>
Gateway&#160;Extension&#160;Support&#160;<br/>
Dem2Det&#160;Enabled&#160;<br/>
Message Reception&#160;with Different&#160;PDU&#160;Lengths&#160;<br/>
AUTOSAR&#160;Monitoring and Debugging Run-Time&#160;Measurement&#160;<br/>
Deactivation of&#160;Partial&#160;Networking&#160;during&#160;Run-Time&#160;<br/>
Table&#160;3-3&#160;&#160;<br/>
Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Some&#160;of&#160;these additional&#160;non-AUTOSAR&#160;features&#160;are&#160;only&#160;available if&#160;they&#160;are&#160;<br/>
&#160;&#160;explicitly&#160;ordered&#160;by&#160;the&#160;customer.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.1.3&#160;</b><br/>
<b>Limitations&#160;</b><br/>
<b>3.1.3.1&#160;</b><br/>
<b>Ranges&#160;of Timers&#160;</b><br/>
The&#160;ranges&#160;for the&#160;following&#160;timers are&#160;limited&#160;concerning&#160;the&#160;specified&#160;range:&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Timeout&#160;Timer:&#160;1..65535&#160;ms&#160;<br/>
<b>&gt;&#160;&#160;</b>Remote&#160;Sleep&#160;Indication&#160;Timer:&#160;1..65535&#160;ms&#160;(if&#160;remote&#160;sleep&#160;indication&#160;is enabled)&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;message&#160;Cycle&#160;Time:&#160;1..65535&#160;ms&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;message&#160;Reduced&#160;Time:&#160;1..65535&#160;ms&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;message&#160;Tx&#160;Timeout&#160;Time:&#160;1..65535&#160;ms&#160;<br/>
All&#160;timers&#160;should&#160;be&#160;multiples of&#160;the&#160;main&#160;functions cycle&#160;time.&#160;<br/>
The&#160;following&#160;provides a&#160;detailed&#160;description&#160;of&#160;the&#160;functional scope.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
20&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-21_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-21_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-21_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-21_4.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3.2&#160;</b><br/>
<b>Network&#160;Management Mechanism&#160;</b><br/>
As&#160;&#160;described&#160;&#160;above&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;NM&#160;&#160;is&#160;&#160;a&#160;&#160;decentralized&#160;&#160;direct&#160;&#160;network&#160;&#160;management.&#160;<br/>This&#160;&#160;means&#160;&#160;that&#160;&#160;every&#160;&#160;network&#160;&#160;node&#160;&#160;has&#160;&#160;the&#160;&#160;same&#160;&#160;functionality&#160;&#160;and&#160;&#160;performs&#160;&#160;state&#160;&#160;and&#160;<br/>operation&#160;&#160;mode&#160;&#160;changes&#160;&#160;self-sufficient&#160;&#160;depending&#160;&#160;on&#160;&#160;the&#160;&#160;internal&#160;&#160;state&#160;&#160;and&#160;&#160;whether&#160;<br/>network management&#160;messages&#160;are still received.&#160;<br/>
The&#160;network management&#160;mechanism&#160;is quite&#160;simple:&#160;<br/>
<b>&gt;&#160;&#160;</b>Every&#160;network node&#160;transmits&#160;its&#160;NM&#160;messages only&#160;as long&#160;as it&#160;needs&#160;to&#160;<br/>
communicate&#160;with&#160;other network nodes.&#160;Normally&#160;bus-communication&#160;is required&#160;as&#160;<br/>long&#160;as KL15&#160;is set&#160;or during&#160;follow-up.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;there is&#160;no&#160;more&#160;network node&#160;in&#160;the&#160;whole&#160;network that&#160;need&#160;to&#160;communicate&#160;with&#160;<br/>
other&#160;network nodes,&#160;any&#160;node&#160;transmits no&#160;more NM&#160;messages.&#160;<br/>
<b>&gt;&#160;&#160;</b>Each&#160;network node&#160;performs a&#160;transition&#160;to&#160;bus-sleep&#160;mode&#160;a&#160;certain&#160;time&#160;after the&#160;<br/>
last&#160;NM message&#160;has&#160;been&#160;transmitted&#160;by&#160;any&#160;node.&#160;Therefore&#160;all&#160;nodes will go&#160;to&#160;<br/>bus-sleep&#160;mode&#160;together.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;any&#160;network node&#160;requires bus-communication&#160;at&#160;any&#160;time&#160;it&#160;can&#160;wake&#160;up&#160;the&#160;whole&#160;<br/>
network by&#160;transmitting&#160;NM messages.&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>The&#160;transmission&#160;of&#160;application&#160;messages,&#160;e.g.&#160;transmitted&#160;by&#160;the&#160;Com,&#160;does&#160;not&#160;stop&#160;<br/>
&#160;<br/>
immediately&#160;after&#160;the&#160;last&#160;NM&#160;message&#160;has&#160;been&#160;transmitted.&#160;<br/>
&#160;<br/>
<b>FAQ</b>&#160;<br/>The&#160;application is in&#160;charge&#160;of&#160;the&#160;decision&#160;whether&#160;the&#160;bus&#160;communication&#160;is&#160;required&#160;<br/>
&#160;<br/>
or&#160;not.&#160;<br/>
&#160;<br/>
The&#160;following&#160;figure&#160;shows&#160;the&#160;state&#160;diagram&#160;of&#160;the&#160;CAN&#160;NM.&#160;The&#160;events&#160;are&#160;calls&#160;of&#160;CAN&#160;<br/>NM&#160;functions&#160;by&#160;the&#160;application&#160;or data&#160;link&#160;layer or the&#160;timeout&#160;of&#160;internal timers.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
21&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-22_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-22_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>stm&#160;State&#160;Machine</b><br/>
Nm&#160;Message&#160;received&#160;or&#160;transmitted<br/>/Restart&#160;NM&#160;Timeout&#160;Timer<br/>
<b>Netw&#160;ork&#160;Mode</b><br/>
<b>Ready&#160;Sleep</b><br/>
Repeat&#160;Message&#160;Timer&#160;expires&#160;[Network&#160;released]<br/>/Stop&#160;Transmission&#160;of&#160;NM<br/>
NM&#160;Timeout&#160;Timer&#160;expires<br/>/Start&#160;NM&#160;Timeout&#160;Timer<br/>Notify&#160;NetworkTimeout<br/>
Repeat&#160;Message&#160;Request&#160;or<br/>Repeat&#160;Msg&#160;Bit&#160;Indication<br/>
<b>Repeat&#160;Message</b><br/>
/Start&#160;Transmission&#160;of&#160;NM<br/>
Network&#160;released<br/>/Stop<br/>Transmission&#160;of<br/>NM<br/>
Network&#160;requested<br/>
Repeat&#160;Message&#160;Timer<br/>
/Start<br/>
expires&#160;[Network&#160;requested]<br/>
Transmission&#160;of<br/>NM<br/>
NM&#160;Timeout&#160;Timer<br/>expires<br/>/Notify<br/>
Repeat&#160;Message&#160;Request&#160;or<br/>
PrepareBus-SleepMode<br/>
Repeat&#160;Msg&#160;Bit&#160;Indication<br/>
<b>Normal&#160;Operation</b><br/>
/Start&#160;Transmission&#160;of&#160;NM<br/>
Network&#160;requested&#160;or<br/>PassiveStartUp<br/>/Start&#160;NM&#160;Timeout<br/>Timer<br/>
Network&#160;requested/PassiveStartUp/Rx&#160;Nm&#160;Msg<br/>
Notify&#160;NetworkMode<br/>
/Start&#160;NM&#160;Timeout&#160;Timer<br/>
Start&#160;Transmission&#160;of&#160;NM<br/>
Notify&#160;NetworkMode<br/>
messages<br/>
Start&#160;Transmission&#160;of&#160;NM&#160;messages<br/>
NM&#160;Timeout&#160;Timer&#160;expires<br/>
Can_TriggerTransmission&#160;(immediate&#160;restart&#160;+<br/>
/Start&#160;NM&#160;Timeout&#160;Timer<br/>
Nw&#160;Req&#160;only)<br/>
Notify&#160;NetworkTimeout<br/>
<b>Bus-Sleep&#160;Mode</b><br/>
<b>Prepare-Bus-Sleep&#160;Mode</b><br/>
/Initialize&#160;NM<br/>
Power&#160;On<br/>
Wait&#160;Bus&#160;Sleep&#160;Timer&#160;expires<br/>/Notify&#160;Nm_BusSleep&#160;Mode<br/>
Nm&#160;Msg&#160;received<br/>
Power&#160;Off<br/>
/Notify&#160;NetworkStart&#160;Indication<br/>
&#160;<br/>
Figure&#160;3-1&#160;<br/>
State&#160;Diagram&#160;of&#160;CAN&#160;NM&#160;from&#160;SWS&#160;CAN&#160;NM&#160;[3]&#160;<br/>
<b>3.3&#160;</b><br/>
<b>Passive&#160;Mode&#160;</b><br/>
Nodes&#160;in&#160;passive&#160;mode&#160;cannot&#160;transmit&#160;NM&#160;messages&#160;and&#160;therefore&#160;they&#160;do&#160;not&#160;actively&#160;<br/>participate&#160;in&#160;the&#160;network.&#160;Due&#160;to&#160;that,&#160;passive&#160;nodes&#160;cannot&#160;request&#160;the&#160;network&#160;and&#160;they&#160;<br/>change&#160;&#160;immediately&#160;&#160;from&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;State&#160;&#160;to&#160;&#160;Ready&#160;&#160;Sleep&#160;&#160;State,&#160;&#160;i.e.&#160;&#160;the&#160;&#160;repeat&#160;<br/>message&#160;time&#160;is configured&#160;to&#160;zero.&#160;<br/>
This&#160;&#160;mode&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;for&#160;&#160;nodes&#160;&#160;that&#160;&#160;do&#160;&#160;not&#160;&#160;need&#160;&#160;to&#160;&#160;keep&#160;&#160;the&#160;&#160;bus&#160;&#160;awake&#160;&#160;to&#160;&#160;save&#160;<br/>resources.&#160;&#160;<br/>
<b>3.4&#160;</b><br/>
<b>Operation Modes&#160;and&#160;States&#160;</b><br/>
The&#160;AUTOSAR NM&#160;consists of&#160;three&#160;operation&#160;modes:&#160;<br/>
<b>&gt;&#160;&#160;</b>Network Mode&#160;<br/>
<b>&gt;&#160;&#160;</b>Prepare&#160;Bus-Sleep&#160;Mode&#160;<br/>
<b>&gt;&#160;&#160;</b>Bus-Sleep&#160;Mode&#160;<br/>
The&#160;NM&#160;Interface&#160;is&#160;notified&#160;about&#160;changes&#160;of&#160;the&#160;operation&#160;mode&#160;by&#160;calling&#160;the&#160;following&#160;<br/>functions:&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
22&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-23_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-23_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-23_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
Entering&#160;Bus-Sleep Mode:&#160;<br/>void&#160;<b>Nm_BusSleepMode</b>&#160;(<b>&#160;</b>const&#160;NetworkHandleType&#160;nmChannelHandle&#160;<br/>)&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
Entering&#160;Network&#160;Mode:&#160;<br/>void&#160;<b>Nm_NetworkMode</b>&#160;(<b>&#160;</b>const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
Leaving&#160;Network&#160;Mode:&#160;<br/>void&#160;<b>Nm_PrepareBusSleepMode</b>&#160;(<b>&#160;<br/></b>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
Information&#160;&#160;about&#160;&#160;the&#160;&#160;current&#160;&#160;state&#160;&#160;and&#160;&#160;the&#160;&#160;current&#160;&#160;mode&#160;&#160;is&#160;&#160;provided&#160;&#160;by&#160;&#160;the&#160;&#160;service&#160;&#160;call&#160;<br/>CanNm_GetState&#160;(chapter<a href="TechnicalReference_Asr_CanNms.html#55">&#160;5.5.2.2).</a>&#160;<br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;notifies&#160;&#160;changes&#160;&#160;of&#160;&#160;the&#160;&#160;current&#160;&#160;state&#160;&#160;to&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;by&#160;&#160;calling&#160;&#160;the&#160;<br/>optional&#160;function&#160;<br/>
void&#160;<b>Nm_StateChangeNotification&#160;</b>(&#160;&#160;<br/>
&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle,&#160;<br/>
&#160;<br/>
const Nm_StateType nmPreviousState,&#160;<br/>
&#160;&#160;const Nm_StateType nmCurrentState )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
<b>3.4.1&#160;</b><br/>
<b>Network&#160;Mode&#160;</b><br/>
The&#160;Network Mode&#160;comprises three&#160;states:&#160;<br/>
<b>&gt;&#160;&#160;</b>Repeat&#160;Message&#160;<br/>
<b>&gt;&#160;&#160;</b>Normal Operation&#160;<br/>
<b>&gt;&#160;&#160;</b>Ready&#160;Sleep&#160;<br/>
This&#160;&#160;is&#160;&#160;the&#160;&#160;mode&#160;&#160;in&#160;&#160;that&#160;&#160;the&#160;&#160;ECU&#160;&#160;is&#160;&#160;‘online’&#160;&#160;and&#160;&#160;participates&#160;&#160;in&#160;&#160;the&#160;&#160;network.&#160;&#160;The&#160;<br/>participation&#160;in&#160;the&#160;network is active&#160;or passive&#160;depending&#160;on&#160;the&#160;state:&#160;<br/>
<b>&gt;&#160;&#160;</b>Active&#160;participation:&#160;a&#160;node&#160;keeps the&#160;network awake&#160;(Repeat&#160;Message&#160;State&#160;and&#160;<br/>
Normal Operation&#160;State).&#160;<br/>
<b>&gt;&#160;&#160;</b>Passive&#160;participation:&#160;a&#160;node&#160;is ready&#160;for sleep&#160;(Ready&#160;Sleep&#160;State) and&#160;any&#160;other&#160;<br/>
node&#160;keeps the&#160;network alive.&#160;<br/>
The&#160;application&#160;is notified&#160;about&#160;entering&#160;the&#160;Network Mode&#160;by&#160;a&#160;call of&#160;the&#160;function:&#160;<br/>
void&#160;<b>Nm_NetworkMode&#160;</b>( const&#160;NetworkHandleType&#160;nmChannelHandle )<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
The&#160;&#160;NM&#160;&#160;Interface&#160;&#160;notifies&#160;&#160;leaving&#160;&#160;the&#160;&#160;Network&#160;&#160;Mode&#160;&#160;to&#160;&#160;the&#160;&#160;application&#160;&#160;by&#160;&#160;a&#160;&#160;call&#160;&#160;of&#160;&#160;the&#160;<br/>function:&#160;<br/>
void&#160;<b>Nm_PrepareBusSleepMode</b>&#160;(<b>&#160;<br/></b>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
&#160;<br/>
<b>Info</b>&#160;<br/>The&#160;Com&#160;is&#160;active during&#160;Network&#160;Mode.&#160;It&#160;is&#160;started&#160;upon&#160;entry&#160;and&#160;stopped&#160;upon&#160;exit&#160;<br/>
&#160;<br/>
of&#160;Network&#160;Mode.&#160;I.e.&#160;application messages&#160;are&#160;transmitted&#160;and&#160;received&#160;within Network&#160;<br/>Mode!&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
23&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-24_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-24_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-24_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3.4.1.1&#160;</b><br/>
<b>Repeat Message&#160;State&#160;</b><br/>
The&#160;Repeat&#160;Message&#160;State&#160;is entered:&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;a&#160;NM&#160;message&#160;has&#160;been&#160;received&#160;in&#160;Prepare Bus-Sleep&#160;Mode.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;network has been&#160;requested&#160;by&#160;a&#160;call&#160;of&#160;CanNm_NetworkRequest&#160;in&#160;Bus-<br/>
Sleep&#160;or Prepare Bus-Sleep&#160;Mode.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;network is woken&#160;up&#160;from&#160;Bus-Sleep&#160;Mode&#160;or&#160;from&#160;Prepare Bus-Sleep&#160;Mode&#160;by&#160;<br/>
a&#160;call&#160;of&#160;CanNm_PassiveStartUp.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;any&#160;network node&#160;(including&#160;itself) has&#160;requested&#160;node&#160;detection&#160;in&#160;Ready&#160;Sleep&#160;or&#160;<br/>
Normal Operation&#160;State.&#160;<br/>
In&#160;Repeat&#160;Message&#160;State&#160;the&#160;NM&#160;messages&#160;are&#160;transmitted&#160;cyclically&#160;regardless&#160;whether&#160;<br/>bus load&#160;reduction&#160;is enabled&#160;or&#160;disabled.&#160;<br/>
The&#160;Repeat&#160;Message&#160;State&#160;is left&#160;after a&#160;certain&#160;customizable&#160;time.&#160;<br/>
Depending&#160;on&#160;the&#160;bus-communication&#160;need&#160;of&#160;the&#160;application&#160;Normal&#160;Operation&#160;State&#160;or&#160;<br/>Ready&#160;Sleep&#160;State&#160;is&#160;entered&#160;upon&#160;exit of&#160;Repeat&#160;Message&#160;State.&#160;<br/>
<b>3.4.1.2&#160;</b><br/>
<b>Normal&#160;Operation State&#160;</b><br/>
The&#160;network&#160;management&#160;stays&#160;in&#160;Normal&#160;Operation&#160;State&#160;until&#160;the&#160;bus-communication&#160;is&#160;<br/>released.&#160;&#160;The&#160;&#160;local&#160;&#160;bus-communication&#160;&#160;request&#160;&#160;of&#160;&#160;the&#160;&#160;application&#160;&#160;is&#160;&#160;distributed&#160;&#160;in&#160;&#160;the&#160;<br/>network by&#160;the&#160;transmission&#160;of&#160;NM&#160;messages.&#160;<br/>
<b>3.4.1.3&#160;</b><br/>
<b>Ready&#160;Sleep State&#160;</b><br/>
The&#160;network&#160;management&#160;stays&#160;in&#160;Ready&#160;Sleep&#160;State&#160;as&#160;long&#160;as&#160;the&#160;application&#160;does&#160;not&#160;<br/>request&#160;&#160;bus-communication&#160;&#160;and&#160;&#160;the&#160;&#160;application&#160;&#160;of&#160;&#160;any&#160;&#160;other&#160;&#160;node&#160;&#160;still&#160;&#160;requests&#160;&#160;bus-<br/>communication&#160;(by&#160;transmitting&#160;NM messages).&#160;<br/>
A&#160;certain&#160;customizable&#160;time&#160;after&#160;the&#160;last&#160;network&#160;node&#160;has&#160;released&#160;bus-communication&#160;a&#160;<br/>transition&#160;to&#160;Prepare&#160;Bus-Sleep&#160;Mode&#160;is performed&#160;(i.e.&#160;Network Mode&#160;is left).&#160;<br/>
<b>3.4.2&#160;</b><br/>
<b>Prepare&#160;Bus-Sleep Mode&#160;</b><br/>
The&#160;&#160;transmission&#160;&#160;of&#160;&#160;application&#160;&#160;messages&#160;&#160;is&#160;&#160;stopped&#160;&#160;when&#160;&#160;entering&#160;&#160;Prepare&#160;&#160;Bus-Sleep&#160;<br/>Mode.&#160;&#160;The&#160;&#160;bus&#160;&#160;activity&#160;&#160;is&#160;&#160;calmed&#160;&#160;down&#160;&#160;(pending&#160;&#160;message&#160;&#160;are&#160;&#160;still&#160;&#160;transmitted)&#160;&#160;in&#160;&#160;this&#160;<br/>mode&#160;and&#160;finally&#160;there&#160;is no&#160;more&#160;activity&#160;on&#160;the&#160;bus.&#160;<br/>
After&#160;the&#160;‘wait&#160;bus&#160;sleep&#160;time’&#160;the&#160;drop&#160;out&#160;of&#160;Prepare Bus-Sleep&#160;Mode&#160;to&#160;Bus-Sleep&#160;Mode&#160;<br/>the&#160;NM Interface&#160;is&#160;notified&#160;by&#160;the&#160;service&#160;call:&#160;<br/>
void&#160;<b>Nm_BusSleepMode&#160;</b>( const&#160;NetworkHandleType&#160;nmChannelHandle&#160;<br/>)&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>When entering&#160;Bus-Sleep Mode the&#160;physical&#160;bus&#160;interface&#160;has&#160;to&#160;be&#160;put&#160;in&#160;sleep&#160;mode.&#160;<br/>
&#160;<br/>
On CAN&#160;channels&#160;the&#160;transceiver&#160;and the&#160;CAN-Controller&#160;have&#160;to be&#160;put&#160;in sleep&#160;mode.&#160;<br/>This&#160;is&#160;done&#160;by&#160;the&#160;ComM.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
24&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-25_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-25_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-25_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
The&#160;Prepare&#160;Bus-Sleep&#160;Mode&#160;is&#160;left&#160;to&#160;Network&#160;Mode&#160;upon&#160;successful&#160;reception&#160;of&#160;a&#160;NM&#160;<br/>message&#160;or&#160;if&#160;the&#160;network&#160;has&#160;been&#160;requested&#160;by&#160;a&#160;call&#160;of&#160;CanNm_NetworkRequest&#160;or&#160;if&#160;<br/>the&#160;network has&#160;been&#160;woken&#160;up&#160;by&#160;a&#160;call&#160;of&#160;CanNm_PassiveStartUp.&#160;<br/>
<b>3.4.3&#160;</b><br/>
<b>Bus-Sleep Mode&#160;</b><br/>
All&#160;&#160;network&#160;&#160;nodes&#160;perform&#160;&#160;a&#160;&#160;transition&#160;to&#160;&#160;bus-sleep&#160;&#160;mode&#160;at&#160;&#160;almost&#160;&#160;the&#160;&#160;same&#160;&#160;time,&#160;&#160;if&#160;&#160;no&#160;<br/>NM&#160;message&#160;is lost&#160;and&#160;there hasn’t&#160;been&#160;a&#160;wake-up&#160;by&#160;any&#160;node.&#160;<br/>
The&#160;bus-sleep&#160;mode&#160;is left&#160;(wake-up) by&#160;a&#160;call of&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_PassiveStartUp&#160;</b>(&#160;&#160;<br/>
&#160;&#160;const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#56">(5.5.2.3)</a>&#160;<br/>
or if the&#160;network has been&#160;requested&#160;by&#160;a&#160;call of&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_NetworkRequest</b>&#160;(&#160;<br/>
&#160;&#160;const&#160;NetworkHandleType&#160;nmChannelHandle&#160;)&#160;&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#57">(5.5.2.4.1)</a>&#160;<br/>
In&#160;&#160;both&#160;&#160;cases&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;State&#160;&#160;will&#160;&#160;be&#160;&#160;entered&#160;&#160;(see&#160;&#160;Chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#24">3.4.1.1&#160;&#160;‘Repeat&#160;<br/>Message&#160;State’)</a>.&#160;<br/>
If&#160;a&#160;NM&#160;message&#160;is received&#160;in&#160;Bus-Sleep&#160;Mode&#160;the&#160;service&#160;<br/>
void&#160;<b>Nm_NetworkStartIndication</b>&#160;(<b>&#160;<br/></b>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
is called&#160;by&#160;CAN&#160;NM.&#160;<br/>
<b>3.4.4&#160;</b><br/>
<b>Wake-up Registration&#160;</b><br/>
The&#160;&#160;network&#160;&#160;management&#160;&#160;needs&#160;&#160;to&#160;&#160;know&#160;&#160;whether&#160;&#160;the&#160;&#160;application&#160;&#160;requires&#160;&#160;bus&#160;<br/>communication.&#160;&#160;Per&#160;&#160;default&#160;&#160;the&#160;&#160;network&#160;&#160;management&#160;&#160;does&#160;&#160;not&#160;&#160;actively&#160;&#160;participate&#160;&#160;in&#160;&#160;the&#160;<br/>network.&#160;The&#160;active&#160;participation&#160;in&#160;the&#160;network is requested&#160;by&#160;the&#160;service&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_NetworkRequest&#160;</b>(&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
&#160;<a href="TechnicalReference_Asr_CanNms.html#57">(5.5.2.4.1)</a>&#160;<br/>
Calling&#160;&#160;this&#160;&#160;function&#160;&#160;in&#160;&#160;Bus-Sleep&#160;&#160;Mode&#160;&#160;starts&#160;&#160;the&#160;&#160;network&#160;&#160;and&#160;&#160;leads&#160;&#160;to&#160;&#160;a&#160;&#160;transition&#160;&#160;to&#160;<br/>Repeat&#160;Message&#160;State&#160;(see&#160;Chapte<a href="TechnicalReference_Asr_CanNms.html#25">r&#160;3.4.3&#160;‘Bus-Sleep&#160;Mode’)</a>.&#160;<br/>
If&#160;bus&#160;communication&#160;is not&#160;required&#160;anymore it&#160;can&#160;be&#160;released&#160;with&#160;the&#160;service&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_NetworkRelease&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#58">(5.5.2.4.2)</a>&#160;<br/>
<b>Caution&#160;<br/></b>When&#160;the&#160;communication control&#160;service is used&#160;the&#160;bus-communication&#160;shall&#160;not&#160;be&#160;<br/>
&#160;&#160;released&#160;as&#160;long as&#160;the&#160;NM&#160;message&#160;transmission&#160;ability&#160;is&#160;disabled.&#160;<br/>
&#160;<br/>
Note&#160;that&#160;a&#160;bus-communication&#160;request&#160;is&#160;handled&#160;within&#160;the&#160;next&#160;task.&#160;&#160;Nevertheless&#160;it&#160;is&#160;<br/>ensured&#160;that&#160;a&#160;communication&#160;request&#160;always&#160;leads&#160;to&#160;start-up&#160;even&#160;if&#160;the&#160;communication&#160;<br/>is&#160;&#160;released&#160;&#160;before&#160;&#160;the&#160;&#160;next&#160;&#160;task&#160;&#160;is&#160;&#160;executed.&#160;&#160;Within&#160;&#160;Network&#160;&#160;Mode&#160;&#160;a&#160;&#160;fast&#160;&#160;toggling&#160;&#160;(i.e.&#160;<br/>without&#160;&#160;task&#160;&#160;execution&#160;&#160;in&#160;&#160;between)&#160;&#160;of&#160;&#160;the&#160;&#160;communication&#160;&#160;status&#160;&#160;does&#160;&#160;not&#160;&#160;lead&#160;&#160;to&#160;&#160;any&#160;<br/>action.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
25&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-26_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-26_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3.4.5&#160;</b><br/>
<b>User Data Handling&#160;</b><br/>
The&#160;user data&#160;for the&#160;NM&#160;message&#160;transmitted&#160;next&#160;on&#160;the&#160;bus can&#160;be&#160;set&#160;by&#160;the&#160;service:&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_SetUserData&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle,&#160;<br/>
&#160;<br/>
const uint8* nmUserDataPtr )&#160;&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#61">(5.5.2.6.1)</a>&#160;<br/>
The&#160;service&#160;&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_GetUserData&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle,&#160;<br/>
&#160;<br/>
uint8* nmUserDataPtr )&#160;&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#62">(5.5.2.6.2)</a>&#160;<br/>
allows reading&#160;the&#160;user data&#160;of&#160;the&#160;last&#160;received&#160;message&#160;on&#160;the&#160;bus.&#160;<br/>
As the&#160;NM PDU layout&#160;is completely&#160;configurable,&#160;the&#160;user&#160;data&#160;placement&#160;depends on&#160;<br/>the&#160;given&#160;configuration.&#160;&#160;<br/>The&#160;PDU&#160;layout&#160;and&#160;the&#160;content&#160;of&#160;the&#160;user data&#160;itself&#160;are&#160;OEM&#160;specific and&#160;therefore&#160;<br/>provided&#160;by&#160;the&#160;OEM.&#160;<br/>
Note&#160;that&#160;for setting&#160;of&#160;NM&#160;user data&#160;a&#160;second&#160;possibility&#160;can&#160;be&#160;configured.&#160;Refer to&#160;<br/>chapte<a href="TechnicalReference_Asr_CanNms.html#34">r&#160;3.15&#160;‘NM&#160;User&#160;Data&#160;via&#160;Com’&#160;</a>for more information.&#160;If&#160;the&#160;feature ‘NM&#160;User Data&#160;<br/>via&#160;Com’&#160;is used&#160;the&#160;API&#160;CanNm_SetUserData()&#160;is not&#160;available.&#160;<br/>
<b>3.5&#160;</b><br/>
<b>Network&#160;Management Message&#160;Transmission and Reception&#160;</b><br/>
<b>3.5.1&#160;</b><br/>
<b>AUTOSAR CAN&#160;Interface&#160;</b><br/>
The&#160;&#160;network&#160;&#160;management&#160;&#160;requests&#160;&#160;the&#160;&#160;transmission&#160;&#160;of&#160;&#160;NM&#160;&#160;messages&#160;&#160;by&#160;&#160;calling&#160;&#160;the&#160;<br/>service&#160;&#160;CanIf_Transmit.&#160;The&#160;application&#160;has&#160;to&#160;take&#160;care&#160;of&#160;&#160;the&#160;user&#160;data.&#160;For&#160;details&#160;<br/>refer to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#26">&#160;3.4.5&#160;‘User Data&#160;Handling’</a>.&#160;<br/>
The&#160;successful&#160;transmission&#160;of&#160;every&#160;network&#160;management&#160;message&#160;is&#160;confirmed&#160;by&#160;the&#160;<br/>CAN Interface&#160;with&#160;the&#160;service&#160;<br/>
void&#160;<b>CanNm_TxConfirmation&#160;</b>(&#160;PduIdType&#160;canNmTxPduId )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.7.1.2)</a>&#160;<br/>
The&#160;CAN&#160;Interface&#160;indicates the&#160;reception&#160;of&#160;NM&#160;message&#160;by&#160;calling&#160;the&#160;service&#160;&#160;<br/>
void&#160;<b>CanNm_RxIndication&#160;</b>(&#160;PduIdType&#160;canNmRxPduId,&#160;<br/>&#160;&#160;const&#160;PduInfoType*&#160;PduInfoPtr&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#75">(5.7.1.1)</a>&#160;<br/>
<b>3.5.2&#160;</b><br/>
<b>PDU&#160;Message&#160;Layout&#160;</b><br/>
The&#160;default PDU&#160;Message&#160;Layout&#160;is&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
&#160;<br/>
Bit&#160;7&#160;<br/>
Bit&#160;6&#160;<br/>
Bit&#160;5&#160;<br/>
Bit&#160;4&#160;<br/>
Bit&#160;3&#160;<br/>
Bit&#160;2&#160;<br/>
Bit&#160;1&#160;<br/>
Bit&#160;0&#160;<br/>
Byte 7&#160;<br/>
User data&#160;5&#160;<br/>
Byte 6&#160;<br/>
User data&#160;4&#160;<br/>
Byte 5&#160;<br/>
User&#160;data&#160;3&#160;<br/>
Byte 4&#160;<br/>
User data&#160;2&#160;<br/>
Byte 3&#160;<br/>
User data&#160;1&#160;<br/>
Byte 2&#160;<br/>
User data&#160;0&#160;<br/>
Byte 1&#160;<br/>
Source Node&#160;Identifier&#160;<br/>
Byte 0&#160;<br/>
Control&#160;Bit&#160;Vector&#160;<br/>
Table&#160;3-4&#160;&#160;<br/>
PDU&#160;NM&#160;Message&#160;Layout&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
26&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-27_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-27_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
The&#160;&#160;number&#160;&#160;of&#160;&#160;User&#160;&#160;Data&#160;&#160;Bytes&#160;&#160;as&#160;&#160;well&#160;&#160;as&#160;&#160;the&#160;&#160;positions&#160;&#160;of&#160;&#160;the&#160;&#160;Control&#160;&#160;Bit&#160;&#160;Vector&#160;&#160;and&#160;<br/>Source&#160;&#160;Node&#160;&#160;Identifier&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;arbitrarily&#160;&#160;but&#160;&#160;depend&#160;&#160;on&#160;&#160;the&#160;&#160;availability&#160;&#160;of&#160;&#160;the&#160;<br/>corresponding&#160;&#160;features&#160;&#160;(User&#160;&#160;Data&#160;&#160;Support&#160;&#160;/&#160;&#160;Node&#160;&#160;Detection&#160;&#160;of&#160;&#160;Coordinator&#160;&#160;Extension&#160;<br/>Support /&#160;Node&#160;Identifier).&#160;&#160;<br/>
Refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#82">r&#160;6.3&#160;‘Configuration&#160;with&#160;GENy’&#160;f</a>or&#160;more&#160;details about&#160;the&#160;configuration.&#160;<br/>
<b>3.5.3&#160;</b><br/>
<b>Message&#160;Transmissions&#160;</b><br/>
A&#160;standard&#160;sequence&#160;for&#160;NM&#160;message&#160;transmissions&#160;when&#160;Repeat&#160;Message&#160;is&#160;entered&#160;is&#160;<br/>depicted&#160;in<a href="TechnicalReference_Asr_CanNms.html#27">&#160;Figure&#160;3-2.</a>&#160;<br/>
Usual behavior without immediate transmissions<br/>
Bus Sleep or<br/>
Repeat Message<br/>
t<br/>
Prepare Bus Sleep<br/>
0<br/>
CanNm_PassiveStartUp or<br/>
CanNm_NetworkRequest<br/>
...<br/>
Msg Cycle Offset<br/>
Msg Cycle Time<br/>
Msg Cycle Time<br/>
NM Message Transmissions<br/>
&#160;<br/>
Figure&#160;3-2&#160;<br/>
Usual&#160;Behavior&#160;of&#160;NM&#160;Transmissions&#160;when&#160;Repeat&#160;Message&#160;is&#160;entered&#160;<br/>
The&#160;first&#160;NM&#160;message&#160;is&#160;transmitted&#160;when&#160;‘Msg&#160;Cycle&#160;Offset’&#160;ms&#160;has&#160;been&#160;elapsed&#160;after&#160;<br/>Repeat&#160;&#160;Message&#160;has&#160;been&#160;entered.&#160;The&#160;next&#160;&#160;NM&#160;message&#160;will&#160;be&#160;transmitted&#160;after&#160;Msg&#160;<br/>Cycle&#160;Time&#160;has&#160;been&#160;elapsed.&#160;The&#160;configuration&#160;settings that&#160;influence&#160;this&#160;behavior are:&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Msg&#160;Cycle&#160;Offset’:&#160;time&#160;before the&#160;transmission&#160;of&#160;the&#160;first&#160;NM&#160;message&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Msg&#160;Cycle&#160;Time’: time&#160;between&#160;each&#160;message&#160;transmission&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Immediate&#160;Restart Enabled’:&#160;if&#160;enabled,&#160;an&#160;additional NM&#160;message&#160;will&#160;be&#160;sent&#160;<br/>
immediately&#160;upon&#160;an&#160;active&#160;request&#160;(CanNm_NetworkRequest&#160;was called)&#160;from&#160;<br/>Prepare&#160;Bus&#160;Sleep&#160;to&#160;Repeat&#160;Message&#160;(see&#160;also&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#40">&#160;3.21) in&#160;</a>case&#160;‘Msg&#160;Cycle&#160;<br/>Offset’&#160;is greater than&#160;zero&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Immediate&#160;Nm&#160;Transmissions’: if&#160;this setting&#160;is greater than&#160;zero,&#160;an&#160;immediate&#160;NM&#160;<br/>
message&#160;will be&#160;sent&#160;when&#160;Repeat&#160;Message&#160;is entered&#160;due&#160;to&#160;an&#160;active&#160;request.&#160;The&#160;<br/>interval between&#160;NM messages will be&#160;different&#160;for&#160;the&#160;next&#160;(‘Immediate&#160;Nm&#160;<br/>Transmissions’&#160;-&#160;1) NM&#160;messages to&#160;be&#160;sent.&#160;Refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#39">r&#160;3.20&#160;</a>for more&#160;details.&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Repeat&#160;Message&#160;Time’: this setting&#160;determines&#160;for how&#160;long&#160;CanNm&#160;shall&#160;keep&#160;the&#160;<br/>
Repeat&#160;Message&#160;state.&#160;If&#160;the&#160;node&#160;has been&#160;requested&#160;passively,&#160;the&#160;next&#160;state&#160;will be&#160;<br/>Ready&#160;Sleep.&#160;<br/>
A&#160;detailed&#160;description&#160;of&#160;these&#160;configuration&#160;parameters is given&#160;in&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#84">r&#160;6.3.1&#160;</a>and&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#90">6.3.2.</a>&#160;<br/>
Note&#160;that&#160;the&#160;NM&#160;message&#160;is&#160;sent&#160;as&#160;long&#160;as&#160;the&#160;NM&#160;state&#160;is&#160;‘Repeat&#160;Message’&#160;or&#160;‘Normal&#160;<br/>Operation’.&#160;For&#160;details about&#160;these&#160;states,&#160;see&#160;also&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#23">&#160;3.4.1.</a>&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
27&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-28_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-28_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-28_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-28_4.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;lower&#160;layer&#160;(e.g.&#160;CAN&#160;Interface)&#160;may&#160;reject&#160;the&#160;send&#160;request&#160;if&#160;Network&#160;Mode has&#160;<br/>
&#160;&#160;just&#160;been&#160;entered.&#160;<br/>
CanNm&#160;usually&#160;does not&#160;retry&#160;to&#160;issue&#160;the&#160;send&#160;request&#160;of&#160;the&#160;NM&#160;message.&#160;There&#160;are&#160;<br/>features,&#160;which may&#160;enable retries in&#160;certain&#160;conditions:&#160;<br/>If<a href="TechnicalReference_Asr_CanNms.html#39">&#160;‘Immediate&#160;Nm&#160;Transmissions’</a>&#160;are&#160;greater&#160;than zero,&#160;the&#160;rejected&#160;send&#160;request&#160;is&#160;not&#160;<br/>considered&#160;as&#160;‘Immediate&#160;Transmission’&#160;(see&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#39">&#160;3.20).</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.5.4&#160;</b><br/>
<b>Bus&#160;Load&#160;Reduction&#160;</b><br/>
The&#160;bus load&#160;reduction&#160;is started&#160;automatically&#160;if&#160;enabled&#160;and&#160;when&#160;Normal Operation&#160;<br/>state&#160;is&#160;entered.&#160;When&#160;Normal Operation&#160;state&#160;is left,&#160;bus&#160;load&#160;reduction&#160;algorithm&#160;is&#160;<br/>stopped.&#160;<br/>
<b>3.5.5&#160;</b><br/>
<b>Support for RX&#160;PDUs&#160;with&#160;Different&#160;Lengths&#160;</b><br/>
The&#160;&#160;CanNm&#160;&#160;supports&#160;&#160;messages&#160;&#160;with&#160;&#160;different&#160;&#160;lengths&#160;&#160;(DLCs).&#160;&#160;This&#160;&#160;support&#160;&#160;can&#160;&#160;be&#160;<br/>enabled&#160;&#160;by&#160;&#160;disabling&#160;&#160;the&#160;&#160;‘Adjust&#160;&#160;CanIf&#160;&#160;RangeConfig&#160;&#160;DLCCheck’&#160;&#160;setting&#160;&#160;in&#160;&#160;the&#160;&#160;module&#160;<br/>configuration.&#160;<br/>
<b>Info</b>&#160;<br/>The&#160;‘Adjust&#160;CanIf&#160;RangeConfig DLCCheck’&#160;setting is&#160;most&#160;likely&#160;pre-configured&#160;and&#160;<br/>
&#160;<br/>
cannot&#160;be&#160;changed&#160;inside&#160;GENy.&#160;Probably&#160;it&#160;is&#160;not&#160;even&#160;visible in&#160;the&#160;CanNm&#160;module&#160;<br/>settings.&#160;<br/>The&#160;setting&#160;is&#160;enabled,&#160;if&#160;a macro definition&#160;of&#160;<br/>CANNM_CANIF_RANGE_CONFIG_DLC_CHECK&#160;can&#160;be&#160;found&#160;in CanNm_Cfg.h.&#160;<br/>
If&#160;&#160;the&#160;‘Adjust&#160;&#160;CanIf&#160;RangeConfig&#160;DLCCheck’&#160;setting&#160;is&#160;disabled,&#160;&#160;you&#160;can&#160;enter&#160;within&#160;&#160;the&#160;<br/>CanIf&#160;&#160;configuration&#160;&#160;(see&#160;&#160;also&#160;&#160;the&#160;&#160;description&#160;&#160;of&#160;&#160;the&#160;&#160;‘DLC&#160;&#160;Check’&#160;&#160;feature&#160;&#160;in&#160;&#160;[6])&#160;&#160;the&#160;<br/>minimum&#160;DLC&#160;value&#160;that&#160;shall&#160;be&#160;accepted&#160;for&#160;NM&#160;messages.&#160;Smaller&#160;messages&#160;will&#160;then&#160;<br/>be&#160;discarded.&#160;Messages&#160;with&#160;same&#160;DLC&#160;or&#160;greater&#160;DLC&#160;will&#160;be&#160;received&#160;and&#160;forwarded&#160;to&#160;<br/>the&#160;NM.&#160;<br/>
If&#160;&#160;the&#160;&#160;‘Adjust&#160;&#160;CanIf&#160;&#160;RangeConfig&#160;&#160;DLCCheck’&#160;&#160;setting&#160;&#160;is&#160;&#160;enabled,&#160;&#160;the&#160;&#160;value&#160;&#160;in&#160;&#160;the&#160;&#160;CanIf&#160;<br/>configuration&#160;will&#160;be&#160;automatically&#160;set&#160;by&#160;the&#160;NM&#160;to&#160;'Pdu&#160;Length'&#160;and&#160;cannot&#160;be&#160;changed&#160;<br/>by&#160;the&#160;user.&#160;Therefore&#160;only&#160;NM messages where the&#160;DLC is equal&#160;to&#160;(or greater&#160;than)&#160;‘Pdu&#160;<br/>Length’&#160;will be&#160;accepted&#160;by&#160;CanNm.&#160;<br/>
In&#160;all&#160;cases,&#160;CanNm&#160;evaluates&#160;only&#160;bytes&#160;within&#160;the&#160;NM&#160;messages&#160;up&#160;to&#160;‘Pdu&#160;Length’,&#160;i.e.&#160;<br/>in&#160;&#160;case&#160;&#160;the&#160;&#160;received&#160;NM&#160;&#160;message&#160;&#160;length&#160;&#160;is&#160;&#160;greater&#160;than&#160;the&#160;&#160;configured&#160;&#160;‘Pdu&#160;Length’&#160;&#160;the&#160;<br/>respective&#160;&#160;bytes&#160;&#160;will&#160;&#160;be&#160;&#160;ignored.&#160;&#160;For&#160;&#160;smaller&#160;&#160;messages&#160;&#160;than&#160;&#160;‘Pdu&#160;&#160;Length’,&#160;&#160;the&#160;&#160;missing&#160;<br/>bytes are considered&#160;as being&#160;zero.&#160;<br/>
Examples:&#160;<br/>
The&#160;length&#160;of&#160;a&#160;received&#160;message&#160;is&#160;8,&#160;‘Pdu&#160;Length’&#160;is&#160;configured&#160;to&#160;6.&#160;In&#160;this&#160;case,&#160;the&#160;<br/>last&#160;two&#160;user&#160;data&#160;bytes&#160;are&#160;not&#160;further&#160;processed&#160;by&#160;CanNm&#160;(e.g.&#160;CanNm_GetUserData&#160;<br/>does&#160;&#160;not&#160;&#160;return&#160;&#160;data&#160;&#160;for&#160;&#160;these&#160;&#160;two&#160;&#160;bytes).&#160;&#160;The&#160;&#160;message&#160;&#160;is&#160;&#160;accepted&#160;&#160;regardless&#160;&#160;of&#160;&#160;the&#160;<br/>‘Adjust&#160;CanIf&#160;RangeConfig&#160;DLCCheck’&#160;setting.&#160;<br/>The&#160;length&#160;of&#160;a&#160;received&#160;message&#160;is&#160;4,&#160;‘Pdu&#160;Length’&#160;is&#160;configured&#160;to&#160;6.&#160;In&#160;this&#160;case,&#160;bytes&#160;<br/>4&#160;&#160;and&#160;&#160;5&#160;&#160;are&#160;&#160;considered&#160;&#160;as&#160;&#160;being&#160;&#160;zero&#160;&#160;(e.g.&#160;&#160;CanNm_GetUserData&#160;&#160;returns&#160;&#160;0&#160;&#160;for&#160;&#160;these&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
28&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-29_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-29_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
bytes).&#160;&#160;The&#160;&#160;message&#160;&#160;is&#160;&#160;not&#160;&#160;accepted&#160;&#160;at&#160;&#160;all&#160;&#160;if&#160;&#160;the&#160;&#160;‘Adjust&#160;&#160;CanIf&#160;&#160;RangeConfig&#160;&#160;DLCCheck’&#160;<br/>setting&#160;is enabled,&#160;because&#160;the&#160;minimum&#160;required&#160;DLC&#160;for&#160;accepting&#160;the&#160;message&#160;is&#160;set&#160;to&#160;<br/>‘Pdu&#160;Length’&#160;= 6.&#160;<br/>
In&#160;&#160;summary,&#160;&#160;the&#160;&#160;minimum&#160;&#160;required&#160;&#160;number&#160;&#160;of&#160;&#160;bytes&#160;&#160;for&#160;&#160;a&#160;&#160;received&#160;&#160;NM&#160;&#160;message&#160;&#160;that&#160;<br/>should&#160;&#160;be&#160;&#160;processed&#160;&#160;by&#160;&#160;CanNm&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;configured&#160;&#160;by&#160;&#160;using&#160;&#160;the&#160;&#160;CanIf&#160;&#160;DLC&#160;&#160;Check&#160;<br/>feature&#160;&#160;[6].&#160;&#160;If&#160;&#160;‘Adjust&#160;&#160;CanIf&#160;&#160;RangeConfig&#160;&#160;DLCCheck’&#160;&#160;is&#160;&#160;disabled,&#160;&#160;the&#160;&#160;user&#160;&#160;may&#160;&#160;configure&#160;<br/>the&#160;CanIf&#160;DLC Check&#160;by&#160;himself/herself,&#160;otherwise&#160;it is handled&#160;automatically&#160;by&#160;CanNm.&#160;<br/>
Refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#82">r&#160;6.3&#160;‘Configuration&#160;with&#160;GENy’&#160;f</a>or&#160;more&#160;details about&#160;the&#160;configuration.&#160;<br/>
<b>3.6&#160;</b><br/>
<b>Node&#160;Detection&#160;</b><br/>
In&#160;&#160;order&#160;&#160;to&#160;&#160;detect&#160;&#160;which&#160;&#160;nodes&#160;&#160;are&#160;&#160;currently&#160;&#160;present&#160;&#160;within&#160;&#160;the&#160;&#160;network,&#160;&#160;this&#160;&#160;mechanism&#160;<br/>can&#160;be&#160;used.&#160;If&#160;a&#160;network&#160;node&#160;requests&#160;node&#160;detection,&#160;the&#160;requesting&#160;node&#160;performs&#160;a&#160;<br/>transition&#160;to&#160;Repeat&#160;Message&#160;State&#160;and&#160;sets&#160;the&#160;Repeat&#160;Message&#160;Bit&#160;within&#160;the&#160;NM&#160;PDU.&#160;<br/>Upon&#160;&#160;reception&#160;&#160;of&#160;&#160;the&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;Bit&#160;&#160;all&#160;&#160;network&#160;&#160;nodes&#160;&#160;perform&#160;&#160;a&#160;&#160;transition&#160;&#160;to&#160;<br/>Repeat&#160;&#160;Message&#160;&#160;State.&#160;&#160;This&#160;&#160;allows&#160;&#160;the&#160;&#160;requesting&#160;&#160;node&#160;&#160;to&#160;&#160;collect&#160;&#160;all&#160;&#160;source&#160;&#160;node&#160;<br/>identifiers&#160;from&#160;active&#160;nodes.&#160;<br/>
The&#160;local source&#160;node&#160;identifier can&#160;be&#160;retrieved&#160;by&#160;the&#160;service&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_GetLocalNodeIdentifier&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle,&#160;<br/>
&#160;<br/>
uint8* const nmNodeIdPtr )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#66">(5.5.2.7.3)</a>&#160;<br/>
The&#160;source&#160;node&#160;identifier&#160;from&#160;the&#160;last&#160;received&#160;message&#160;can&#160;be&#160;retrieved&#160;by&#160;the&#160;service&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_GetNodeIdentifier</b>&#160;(&#160;&#160;<br/>&#160;&#160;const&#160;NetworkHandleType&#160;nmChannelHandle,&#160;<br/>&#160;&#160;uint8*&#160;const&#160;nmNodeIdPtr )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#65">(5.5.2.7.2)</a>&#160;<br/>
<b>3.7&#160;</b><br/>
<b>NM&#160;PDU&#160;Receive&#160;Indication&#160;</b><br/>
The&#160;&#160;NM&#160;&#160;Interface&#160;&#160;is&#160;&#160;notified&#160;&#160;about&#160;&#160;the&#160;&#160;reception&#160;&#160;of&#160;&#160;an&#160;&#160;NM&#160;&#160;message&#160;&#160;by&#160;&#160;the&#160;&#160;optional&#160;<br/>function&#160;<br/>
void&#160;<b>Nm_PduRxIndication</b>&#160;(&#160;&#160;const&#160;NetworkHandleType&#160;<br/>&#160;&#160;&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;notifies&#160;&#160;the&#160;&#160;callback&#160;&#160;directly&#160;&#160;to&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;in&#160;&#160;context&#160;&#160;of&#160;&#160;the&#160;&#160;function&#160;<br/>CanNm_RxIndication&#160;(see&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#75">&#160;5.7.1.1).</a>&#160;<br/>
<b>3.8&#160;</b><br/>
<b>Communication Control&#160;</b><br/>
In&#160;&#160;order&#160;&#160;to&#160;&#160;support&#160;&#160;ISO&#160;&#160;14229&#160;&#160;Communication&#160;&#160;Control&#160;&#160;Service&#160;&#160;$28&#160;&#160;the&#160;&#160;network&#160;<br/>management&#160;&#160;has&#160;&#160;a&#160;&#160;message&#160;&#160;transmission&#160;&#160;control&#160;&#160;status,&#160;&#160;which&#160;&#160;allows&#160;&#160;disabling&#160;&#160;the&#160;<br/>transmission&#160;&#160;of&#160;&#160;NM&#160;&#160;messages&#160;&#160;while&#160;&#160;bus-communication&#160;&#160;is&#160;&#160;requested.&#160;&#160;Therefore&#160;&#160;the&#160;<br/>function&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_DisableCommunication</b>&#160;(&#160;<br/>
&#160;<br/>
&#160;&#160;const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#59">(5.5.2.5.1)</a>&#160;<br/>
can&#160;be&#160;called.&#160;The&#160;transmission&#160;of&#160;NM&#160;messages&#160;will&#160;be&#160;stopped&#160;within&#160;the&#160;next&#160;CAN&#160;NM&#160;<br/>main&#160;function&#160;call.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
29&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-30_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-30_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-30_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
The&#160;NM PDU transmission&#160;ability&#160;is enabled&#160;again&#160;by&#160;the&#160;service&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_EnableCommunication</b>&#160;(&#160;&#160;<br/>&#160;&#160;const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#60">(5.5.2.5.2)</a>&#160;<br/>
<b>Caution&#160;<br/></b>An ECU&#160;shall&#160;not&#160;shut&#160;down if&#160;the&#160;NM&#160;PDU&#160;transmission&#160;ability&#160;is&#160;disabled.&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>3.9&#160;</b><br/>
<b>Gateway&#160;Functionality&#160;</b><br/>
<b>3.9.1&#160;</b><br/>
<b>Remote&#160;Sleep&#160;Indication and Cancellation&#160;</b><br/>
In&#160;&#160;order&#160;&#160;to&#160;&#160;synchronize&#160;&#160;networks&#160;&#160;it&#160;&#160;might&#160;&#160;be&#160;&#160;necessary&#160;&#160;to&#160;&#160;get&#160;&#160;an&#160;&#160;indication&#160;&#160;whether&#160;&#160;no&#160;<br/>more&#160;&#160;network&#160;&#160;nodes&#160;&#160;require&#160;&#160;bus-communication.&#160;&#160;This&#160;&#160;is&#160;&#160;the&#160;&#160;so-called&#160;&#160;‘Remote&#160;&#160;Sleep&#160;<br/>Indication’.&#160;The&#160;start&#160;of&#160;the&#160;remote&#160;sleep&#160;indication&#160;is indicated&#160;by&#160;<br/>
void&#160;<b>Nm_RemoteSleepIndication&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
If&#160;any&#160;NM&#160;message&#160;is&#160;received&#160;during&#160;Normal&#160;Operation&#160;State&#160;or&#160;Ready&#160;Sleep&#160;State&#160;after&#160;<br/>the&#160;remote&#160;sleep&#160;indication&#160;the&#160;service&#160;‘Remote&#160;Sleep&#160;Cancellation’&#160;is&#160;called:&#160;<br/>
void&#160;<b>Nm_RemoteSleepCancellation&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
It&#160;is also&#160;possible&#160;to&#160;retrieve&#160;the&#160;current&#160;remote&#160;sleep&#160;state&#160;by&#160;calling&#160;the&#160;service:&#160;<br/>
void&#160;<b>CanNm_CheckRemoteSleepIndication&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle,&#160;<br/>
&#160;&#160;boolean* const nmRemoteSleepIndPtr )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#68">(5.5.2.9.1)</a>&#160;<br/>
Remote&#160;sleep&#160;indication&#160;can&#160;only&#160;be&#160;checked&#160;in&#160;Ready&#160;Sleep&#160;state&#160;and&#160;Normal&#160;Operation&#160;<br/>state.&#160;<br/>
<b>3.9.2&#160;</b><br/>
<b>Extended Remote&#160;Sleep Indication and Cancellation&#160;</b><br/>
For&#160;a&#160;gateway&#160;it&#160;might&#160;be&#160;necessary&#160;to&#160;check&#160;the&#160;remote&#160;sleep&#160;indication&#160;status&#160;also&#160;in&#160;the&#160;<br/>Repeat&#160;&#160;Message&#160;&#160;State.&#160;&#160;Therefore&#160;&#160;this&#160;&#160;feature&#160;&#160;can&#160;&#160;be&#160;&#160;enabled&#160;&#160;if&#160;&#160;the&#160;&#160;‘Remote&#160;&#160;Sleep&#160;<br/>Indication’&#160;is enabled.&#160;<br/>
Please&#160;note&#160;that&#160;this&#160;feature is&#160;additional&#160;and&#160;can&#160;only&#160;be&#160;enabled&#160;if&#160;explicitly&#160;available.&#160;<br/>
<b>3.9.3&#160;</b><br/>
<b>Bus&#160;Synchronization&#160;</b><br/>
In&#160;&#160;order&#160;&#160;to&#160;&#160;synchronize&#160;&#160;networks&#160;&#160;for&#160;&#160;a&#160;&#160;synchronized&#160;&#160;shutdown&#160;&#160;it&#160;&#160;might&#160;&#160;be&#160;&#160;necessary&#160;&#160;to&#160;<br/>transmit&#160;an&#160;asynchronous&#160;NM&#160;message&#160;to&#160;reset&#160;the&#160;network&#160;timers.&#160;This&#160;can&#160;be&#160;done&#160;by&#160;<br/>calling&#160;the&#160;service:&#160;&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_RequestBusSynchronization&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#67">(5.5.2.8.1)</a>&#160;<br/>
However this service&#160;shall&#160;only&#160;be&#160;called&#160;within&#160;Network Mode.&#160;<br/>
<b>3.10&#160;&#160;Limp&#160;Home&#160;Indication and Cancellation&#160;</b><br/>
If&#160;in&#160;Normal&#160;Operation&#160;state&#160;a&#160;NM&#160;message&#160;could&#160;not&#160;be&#160;transmitted&#160;and&#160;no&#160;NM&#160;message&#160;<br/>is&#160;&#160;received&#160;&#160;for&#160;&#160;a&#160;&#160;configurable&#160;&#160;amount&#160;&#160;of&#160;&#160;time&#160;&#160;AUTOSAR&#160;&#160;just&#160;&#160;provides&#160;&#160;the&#160;&#160;possibility&#160;&#160;of&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
30&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-31_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-31_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
error&#160;reporting&#160;to&#160;the&#160;DET&#160;and&#160;DEM&#160;if&#160;&#160;error&#160;reporting&#160;is&#160;enabled.&#160;Therefore&#160;the&#160;CAN&#160;NM&#160;<br/>provides&#160;the&#160;possibility&#160;of&#160;an&#160;additional&#160;error reporting&#160;via&#160;the&#160;callback&#160;<br/>
void&#160;<b>Nm_LimpHomeIndication</b>&#160;(&#160;&#160;<br/>
&#160;<br/>
&#160;&#160;const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#78">(5.8.2.1)</a>&#160;<br/>
to&#160;the&#160;upper layer.&#160;<br/>
If&#160;&#160;a&#160;&#160;NM&#160;&#160;message&#160;&#160;was&#160;&#160;successfully&#160;&#160;transmitted&#160;&#160;or&#160;&#160;received&#160;&#160;or&#160;&#160;the&#160;&#160;Network&#160;&#160;Mode&#160;&#160;is&#160;&#160;left&#160;<br/>after ‘Limp&#160;Home&#160;Indication’&#160;the&#160;NM Interface&#160;is&#160;notified&#160;by&#160;calling&#160;<br/>
void&#160;<b>Nm_LimpHomeCancelation</b>&#160;(&#160;&#160;<br/>
&#160;<br/>
&#160;&#160;const&#160;NetworkHandleType&#160;nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#78">(5.8.2.1)</a>&#160;<br/>
Additionally&#160;the&#160;Limp&#160;Home&#160;status can&#160;be&#160;checked&#160;by&#160;a&#160;call&#160;of&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_CheckLimpHomeIndication&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const NetworkHandleType nmChannelHandle,&#160;<br/>
&#160;&#160;boolean* const nmLimpHomeIndPtr )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#78">(5.8.2.1)</a>&#160;<br/>
Please&#160;&#160;note&#160;&#160;that&#160;&#160;this&#160;&#160;feature&#160;&#160;is&#160;&#160;additional&#160;&#160;and&#160;&#160;can&#160;&#160;only&#160;&#160;be&#160;&#160;enabled&#160;&#160;if&#160;&#160;explicitly&#160;&#160;available&#160;<br/>(see&#160;also&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#16">r&#160;3.1&#160;‘Overview&#160;of&#160;the&#160;Functional Scope’)</a>.&#160;<br/>
<b>3.11&#160;&#160;Coordinator&#160;Synchronization&#160;Support&#160;</b><br/>
For&#160;&#160;supporting&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;Coordination&#160;&#160;Extension&#160;&#160;with&#160;&#160;more&#160;&#160;than&#160;&#160;one&#160;&#160;coordinator&#160;<br/>connected&#160;to&#160;the&#160;same&#160;channel&#160;it&#160;is&#160;necessary&#160;to&#160;provide&#160;three&#160;additional&#160;bits&#160;in&#160;the&#160;CBV.&#160;<br/>Therefore&#160;the&#160;service&#160;call&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_SetCoordBits&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const NetworkHandleType nmChannelHandle,&#160;<br/>
&#160;&#160;const&#160;uint8&#160;nmCoordBits )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#72">(5.5.3.2)</a>&#160;<br/>
allows to&#160;set&#160;and&#160;clear those&#160;bits.&#160;The&#160;following&#160;table&#160;shows all&#160;values for setting&#160;those&#160;bits&#160;<br/>and&#160;the&#160;corresponding&#160;symbol defined&#160;in&#160;the&#160;NmStack_Types.h:&#160;<br/>
<b>Value&#160;</b><br/>
<b>Symbol&#160;</b><br/>
<b>Corresponding&#160;Bit&#160;</b><br/>
0x08&#160;<br/>
NM_COORD_BIT_SLEEP&#160;<br/>
Announce&#160;Sleep Bit;&#160;Bit&#160;3&#160;in the&#160;CBV&#160;<br/>
0x06&#160;<br/>
NM_COORD_BIT_PRIO_MASK&#160;Two Priority&#160;Bits;&#160;Bit&#160;1&#160;and&#160;2&#160;in&#160;the&#160;CBV&#160;<br/>
0x0E&#160;<br/>
NM_COORD_BIT_MASK&#160;<br/>
All&#160;three&#160;Coordination&#160;Bits;&#160;Bit&#160;1&#160;–&#160;3&#160;in&#160;the&#160;CBV&#160;<br/>
Table&#160;3-5&#160;&#160;<br/>
NM&#160;Coordination&#160;Bits&#160;<br/>
For&#160;clearing&#160;the&#160;bits&#160;any&#160;value&#160;that&#160;does&#160;not&#160;contain&#160;one&#160;of&#160;the&#160;three&#160;coordination&#160;bits&#160;set&#160;<br/>can&#160;be&#160;used,&#160;e.g.&#160;0x00.&#160;<br/>
If&#160;a&#160;&#160;message&#160;&#160;is&#160;&#160;received&#160;&#160;where&#160;&#160;at&#160;&#160;least&#160;&#160;the&#160;priority&#160;&#160;bits&#160;&#160;are&#160;&#160;set,&#160;&#160;the&#160;following&#160;&#160;callback&#160;&#160;to&#160;<br/>the&#160;NM Interface&#160;is&#160;called&#160;correspondingly:&#160;<br/>
void&#160;<b>Nm_ActiveCoordIndication&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType nmChannelHandle,&#160;<br/>
&#160;&#160;const uint8 nmCoordPrio,&#160;<br/>
&#160;<br/>
&#160;&#160;const uint8&#160;nmSleepInd )&#160;&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#78">(5.8.2.2)</a>&#160;<br/>
Please&#160;note&#160;that&#160;this&#160;feature is&#160;additional&#160;and&#160;can&#160;only&#160;be&#160;enabled&#160;if&#160;explicitly&#160;available.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
31&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-32_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-32_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-32_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>The&#160;‘Coordinator&#160;Extension&#160;Support’&#160;requires&#160;the&#160;Control&#160;Bit&#160;Vector.&#160;<br/>
&#160;<br/>
Therefore&#160;this&#160;feature&#160;has&#160;to&#160;be&#160;enabled&#160;if&#160;the&#160;Coordination&#160;Extension&#160;Support&#160;is&#160;used.&#160;<br/>
&#160;<br/>
<b>3.12&#160;&#160;Error&#160;Handling&#160;</b><br/>
<b>3.12.1&#160;&#160;Development&#160;Error&#160;Detection&#160;</b><br/>
Reporting&#160;&#160;of&#160;&#160;development&#160;&#160;errors&#160;&#160;is&#160;&#160;configurable&#160;&#160;(refer&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#84">6.3.1&#160;&#160;‘Component&#160;<br/>Configuration’)</a>.&#160;<br/>
<b>3.12.1.1&#160;&#160;Det_ReportError&#160;</b><br/>
Development&#160;errors are&#160;reported&#160;by&#160;the&#160;service&#160;<br/>
void&#160;<b>Det_ReportError&#160;</b>(&#160;&#160;<br/>&#160;&#160;uint16 ModuleId, uint8 InstanceId,&#160;<br/>&#160;&#160;uint8 ApiId, uint8 ErrorId )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#75">(5.6)</a>&#160;<br/>
Please&#160;&#160;refer&#160;&#160;to&#160;&#160;the&#160;&#160;documentation&#160;&#160;of&#160;&#160;the&#160;&#160;development&#160;&#160;error&#160;&#160;tracer&#160;&#160;[4]&#160;&#160;for&#160;&#160;further&#160;<br/>information&#160;and&#160;a&#160;detailed&#160;description&#160;of&#160;the&#160;API.&#160;The&#160;module&#160;Id,&#160;API&#160;Ids&#160;and&#160;error&#160;Ids&#160;can&#160;<br/>be&#160;found&#160;within&#160;the&#160;software components’&#160;header&#160;file.&#160;<br/>
<b>3.12.1.2&#160;&#160;Error&#160;Codes&#160;</b><br/>
CAN NM&#160;reports the&#160;following&#160;error codes to&#160;the&#160;Development&#160;Error&#160;Tracer:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x01&#160;&#160;CANNM_E_NO_INIT&#160;<br/>
API&#160;service used&#160;without&#160;module initialization.&#160;<br/>
0x02&#160;&#160;CANNM_E_INVALID_CHANNEL&#160;<br/>
API&#160;service used&#160;with wrong channel&#160;handle.&#160;<br/>
0x03&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#32">CANNM_E_INIT_FAILED3&#160;</a><br/>
NM&#160;initialization has&#160;failed.&#160;<br/>
0x05&#160;&#160;CANNM_E_CANIF_TRANSMIT_ERROR3&#160;<br/>
Call&#160;of&#160;function&#160;CanIf_Transmit&#160;has&#160;failed.&#160;<br/>
0x11&#160;&#160;CANNM_E_DEV_NETWORK_TIMEOUT&#160;<br/>
NM-Timeout&#160;Timer&#160;has&#160;abnormally&#160;expired&#160;<br/>outside&#160;of&#160;the&#160;Ready&#160;Sleep State.&#160;<br/>
0x12&#160;&#160;CANNM_E_NULL_POINTER4&#160;<br/>
Null&#160;pointer&#160;has&#160;been&#160;passed&#160;as&#160;an&#160;argument.&#160;<br/>
0x20&#160;&#160;CANNM_E_RXINDICATION_DLC_ERROR5&#160;&#160;DLC&#160;of&#160;received&#160;NM&#160;message&#160;does&#160;not&#160;match&#160;<br/>
with configured&#160;PDU&#160;Length.&#160;<br/>
0x21&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#32">CANNM_E_PDUR_TRIGGERTX_ERROR5&#160;</a><br/>
Call&#160;of&#160;function&#160;PduR_TriggerTransmit&#160;failed.&#160;<br/>
Table&#160;3-6&#160;&#160;<br/>
DET&#160;Error&#160;Codes&#160;of&#160;CAN&#160;NM&#160;<br/>
<b>3.12.2&#160;&#160;Diagnostic&#160;Event&#160;Manager&#160;</b><br/>
Production&#160;<br/>
errors&#160;<br/>
are&#160;<br/>
reported&#160;<br/>
to&#160;<br/>
the&#160;<br/>
diagnostic&#160;<br/>
event&#160;<br/>
manager&#160;<br/>
if&#160;<br/>
the&#160;<br/>
CANNM_PROD_ERROR_DETECT&#160;&#160;switch&#160;&#160;is&#160;&#160;set&#160;&#160;to&#160;&#160;STD_ON&#160;&#160;(refer&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#84">6.3.1&#160;<br/>‘Component&#160;Configuration’)</a>.&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
3&#160;This&#160;error is&#160;only&#160;reported if&#160;the ‘Dem2Det&#160;Enabled’&#160;switch&#160;is&#160;enabled. The&#160;error&#160;is&#160;specified&#160;as&#160;<br/>development error in&#160;AUTOSAR&#160;Release&#160;3.2.&#160;<br/>4&#160;Error does&#160;not&#160;apply&#160;to&#160;the&#160;function&#160;CanNm_Init.&#160;<br/>5&#160;Vector&#160;extension&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
32&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-33_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-33_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3.12.2.1&#160;&#160;Dem_ReportErrorStatus&#160;</b><br/>
Reporting&#160;errors to&#160;the&#160;diagnostic event&#160;manager is done&#160;by&#160;the&#160;service&#160;<br/>
void&#160;<b>Dem_ReportErrorStatus&#160;</b>(&#160;&#160;<br/>&#160;&#160;uint8&#160;ErrorId, uint8&#160;StatusId&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#75">(5.6)</a>&#160;<br/>
Please&#160;&#160;refer&#160;&#160;to&#160;&#160;the&#160;&#160;documentation&#160;&#160;of&#160;&#160;the&#160;&#160;diagnostic&#160;&#160;event&#160;&#160;manager&#160;&#160;[5]&#160;&#160;for&#160;&#160;further&#160;<br/>information&#160;and&#160;a&#160;detailed&#160;description&#160;of&#160;the&#160;API.&#160;The&#160;error&#160;Ids&#160;and&#160;the&#160;status&#160;Ids&#160;can&#160;be&#160;<br/>found&#160;within&#160;the&#160;diagnostic event&#160;manager components’&#160;header&#160;file.&#160;<br/>
<b>3.12.2.2&#160;&#160;Error&#160;Codes&#160;</b><br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
CANNM_E_INIT_FAILED6&#160;<br/>
NM&#160;initialization has&#160;failed.&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#33">CANNM_E_CANIF_TRANSMIT_ERROR6&#160;&#160;</a>Call&#160;of&#160;Can&#160;Interface&#160;function&#160;CanIf_Transmit&#160;<br/>
has&#160;failed&#160;<br/>
CANNM_E_NETWORK_TIMEOUT&#160;<br/>
NM-Timeout&#160;Timer&#160;has&#160;abnormally&#160;expired&#160;outside&#160;<br/>of&#160;the&#160;Ready&#160;Sleep State.&#160;<br/>
Table&#160;3-7&#160;&#160;<br/>
DEM&#160;Error&#160;Codes&#160;of&#160;CAN&#160;NM&#160;<br/>
<b>3.13&#160;&#160;Multiple&#160;ECU&#160;Support&#160;</b><br/>
The&#160;CAN&#160;NM&#160;supports&#160;Multiple&#160;ECU&#160;configuration&#160;when&#160;the&#160;configuration&#160;in&#160;GENy&#160;is&#160;done&#160;<br/>with&#160;&#160;an&#160;&#160;AUTOSAR&#160;&#160;ECU&#160;&#160;configuration&#160;&#160;file.&#160;&#160;Refer&#160;&#160;to&#160;&#160;[9]&#160;&#160;for&#160;&#160;more&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;<br/>Multiple&#160;ECU&#160;feature.&#160;<br/>
When&#160;this&#160;feature&#160;is&#160;used&#160;by&#160;applying&#160;an&#160;appropriate&#160;ECU&#160;configuration&#160;file&#160;in&#160;GENy,&#160;the&#160;<br/>generated&#160;&#160;code&#160;&#160;will&#160;&#160;contain&#160;&#160;multiple&#160;&#160;configuration&#160;&#160;structures.&#160;&#160;When&#160;&#160;initializing&#160;&#160;the&#160;&#160;CAN&#160;<br/>NM&#160;&#160;the&#160;&#160;active&#160;&#160;ECU&#160;&#160;must&#160;&#160;be&#160;&#160;chosen&#160;&#160;by&#160;&#160;passing&#160;&#160;the&#160;&#160;corresponding&#160;&#160;pointer&#160;&#160;to&#160;&#160;the&#160;&#160;active&#160;<br/>configuration&#160;within&#160;the&#160;initialization&#160;function&#160;<br/>
void&#160;<b>CanNm_Init&#160;</b>(&#160;&#160;<br/>&#160;&#160;const CanNm_ConfigType * const nmConfigPtr )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#52">(5.5.1.1)</a>&#160;<br/>
Refer also&#160;to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#46">r&#160;4.4&#160;‘Initialization’.</a>&#160;<br/>
For&#160;CAN&#160;NM&#160;the&#160;‘Msg&#160;Cycle&#160;Offset’,&#160;the&#160;‘Msg&#160;Reduced&#160;Time’,&#160;the&#160;CAN&#160;NM&#160;transmission&#160;<br/>message&#160;handle&#160;(i.e.&#160;for&#160;each&#160;ECU&#160;instance&#160;one&#160;CAN&#160;NM&#160;message&#160;must&#160;be&#160;available&#160;in&#160;<br/>the&#160;&#160;configuration)&#160;&#160;and&#160;&#160;the&#160;&#160;parameter&#160;&#160;‘Node&#160;&#160;Id’&#160;&#160;are&#160;&#160;different&#160;&#160;depending&#160;&#160;on&#160;&#160;the&#160;&#160;active&#160;<br/>configuration.&#160;<br/>
Refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#90">r&#160;6.3.2&#160;</a>for more&#160;details about&#160;these&#160;configuration&#160;settings.&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
6&#160;This&#160;error is&#160;only&#160;reported if&#160;the ‘Dem2Det&#160;Enabled’&#160;switch&#160;is&#160;disabled.&#160;The&#160;error&#160;is&#160;specified&#160;as&#160;production&#160;<br/>error in&#160;AUTOSAR Release&#160;3.0&#160;and&#160;Release&#160;3.1.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
33&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-34_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-34_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-34_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-34_4.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Note&#160;that&#160;if&#160;the&#160;NM&#160;User&#160;Data&#160;via Com&#160;feature&#160;(see also chapter<a href="TechnicalReference_Asr_CanNms.html#34">&#160;3.15)</a>&#160;is&#160;used&#160;in&#160;<br/>
<b>&#160;&#160;</b>combination&#160;with the&#160;Multiple ECU&#160;Support,&#160;a&#160;PDU&#160;Overlay&#160;has&#160;to&#160;be&#160;created&#160;for&#160;the&#160;<br/>
NM&#160;User&#160;Data&#160;TX&#160;I-PDU.&#160;Refer&#160;to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#37">&#160;3.15.1.1&#160;</a>for&#160;details.&#160;<br/>
The&#160;PDU&#160;Overlay&#160;has&#160;to&#160;be&#160;used,&#160;because&#160;the&#160;NM&#160;User&#160;Data&#160;TX&#160;I-PDU&#160;is&#160;always&#160;the&#160;<br/>same&#160;object&#160;independent&#160;of&#160;the&#160;currently&#160;active ECU&#160;(determined&#160;by&#160;the&#160;pointer&#160;value&#160;<br/>passed&#160;to&#160;CanNm_Init).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.14&#160;&#160;Multiple&#160;Configuration Support&#160;</b><br/>
The&#160;CAN&#160;NM&#160;can&#160;be&#160;used&#160;in&#160;multiple&#160;configuration&#160;environments&#160;when&#160;the&#160;configuration&#160;in&#160;<br/>GENy&#160;&#160;is&#160;&#160;done&#160;&#160;with&#160;&#160;an&#160;AUTOSAR&#160;&#160;ECU&#160;&#160;configuration&#160;&#160;file.&#160;&#160;No&#160;&#160;special&#160;&#160;support&#160;&#160;is&#160;&#160;provided&#160;<br/>except&#160;&#160;that&#160;&#160;the&#160;&#160;main&#160;&#160;function&#160;&#160;can&#160;&#160;be&#160;&#160;called&#160;&#160;even&#160;&#160;if&#160;&#160;the&#160;&#160;initialization&#160;&#160;was&#160;&#160;not&#160;&#160;performed&#160;<br/>because&#160;&#160;CAN&#160;&#160;NM&#160;&#160;is&#160;&#160;not&#160;&#160;active&#160;&#160;in&#160;&#160;the&#160;&#160;chosen&#160;&#160;identity.&#160;&#160;In&#160;&#160;such&#160;&#160;a&#160;&#160;case&#160;&#160;the&#160;&#160;main&#160;&#160;function&#160;<br/>does&#160;&#160;not&#160;&#160;perform&#160;&#160;any&#160;&#160;actions.&#160;&#160;Also&#160;&#160;no&#160;&#160;DET&#160;&#160;error&#160;&#160;is&#160;&#160;notified&#160;&#160;(refer&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#32">3.12.1&#160;<br/>‘Development&#160;Error Detection’</a>).&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;CAN&#160;NM&#160;implementation assumes&#160;that&#160;no&#160;function (except&#160;the&#160;main&#160;function)&#160;will&#160;<br/>
&#160;&#160;be&#160;called&#160;for&#160;channels&#160;that&#160;are not&#160;active in&#160;the&#160;selected&#160;identity.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>In&#160;&#160;contradiction&#160;&#160;to&#160;&#160;the&#160;&#160;feature&#160;&#160;‘Multiple&#160;&#160;ECU&#160;&#160;Support’&#160;&#160;only&#160;&#160;one&#160;&#160;configuration&#160;&#160;is&#160;&#160;available&#160;<br/>which&#160;has to&#160;be&#160;used&#160;for all identities.&#160;<br/>
<b>3.15&#160;&#160;NM&#160;User Data via&#160;Com&#160;</b><br/>
The&#160;CAN&#160;NM&#160;supports&#160;the&#160;possibility&#160;to&#160;write&#160;the&#160;NM&#160;user data&#160;via&#160;Com&#160;signals.&#160;Therefore&#160;<br/>the&#160;signals&#160;have&#160;to&#160;be&#160;provided&#160;within&#160;&#160;an&#160;extra&#160;&#160;I-PDU&#160;in&#160;&#160;the&#160;configuration.&#160;The&#160;CAN&#160;NM&#160;<br/>updates&#160;its&#160;transmission&#160;buffer&#160;each&#160;time&#160;before&#160;sending&#160;a&#160;NM&#160;message&#160;with&#160;the&#160;current&#160;<br/>data.&#160;Therefore it&#160;calls&#160;the&#160;function:&#160;<br/>
void&#160;<b>PduR_CanNmTriggerTransmit&#160;</b>(&#160;&#160;<br/>&#160;&#160;PduIdType&#160;ComTxPduId, uint8&#160;* CanNmSduPtr&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#75">(5.6)</a>&#160;<br/>
When&#160;the&#160;NM&#160;message&#160;has&#160;been&#160;successfully&#160;transmitted&#160;the&#160;confirmation&#160;is&#160;forwarded&#160;to&#160;<br/>by&#160;calling&#160;the&#160;function:&#160;<br/>
void&#160;<b>PduR_CanNmTxConfirmation&#160;</b>(&#160;&#160;<br/>&#160;&#160;PduIdType&#160;ComTxPduId&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#75">(5.6)</a>&#160;<br/>
Depending&#160;on&#160;the&#160;signal&#160;and&#160;I-PDU&#160;configuration&#160;a&#160;signal&#160;change&#160;can&#160;lead&#160;to&#160;a&#160;request&#160;for&#160;<br/>an&#160;immediate&#160;NM&#160;message&#160;transmission&#160;by&#160;calling&#160;the&#160;function&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
34&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-35_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-35_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-35_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
void&#160;<b>CanNm_Transmit&#160;</b>(&#160;&#160;<br/>&#160;<br/>
PduIdType&#160;CanNmTxPduId,&#160;<br/>
&#160;&#160;const PduInfoType * PduInfoPtr&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#69">(5.5.2.10.1)</a>&#160;<br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;then&#160;&#160;transmits&#160;&#160;the&#160;&#160;changed&#160;&#160;data&#160;&#160;in&#160;&#160;the&#160;&#160;next&#160;&#160;main&#160;&#160;function&#160;&#160;when&#160;&#160;the&#160;<br/>transmission&#160;of&#160;NM&#160;messages&#160;is&#160;allowed.&#160;This&#160;behavior&#160;is&#160;given&#160;in<a href="TechnicalReference_Asr_CanNms.html#35">&#160;Figure&#160;3-3.&#160;</a>Afterwards&#160;<br/>the&#160;message&#160;cycle&#160;timer is restarted,&#160;i.e.&#160;the&#160;cyclic message&#160;transmission&#160;raster changes.&#160;<br/>
The&#160;&#160;spontaneous&#160;&#160;transmission&#160;&#160;through&#160;&#160;CanNm_Transmit&#160;&#160;is&#160;&#160;allowed&#160;&#160;in&#160;&#160;the&#160;&#160;NM&#160;&#160;states&#160;<br/>Repeat&#160;Message&#160;and&#160;Normal Operation&#160;if&#160;and&#160;only&#160;if&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Pn&#160;Enabled’&#160;is ON and&#160;‘Pn&#160;Handle&#160;Multiple&#160;Network Requests’&#160;is OFF&#160;AND/OR&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Car&#160;Wake&#160;Up&#160;Rx&#160;Enabled’&#160;is ON.&#160;<br/>
Behavior with CanNm_Transmit usage<br/>
...<br/>
Repeat Message<br/>
Normal Operation<br/>
t<br/>
0<br/>
CanNm_Transmit<br/>
CanNm_Transmit<br/>
...<br/>
Msg Cycle Offset<br/>
Msg Cycle Time<br/>
Msg Cycle Time<br/>
Msg Cycle Time<br/>
NM Message Transmissions<br/>
&#160;<br/>
Figure&#160;3-3&#160;<br/>
Immediate&#160;Transmission&#160;due&#160;to&#160;Signal&#160;Change&#160;inside&#160;User&#160;Data&#160;I-PDU&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Note&#160;that&#160;this&#160;feature&#160;can be&#160;currently&#160;only&#160;configured&#160;when using&#160;an&#160;AUTOSAR&#160;ECU&#160;<br/>
&#160;&#160;configuration&#160;file.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>The&#160;&#160;following&#160;&#160;chapters&#160;&#160;describe&#160;&#160;more&#160;&#160;detailed&#160;&#160;the&#160;&#160;configuration&#160;&#160;preconditions&#160;&#160;of&#160;&#160;this&#160;<br/>feature.&#160;&#160;How&#160;&#160;this&#160;&#160;feature&#160;&#160;is&#160;&#160;configured&#160;&#160;in&#160;&#160;GENy&#160;&#160;can&#160;&#160;be&#160;&#160;found&#160;&#160;in&#160;&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#90">r&#160;&#160;6.3.2&#160;&#160;‘Channel&#160;<br/>Configuration’.</a>&#160;<br/>
Note&#160;that&#160;some&#160;additional&#160;configuration&#160;for&#160;this&#160;feature&#160;has&#160;to&#160;be&#160;done&#160;in&#160;the&#160;PDU&#160;router.&#160;<br/>Refer to&#160;[10]&#160;for&#160;details.&#160;<br/>
<b>3.15.1&#160;&#160;Configuration Preconditions&#160;in an&#160;AUTOSAR&#160;ECU&#160;Configuration&#160;</b><br/>
For&#160;using&#160;the&#160;feature&#160;‘NM&#160;User&#160;Data&#160;via&#160;Com’&#160;some&#160;additional&#160;configuration&#160;content&#160;within&#160;<br/>the&#160;&#160;AUTOSAR&#160;&#160;system&#160;&#160;description&#160;&#160;extract&#160;&#160;is&#160;&#160;necessary.&#160;&#160;The&#160;&#160;following&#160;&#160;table&#160;&#160;provides&#160;&#160;an&#160;<br/>overview&#160;of&#160;the&#160;items that&#160;have&#160;to&#160;be&#160;added&#160;to&#160;the&#160;system&#160;description.&#160;<br/>
<b>Configuration&#160;Element&#160;</b><br/>
<b>Description&#160;</b><br/>
Signal&#160;I-PDU&#160;<br/>
For&#160;each&#160;NM&#160;message one&#160;signal&#160;I-PDU&#160;must&#160;be&#160;configured.&#160;An&#160;<br/>appropriate&#160;signal&#160;mapping&#160;to&#160;the&#160;I-Signals&#160;has&#160;to&#160;be&#160;defined&#160;here.&#160;I-<br/>PDUs&#160;are&#160;defined&#160;in&#160;the&#160;ECU-specific&#160;part.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
35&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-36_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-36_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-36_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>Configuration&#160;Element&#160;</b><br/>
<b>Description&#160;</b><br/>
I-Signal&#160;<br/>
Multiple system&#160;signals&#160;can&#160;be&#160;defined&#160;for&#160;each NM&#160;message.&#160;At&#160;<br/>least&#160;one&#160;signal&#160;is&#160;required.&#160;I-Signals&#160;are&#160;defined&#160;in the&#160;ECU-specific&#160;<br/>part&#160;and&#160;refer&#160;to a&#160;system&#160;signal.&#160;<br/>
System&#160;Signal&#160;<br/>
For&#160;each&#160;I-Signal&#160;a&#160;corresponding&#160;system&#160;signal&#160;is&#160;necessary&#160;which&#160;<br/>defines&#160;length,&#160;data&#160;type&#160;and initial&#160;value.&#160;<br/>
I-PDU&#160;Port&#160;<br/>
For&#160;each&#160;I-PDU&#160;an&#160;I-PDU&#160;port&#160;with the&#160;communication direction&#160;<br/>‘OUT’&#160;is&#160;required.&#160;<br/>
Signal&#160;Port&#160;<br/>
For&#160;each&#160;signal&#160;a signal&#160;port&#160;with the&#160;communication&#160;direction ‘OUT’&#160;<br/>is&#160;required.&#160;<br/>
I-PDU&#160;Triggering&#160;<br/>
For&#160;each&#160;I-PDU&#160;an&#160;I-PDU&#160;triggering is required&#160;that&#160;references&#160;to&#160;the&#160;<br/>corresponding I-PDU&#160;port&#160;and&#160;the&#160;signal&#160;I-PDU.&#160;<br/>
Signal&#160;Triggering&#160;<br/>
For&#160;each&#160;I-Signal&#160;a&#160;signal&#160;triggering is required&#160;that&#160;references&#160;to&#160;the&#160;<br/>corresponding signal&#160;port&#160;and&#160;I-Signal.&#160;<br/>
Table&#160;3-8&#160;&#160;<br/>
Configuration&#160;Precondition&#160;Overview&#160;for&#160;AUTOSAR&#160;ECU&#160;Configurations&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Changing&#160;the&#160;AUTOSAR&#160;System&#160;Description or&#160;AUTOSAR&#160;ECU&#160;Extract&#160;is&#160;usually&#160;not&#160;<br/>
<b>&#160;&#160;</b>the&#160;task&#160;of&#160;the&#160;user.&#160;This&#160;is&#160;the&#160;task&#160;of&#160;the&#160;OEM.&#160;<br/>
Note&#160;that&#160;the&#160;AUTOSAR&#160;System&#160;Description and&#160;AUTOSAR&#160;ECU&#160;Extracts&#160;may&#160;even&#160;<br/>be&#160;generated&#160;by&#160;the&#160;Vector&#160;toolchain&#160;from&#160;other&#160;input&#160;files&#160;(e.g.&#160;dbc)&#160;and&#160;these&#160;files&#160;<br/>already&#160;contain this&#160;information.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
Additional&#160;&#160;a&#160;&#160;reference&#160;&#160;from&#160;&#160;the&#160;&#160;NM&#160;&#160;PDU&#160;&#160;to&#160;&#160;the&#160;&#160;related&#160;&#160;I-PDU&#160;&#160;with&#160;&#160;the&#160;&#160;signals&#160;&#160;must&#160;&#160;be&#160;<br/>established.&#160;This&#160;can&#160;be&#160;accomplished&#160;by&#160;<br/>
<b>&gt;&#160;&#160;</b>adding&#160;‘Admin&#160;Data’&#160;to&#160;the&#160;NM PDU.&#160;This&#160;applies to&#160;ECU&#160;Extracts&#160;for&#160;AUTOSAR&#160;<br/>
versions less than&#160;3.2.&#160;The&#160;following&#160;an&#160;example&#160;of&#160;how&#160;this should&#160;be&#160;done:&#160;<br/>
&lt;NM-PDU&gt;&#160;<br/>&#160;&#160;&lt;SHORT-NAME&gt;NM_PDU&lt;/SHORT-NAME&gt;&#160;<br/>&#160;&#160;&lt;ADMIN-DATA&gt;&#160;<br/>&#160;&#160;&#160;<br/>
&lt;SDGS&gt;&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
&lt;SDG GID=&#34;DV:SIGNAL-I-PDU-REF&#34;&gt;&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
&#160;&lt;SD&gt;/ECU/PDUS/APPL_NM_UD_1_TGW&lt;/SD&gt;&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
&lt;/SDG&gt;&#160;<br/>
&#160;&#160;&#160;<br/>
&lt;/SDGS&gt;&#160;<br/>
&#160;&#160;&lt;/ADMIN-DATA&gt;&#160;<br/>&#160;&#160;&lt;LENGTH&gt;64&lt;/LENGTH&gt;&#160;<br/>&lt;/NM-PDU&gt;&#160;<br/>
<b>&gt;&#160;&#160;</b>adding&#160;‘ISignalToIPduMappings’&#160;to&#160;the&#160;NM PDU.&#160;This applies&#160;to&#160;ECU Extracts for&#160;<br/>
AUTOSAR versions greater than&#160;or&#160;equal to&#160;3.2.&#160;Note&#160;that&#160;the&#160;Vector toolchain&#160;<br/>automatically&#160;creates a&#160;Signal I-PDU&#160;containing&#160;the&#160;signals provided&#160;in&#160;the&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
36&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-37_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-37_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
‘ISignalToIPduMappings’&#160;list&#160;in&#160;the&#160;AUTOSAR&#160;ECU&#160;Configuration.&#160;The&#160;short&#160;name&#160;of&#160;<br/>this created&#160;I-PDU&#160;is the&#160;concatenation&#160;of&#160;the&#160;short&#160;name&#160;of&#160;the&#160;NM-PDU&#160;and&#160;the&#160;<br/>suffix&#160;‘_UD’.&#160;The&#160;following&#160;example&#160;demonstrates&#160;how&#160;this should&#160;be&#160;done&#160;<br/>(NM_PDU_UD&#160;will be&#160;the&#160;short name&#160;of&#160;the&#160;Signal I-PDU):&#160;<br/>
&lt;NM-PDU&gt;&#160;<br/>&#160;&#160;&lt;SHORT-NAME&gt;NM_PDU&lt;/SHORT-NAME&gt;&#160;<br/>&#160;&#160;&lt;LENGTH&gt;8&lt;/LENGTH&gt;&#160;<br/>&#160;&#160;&lt;I-SIGNAL-TO-I-PDU-MAPPINGS&gt;&#160;<br/>&#160; &#160;&#160;&lt;I-SIGNAL-TO-I-PDU-MAPPING&gt;&#160;<br/>&#160; &#160; &#160;&#160;&lt;SHORT-NAME&gt;NM_USR_DT&lt;/SHORT-NAME&gt;&#160;<br/>&#160; &#160; &#160; &#160;&#160;&lt;PACKING-BYTE-ORDER&gt;MOST-SIGNIFICANT-BYTE-LAST&lt;/PACKING-<br/>BYTE-ORDER&gt;&#160;<br/>&#160; &#160; &#160; &#160;&#160;&lt;SIGNAL-REF DEST=&#34;I-<br/>SIGNAL&#34;&gt;/ISignal/NM_USR_DT_SIGNAL&lt;/SIGNAL-REF&gt;&#160;<br/>&#160; &#160; &#160; &#160;&#160;&lt;START-POSITION&gt;32&lt;/START-POSITION&gt;&#160;<br/>&#160; &#160;&#160;&lt;/I-SIGNAL-TO-I-PDU-MAPPING&gt;&#160;<br/>&#160;&#160;&lt;/I-SIGNAL-TO-I-PDU-MAPPINGS&gt;&#160;<br/>&lt;/NM-PDU&gt;&#160;<br/>
<b>3.15.1.1&#160;&#160;Caveats for Multiple&#160;ECU&#160;Support&#160;</b><br/>
If&#160;&#160;Multiple&#160;&#160;ECU&#160;&#160;Support&#160;&#160;is&#160;&#160;used&#160;&#160;in&#160;&#160;the&#160;&#160;ECU&#160;&#160;Configuration,&#160;&#160;a&#160;&#160;PDU&#160;&#160;Overlay&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>created&#160;by&#160;the&#160;user&#160;for&#160;the&#160;NM&#160;TX&#160;PDU.&#160;Refer&#160;to&#160;[9]&#160;for&#160;details&#160;about&#160;creating&#160;such&#160;a&#160;PDU&#160;<br/>Overlay&#160;for the&#160;Physical Multiple&#160;ECU&#160;Use&#160;Case.&#160;<br/>
For&#160;&#160;AUTOSAR&#160;&#160;versions&#160;&#160;3.2&#160;&#160;the&#160;&#160;Signal&#160;&#160;I-PDU&#160;&#160;which&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;configured&#160;&#160;for&#160;&#160;a&#160;&#160;PDU&#160;<br/>Overlay&#160;&#160;cannot&#160;&#160;be&#160;&#160;found&#160;&#160;directly&#160;&#160;inside&#160;&#160;the&#160;&#160;ECU&#160;&#160;Extract,&#160;&#160;it&#160;&#160;is&#160;&#160;created&#160;&#160;by&#160;&#160;the&#160;&#160;Vector&#160;<br/>toolchain&#160;&#160;during&#160;&#160;the&#160;&#160;creation&#160;&#160;of&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;ECUC.&#160;&#160;The&#160;&#160;short&#160;&#160;name&#160;&#160;of&#160;&#160;the&#160;&#160;NM-PDU&#160;<br/>(“NM_PDU” in&#160;the&#160;example&#160;above) has to&#160;be&#160;used&#160;for configuring&#160;the&#160;PDU&#160;Overlay.&#160;<br/>
<b>3.15.2&#160;&#160;Configuration Preconditions&#160;in a&#160;DBC&#160;Based&#160;Configuration&#160;</b><br/>
The&#160;configuration&#160;of&#160;this feature via&#160;DBC is not&#160;supported.&#160;<br/>
<b>3.16&#160;&#160;QNX&#160;Support&#160;</b><br/>
The&#160;AUTOSAR CAN NM&#160;provides QNX&#160;support.&#160;<br/>
This&#160;&#160;feature&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;in&#160;&#160;ECUs&#160;&#160;where&#160;&#160;the&#160;&#160;main&#160;&#160;operating&#160;&#160;system&#160;&#160;has&#160;&#160;a&#160;&#160;long&#160;&#160;booting&#160;<br/>time&#160;&#160;and&#160;&#160;until&#160;&#160;the&#160;&#160;system&#160;&#160;has&#160;&#160;booted&#160;&#160;a&#160;&#160;so&#160;&#160;called&#160;&#160;mini-driver&#160;&#160;containing&#160;&#160;parts&#160;&#160;of&#160;&#160;the&#160;<br/>communication&#160;&#160;stack&#160;&#160;takes&#160;&#160;care&#160;&#160;of&#160;&#160;the&#160;&#160;basic&#160;&#160;communication&#160;&#160;tasks.&#160;&#160;After&#160;&#160;the&#160;&#160;main&#160;<br/>operating&#160;&#160;system&#160;&#160;is&#160;&#160;running&#160;&#160;the&#160;&#160;state&#160;&#160;of&#160;&#160;the&#160;&#160;mini-driver&#160;&#160;shall&#160;&#160;be&#160;&#160;transferred&#160;&#160;so&#160;&#160;that&#160;&#160;the&#160;<br/>main&#160;&#160;system&#160;&#160;can&#160;&#160;take&#160;&#160;over&#160;&#160;the&#160;&#160;already&#160;&#160;started&#160;&#160;communication.&#160;&#160;Therefore&#160;&#160;the&#160;&#160;API&#160;&#160;for&#160;<br/>getting&#160;the&#160;module&#160;context&#160;has&#160;to&#160;be&#160;available&#160;in&#160;the&#160;mini-driver&#160;and&#160;the&#160;API&#160;for&#160;the&#160;setting&#160;<br/>of&#160;the&#160;module&#160;context&#160;has to&#160;be&#160;available&#160;in&#160;the&#160;main&#160;system.&#160;<br/>
This&#160;feature&#160;is&#160;not&#160;described&#160;in&#160;detail&#160;here&#160;as&#160;it&#160;is&#160;part&#160;of&#160;the&#160;Vector&#160;QNX&#160;wrapper&#160;module&#160;<br/>and&#160;shall&#160;only&#160;be&#160;used&#160;by&#160;this&#160;module.&#160;Details&#160;can&#160;be&#160;found&#160;in&#160;the&#160;corresponding&#160;technical&#160;<br/>reference&#160;of&#160;the&#160;QNX&#160;wrapper&#160;module.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
37&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-38_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-38_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-38_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3.17&#160;&#160;Extended Bus&#160;Synchronization&#160;</b><br/>
If&#160;&#160;this&#160;&#160;feature&#160;&#160;is&#160;&#160;enabled&#160;&#160;the&#160;&#160;following&#160;&#160;API&#160;&#160;is&#160;&#160;available&#160;&#160;independently&#160;&#160;from&#160;&#160;‘Bus&#160;<br/>Synchronization&#160;Enabled’:&#160;<br/>
void&#160;<b>CanNm_RequestBusSynchronization&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const NetworkHandleType nmChannelHandle )&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#67">(5.5.2.8.1)</a>&#160;<br/>
This&#160;API&#160;can&#160;be&#160;used&#160;by&#160;the&#160;application&#160;to&#160;perform&#160;additional&#160;NM&#160;message&#160;transmissions&#160;<br/>in&#160;the&#160;start-up&#160;phase&#160;to&#160;reduce&#160;start-up&#160;delays&#160;of&#160;other&#160;nodes.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;API&#160;shall&#160;only&#160;be&#160;called&#160;by&#160;the&#160;application during&#160;start-up&#160;phase.&#160;It&#160;is&#160;strictly&#160;<br/>
<b>&#160;&#160;</b>recommended&#160;to&#160;call&#160;this&#160;API&#160;not&#160;when the&#160;NM&#160;already&#160;has&#160;entered&#160;‘Ready&#160;Sleep&#160;<br/>
State’,&#160;especially&#160;when the&#160;coordination&#160;feature&#160;is&#160;used.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>This&#160;&#160;feature&#160;&#160;is&#160;&#160;optional&#160;&#160;and&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;configured&#160;&#160;(refer&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#84">6.3.1&#160;&#160;‘Component&#160;<br/>Configuration’)</a>.&#160;<br/>
<b>3.18&#160;&#160;Gateway&#160;Extension Support&#160;</b><br/>
The&#160;&#160;gateway&#160;&#160;extension&#160;&#160;support&#160;&#160;contains&#160;&#160;two&#160;&#160;optional&#160;&#160;features&#160;&#160;that&#160;&#160;can&#160;&#160;be&#160;&#160;enabled&#160;<br/>separately&#160;in&#160;&#160;the&#160;configuration,&#160;the&#160;‘NM&#160;Gateway&#160;Extension&#160;Support’&#160;and&#160;the&#160;‘Diagnostic&#160;<br/>Gateway&#160;Extension&#160;Support’.&#160;<br/>
When&#160;&#160;‘NM&#160;&#160;Gateway&#160;&#160;Extension&#160;&#160;Support’&#160;&#160;or&#160;&#160;‘Diagnostic&#160;&#160;Gateway&#160;&#160;Extension&#160;&#160;Support’&#160;&#160;is&#160;<br/>enabled&#160;&#160;then&#160;&#160;CAN&#160;&#160;NM&#160;&#160;provides&#160;&#160;the&#160;&#160;following&#160;&#160;additional&#160;&#160;callback&#160;&#160;to&#160;&#160;the&#160;&#160;application&#160;&#160;each&#160;<br/>time&#160;a&#160;NM message&#160;is&#160;received:&#160;<br/>
void&#160;<b>Nm_GwPduRxIndication&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const NetworkHandleType nmChannelHandle,&#160;<br/>
&#160;&#160;uint8 nmNodeId, uint8 nmReqId, uint8 nmReqCh&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#78">(5.8.2.3)</a>&#160;<br/>
Within&#160;this&#160;callback&#160;the&#160;node&#160;identifier,&#160;byte&#160;4&#160;(requested&#160;identifier)&#160;and&#160;byte&#160;5&#160;(requested&#160;<br/>channels)&#160;of&#160;the&#160;NM message&#160;are&#160;passed&#160;to&#160;the&#160;NM Interface.&#160;<br/>
When&#160;&#160;‘Diagnostic&#160;&#160;Gateway&#160;&#160;Extension&#160;&#160;Support’&#160;&#160;is&#160;&#160;enabled&#160;&#160;then&#160;&#160;additionally&#160;&#160;the&#160;&#160;following&#160;<br/>service&#160;function&#160;is&#160;provided&#160;by&#160;the&#160;CAN&#160;NM:&#160;&#160;<br/>
Nm_ReturnType&#160;<b>CanNm_SetDiagGwReqId&#160;</b>(&#160;uint8 nmReqId&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#74">(5.5.3.4)</a>&#160;<br/>
If&#160;this&#160;function&#160;is&#160;called&#160;by&#160;the&#160;NM&#160;Interface&#160;CAN&#160;NM&#160;sets&#160;byte&#160;4&#160;in&#160;the&#160;NM&#160;transmission&#160;<br/>data&#160;buffer with&#160;the&#160;passed&#160;identifier and&#160;requests&#160;an&#160;additional&#160;NM&#160;message&#160;transmission&#160;<br/>on&#160;all&#160;CAN&#160;NM&#160;channels.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
38&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-39_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-39_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-39_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Note&#160;that&#160;an&#160;additional&#160;NM&#160;message&#160;transmission&#160;can&#160;only&#160;be&#160;performed&#160;when the&#160;<br/>
&#160;&#160;CAN&#160;NM&#160;is&#160;in state ‘Repeat&#160;Message’&#160;or&#160;‘Normal&#160;Operation’.&#160;Otherwise the request&#160;is&#160;<br/>
discarded.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>More&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;&#160;features&#160;&#160;can&#160;&#160;be&#160;&#160;found&#160;&#160;in&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#84">6.3.1&#160;<br/>‘Component&#160;Configuration’</a>.&#160;<br/>
<b>3.19&#160;&#160;Active&#160;Wake-up&#160;Handling&#160;</b><br/>
The&#160;&#160;mode&#160;&#160;change&#160;&#160;from&#160;&#160;Bus-Sleep&#160;&#160;Mode&#160;&#160;or&#160;&#160;Prepare&#160;&#160;Bus-Sleep&#160;&#160;Mode&#160;&#160;to&#160;&#160;Network&#160;&#160;Mode&#160;<br/>triggered&#160;&#160;by&#160;&#160;CanNm_NetworkRequest()&#160;&#160;is&#160;&#160;specified&#160;&#160;as&#160;&#160;“Active&#160;&#160;Wake-up”.&#160;&#160;Upon&#160;&#160;an&#160;<br/>Active&#160;Wake-up&#160;the&#160;CAN&#160;NM&#160;sets&#160;the&#160;active&#160;wake-up&#160;bit&#160;within&#160;the&#160;Control&#160;Bit&#160;Vector&#160;at&#160;bit&#160;<br/>position&#160;4.&#160;<br/>
This&#160;&#160;feature&#160;&#160;is&#160;&#160;optional&#160;&#160;and&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;configured.&#160;&#160;For&#160;&#160;configuration&#160;&#160;information&#160;&#160;refer&#160;&#160;to&#160;<br/>chapte<a href="TechnicalReference_Asr_CanNms.html#84">r&#160;6.3.1&#160;‘Component&#160;Configuration’&#160;a</a>nd&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#90">r&#160;6.3.2&#160;‘Channel&#160;Configuration’.</a>&#160;<br/>
<b>3.20&#160;&#160;Immediate&#160;Nm&#160;Transmissions&#160;</b><br/>
If&#160;an&#160;Active&#160;Wake-up&#160;occurs&#160;the&#160;CAN&#160;NM&#160;transmits&#160;the&#160;first&#160;NM&#160;message&#160;immediately&#160;(the&#160;<br/>NM&#160;&#160;message&#160;&#160;offset&#160;&#160;time&#160;&#160;is&#160;&#160;ignored)&#160;&#160;when&#160;&#160;entering&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;State.&#160;&#160;For&#160;&#160;the&#160;&#160;next&#160;<br/>NM&#160;&#160;messages&#160;&#160;CAN&#160;&#160;NM&#160;&#160;uses&#160;&#160;a&#160;&#160;faster&#160;&#160;NM&#160;&#160;message&#160;&#160;cycle&#160;&#160;time.&#160;&#160;Afterwards&#160;&#160;it&#160;&#160;uses&#160;&#160;the&#160;<br/>normal NM&#160;message&#160;cycle&#160;time.&#160;This behavior is illustrated&#160;in<a href="TechnicalReference_Asr_CanNms.html#39">&#160;Figure&#160;3-4.</a>&#160;<br/>
Behavior with&#160;n := Immediate Nm&#160;Transmissions &gt;&#160;0<br/>
Any state except<br/>
Repeat Message<br/>
t<br/>
Repeat Message<br/>
0<br/>
CanNm_NetworkRequest<br/>
1st<br/>
2nd<br/>
...<br/>
3rd<br/>
(n-1)th<br/>
nth<br/>
...<br/>
Immediate&#160;Nm<br/>
Immediate&#160;Nm<br/>
Immediate&#160;Nm<br/>
Msg&#160;Cycle Time<br/>
CycleTime<br/>
CycleTime<br/>
CycleTime<br/>
NM Message&#160;Transmissions<br/>
&#160;<br/>
Figure&#160;3-4&#160;<br/>
Immediate&#160;Nm&#160;Transmissions&#160;<br/>
The&#160;&#160;number&#160;&#160;of&#160;&#160;‘Immediate&#160;&#160;Nm&#160;&#160;Transmissions’&#160;&#160;is&#160;&#160;the&#160;&#160;number&#160;&#160;that&#160;&#160;is&#160;&#160;configured&#160;&#160;for&#160;&#160;this&#160;<br/>parameter&#160;&#160;in&#160;&#160;the&#160;&#160;channel&#160;&#160;settings&#160;&#160;in&#160;&#160;GENy&#160;&#160;(see&#160;&#160;also&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#90">6.3.2&#160;&#160;‘Channel&#160;<br/>Configuration’)</a>.&#160;As&#160;it&#160;can&#160;be&#160;seen&#160;<a href="TechnicalReference_Asr_CanNms.html#39">in&#160;Figure&#160;3-4,&#160;</a>after&#160;the&#160;first&#160;Immediate&#160;Nm&#160;Transmission&#160;<br/>the&#160;interval&#160;between&#160;the&#160;NM&#160;messages&#160;is&#160;‘Immediate&#160;Nm&#160;CycleTime’&#160;for&#160;<i>(n-1)</i>&#160;times.&#160;Then,&#160;<br/>the&#160;usual interval ‘Msg&#160;Cycle&#160;Time’&#160;is used&#160;again.&#160;<br/>Note&#160;&#160;that&#160;&#160;“Any&#160;&#160;state&#160;&#160;except&#160;&#160;Repeat&#160;&#160;Message”&#160;&#160;in&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#39">Figure&#160;&#160;3-4&#160;&#160;</a>refers&#160;&#160;to&#160;&#160;‘Bus&#160;&#160;Sleep’&#160;&#160;and&#160;<br/>‘Prepare&#160;&#160;Bus&#160;&#160;Sleep’.&#160;&#160;If&#160;&#160;the&#160;&#160;setting&#160;&#160;‘Pn&#160;&#160;Handle&#160;&#160;Multiple&#160;&#160;Network&#160;&#160;Requests’&#160;&#160;is&#160;&#160;ON,&#160;&#160;it&#160;&#160;also&#160;<br/>refers to&#160;‘Ready&#160;Sleep’&#160;and&#160;‘Normal Operation’.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
39&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-40_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-40_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-40_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-40_4.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
This&#160;&#160;feature&#160;&#160;is&#160;&#160;optional&#160;&#160;and&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;enabled&#160;&#160;in&#160;&#160;the&#160;&#160;configuration.&#160;&#160;The&#160;&#160;amount&#160;&#160;of&#160;<br/>messages&#160;&#160;that&#160;&#160;are&#160;&#160;transmitted&#160;&#160;faster&#160;&#160;(‘Immediate&#160;&#160;Nm&#160;&#160;Transmissions’)&#160;&#160;and&#160;&#160;the&#160;&#160;fast&#160;<br/>message&#160;cycle&#160;time&#160;(‘Immediate&#160;Nm&#160;CycleTime’)&#160;can&#160;also&#160;be&#160;configured.&#160;Refer&#160;to&#160;chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#84">6.3.1&#160;&#160;‘Component&#160;&#160;Configuration’</a>&#160;&#160;and&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#90">6.3.2&#160;&#160;‘Channel&#160;&#160;Configuration’</a>&#160;&#160;for&#160;<br/>configuration&#160;details.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>This&#160;feature&#160;should not&#160;be confused&#160;with the&#160;possibility&#160;for&#160;an&#160;immediate&#160;transmission&#160;if&#160;<br/>
&#160;&#160;the&#160;‘Com&#160;User&#160;Data&#160;Enabled’&#160;feature is&#160;on&#160;(chapt<a href="TechnicalReference_Asr_CanNms.html#34">er&#160;3.15)</a>&#160;and should&#160;also&#160;not&#160;be&#160;<br/>
confused with the&#160;<a href="TechnicalReference_Asr_CanNms.html#40">‘Immediate&#160;Restart&#160;Enabled’</a>&#160;feature&#160;described&#160;in the&#160;following&#160;<br/>chapter.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>If&#160;the&#160;send&#160;request&#160;of&#160;an&#160;‘immediate&#160;transmission’&#160;is&#160;rejected&#160;by&#160;the lower&#160;layer&#160;(e.g.&#160;<br/>
&#160;&#160;CanIf),&#160;the&#160;rejected&#160;send&#160;request&#160;is&#160;not&#160;considered as&#160;‘immediate&#160;transmission’.&#160;That&#160;<br/>
means&#160;that&#160;the&#160;counter&#160;that&#160;counts&#160;the&#160;number&#160;of&#160;‘immediate&#160;transmissions’&#160;<br/><i>ImmediateNmMsgCount</i>&#160;is&#160;not&#160;decremented.&#160;<br/>Example:&#160;Let&#160;‘Immediate&#160;Nm&#160;Transmissions’&#160;:=&#160;2.&#160;The&#160;initial&#160;counter&#160;value&#160;of&#160;<br/><i>ImmediateNmMsgCount</i>&#160;is&#160;1.&#160;<br/>
1.&#160;&#160;When Repeat&#160;Message&#160;has&#160;just&#160;been&#160;entered,&#160;the&#160;first&#160;transmission&#160;request&#160;<br/>
<i>TReqA</i>&#160;is&#160;rejected.&#160;<i>ImmediateNmMsgCount</i>&#160;is&#160;not&#160;decremented.&#160;<br/>
2.&#160;&#160;CanNm&#160;waits&#160;‘Immediate&#160;Msg&#160;CycleTime’&#160;(first&#160;interval&#160;<i>tint1st</i>).&#160;<br/>
3.&#160;&#160;CanNm&#160;sends&#160;the&#160;NM&#160;message&#160;successfully.&#160;<i>ImmediateNmMsgCount</i>&#160;is&#160;<br/>
decremented&#160;to&#160;0.&#160;<br/>
4.&#160;&#160;CanNm&#160;waits&#160;‘Immediate&#160;Msg&#160;CycleTime’&#160;again&#160;(second&#160;interval&#160;<i>tint2nd</i>).&#160;<br/>
5.&#160;&#160;CanNm&#160;sends&#160;the&#160;next&#160;NM&#160;message&#160;successfully.&#160;<br/>
6.&#160;&#160;Then&#160;‘Msg&#160;Cycle&#160;Time’&#160;is&#160;waited&#160;until&#160;the&#160;next&#160;NM&#160;message is&#160;sent&#160;because&#160;<br/>
<i>ImmediateNmMsgCount</i>&#160;is&#160;already&#160;0.&#160;<br/>
If&#160;the&#160;first&#160;NM&#160;transmission&#160;request&#160;<i>TReqA</i>&#160;was successful&#160;(step&#160;1),&#160;the&#160;second interval&#160;<br/>time&#160;<i>tint2nd</i>&#160;would be&#160;‘Msg&#160;Cycle&#160;Time’&#160;instead of&#160;‘Immediate&#160;Msg&#160;CycleTime’.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.21&#160;&#160;Immediate&#160;Restart Enabled&#160;</b><br/>
This&#160;feature&#160;enables&#160;the&#160;possibility&#160;to&#160;send&#160;an&#160;additional&#160;NM&#160;message&#160;upon&#160;the&#160;transition&#160;<br/>from&#160;Prepare&#160;Bus&#160;Sleep&#160;to&#160;Repeat&#160;Message&#160;if&#160;and&#160;only&#160;if&#160;the&#160;network&#160;is&#160;requested&#160;actively&#160;<br/>(e.g.&#160;there is&#160;a&#160;request&#160;for Full Communication&#160;in&#160;ComM).&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
40&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-41_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-41_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-41_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
Behavior with&#160;Immediate Restart Enabled<br/>
Prepare Bus Sleep<br/>
Repeat Message<br/>
t<br/>
0<br/>
CanNm_NetworkRequest<br/>
...<br/>
Msg&#160;Cycle Offset<br/>
Msg&#160;Cycle Time<br/>
Msg&#160;Cycle Time<br/>
NM Message&#160;Transmissions<br/>
&#160;<br/>
Figure&#160;3-5&#160;<br/>
Behavior&#160;for&#160;NM&#160;Transmissions&#160;if&#160;Immediate&#160;Restart&#160;Enabled&#160;is&#160;ON&#160;<br/>
This&#160;&#160;behavior&#160;&#160;is&#160;&#160;depicted&#160;&#160;in&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#41">Figure&#160;&#160;3-5.&#160;&#160;</a>Note&#160;&#160;that&#160;&#160;the&#160;&#160;only&#160;&#160;difference&#160;&#160;to&#160;&#160;the&#160;&#160;standard&#160;<br/>transmission&#160;&#160;behavior&#160;&#160;(i.e.&#160;&#160;‘Immediate&#160;&#160;Restart&#160;&#160;Enabled’&#160;&#160;would&#160;&#160;be&#160;&#160;OFF,&#160;&#160;for&#160;&#160;the&#160;&#160;behavior&#160;<br/>see&#160;&#160;also&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#27">3.5.3)&#160;&#160;</a>is&#160;&#160;the&#160;&#160;additional&#160;&#160;NM&#160;&#160;message&#160;&#160;right&#160;&#160;after&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;has&#160;<br/>been&#160;entered.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>The&#160;additional&#160;NM&#160;message&#160;is&#160;only&#160;sent&#160;if&#160;the&#160;‘Msg Cycle Offset’&#160;setting&#160;is&#160;greater&#160;than&#160;<br/>
&#160;&#160;0 and if&#160;‘Immediate&#160;Nm&#160;Transmissions’&#160;=&#160;0&#160;(refer&#160;to chapter<a href="TechnicalReference_Asr_CanNms.html#39">&#160;3.20&#160;</a>for&#160;details).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.22&#160;&#160;Car&#160;Wake-up&#160;</b><br/>
Every&#160;&#160;ECU&#160;&#160;shall&#160;&#160;be&#160;&#160;able&#160;&#160;to&#160;&#160;wake&#160;&#160;up&#160;&#160;all&#160;&#160;other&#160;&#160;ECUs&#160;&#160;of&#160;&#160;the&#160;&#160;car.&#160;&#160;This&#160;&#160;wake-up&#160;&#160;request&#160;<br/>information&#160;&#160;is&#160;&#160;contained&#160;&#160;in&#160;&#160;the&#160;&#160;NM&#160;&#160;message&#160;&#160;user&#160;&#160;data&#160;&#160;of&#160;&#160;an&#160;&#160;ECU.&#160;&#160;The&#160;&#160;central&#160;&#160;gateway&#160;<br/>ECU&#160;&#160;evaluates&#160;&#160;the&#160;&#160;Car&#160;&#160;Wake-up&#160;&#160;request&#160;&#160;information&#160;&#160;and&#160;&#160;wakes&#160;&#160;up&#160;&#160;all&#160;&#160;connected&#160;<br/>communication&#160;channels.&#160;<br/>
This&#160;&#160;feature&#160;&#160;is&#160;&#160;optional&#160;&#160;and&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;configured.&#160;&#160;Further&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;<br/>configuration&#160;&#160;can&#160;be&#160;found&#160;&#160;in&#160;&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#84">r&#160;&#160;6.3.1&#160;‘Component&#160;&#160;Configuration’&#160;&#160;</a>and&#160;&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;&#160;6.3.2&#160;<br/>‘Channel Configuration’.</a>&#160;<br/>
<b>3.22.1&#160;&#160;Rx-Path&#160;</b><br/>
If&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;receives&#160;&#160;a&#160;&#160;NM&#160;&#160;message&#160;&#160;it&#160;&#160;evaluates&#160;&#160;the&#160;&#160;user&#160;&#160;data&#160;&#160;content.&#160;&#160;If&#160;&#160;the&#160;&#160;Car&#160;<br/>Wake-up&#160;Bit&#160;is&#160;set&#160;&#160;and&#160;the&#160;Node&#160;ID&#160;passes&#160;a&#160;filter&#160;(if&#160;Node&#160;ID&#160;filter&#160;is&#160;enabled)&#160;the&#160;&#160;CAN&#160;<br/>NM&#160;notifies&#160;the&#160;NM via&#160;the&#160;following&#160;callback function:&#160;<br/>
void&#160;<b>Nm_CarWakeUpIndication&#160;</b>(&#160;&#160;<br/>&#160;&#160;const NetworkHandleType nmChannelHandle&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#77">(5.8.1)</a>&#160;<br/>
&#160;<br/>
<b>3.22.2&#160;&#160;Tx-Path&#160;</b><br/>
For&#160;the&#160;transmission&#160;of&#160;the&#160;Car&#160;Wake-up&#160;Bit&#160;it&#160;has&#160;to&#160;be&#160;set&#160;at&#160;the&#160;corresponding&#160;location&#160;<br/>within&#160;&#160;the&#160;&#160;NM&#160;&#160;user&#160;&#160;data.&#160;&#160;If&#160;&#160;the&#160;&#160;feature&#160;&#160;‘NM&#160;&#160;User&#160;&#160;Data&#160;&#160;via&#160;&#160;Com’&#160;&#160;is&#160;&#160;used&#160;&#160;and&#160;&#160;the&#160;<br/>corresponding&#160;&#160;signal&#160;&#160;and&#160;&#160;I-PDU&#160;&#160;are&#160;&#160;configured&#160;for&#160;&#160;directly&#160;&#160;transmitting&#160;&#160;a&#160;&#160;changed&#160;&#160;signal&#160;<br/>the&#160;information&#160;is sent&#160;immediately.&#160;Refer also&#160;to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#34">r&#160;3.15&#160;‘NM&#160;User Data&#160;via&#160;Com’.</a>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
41&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-42_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-42_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-42_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-42_4.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>It&#160;is&#160;recommended&#160;to&#160;use the&#160;feature&#160;‘NM&#160;User&#160;Data&#160;via Com’&#160;for&#160;the&#160;transmission&#160;<br/>
&#160;&#160;path.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.23&#160;&#160;Partial&#160;Networking&#160;</b><br/>
To&#160;&#160;reduce&#160;&#160;the&#160;&#160;power&#160;&#160;consumption&#160;&#160;of&#160;&#160;ECUs&#160;&#160;it&#160;&#160;shall&#160;&#160;be&#160;&#160;possible&#160;&#160;to&#160;&#160;switch&#160;&#160;off&#160;&#160;the&#160;<br/>communication&#160;&#160;stack&#160;&#160;during&#160;&#160;active&#160;&#160;bus&#160;&#160;communication.&#160;&#160;To&#160;&#160;control&#160;&#160;the&#160;&#160;shutdown&#160;&#160;and&#160;<br/>wake-up&#160;&#160;of&#160;&#160;such&#160;&#160;ECUs&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;provides&#160;&#160;an&#160;&#160;additional&#160;algorithm.&#160;&#160;The&#160;&#160;NM&#160;&#160;message&#160;<br/>user&#160;&#160;data&#160;&#160;contains&#160;&#160;the&#160;&#160;information&#160;&#160;which&#160;&#160;partial&#160;&#160;networks&#160;&#160;(PN)&#160;&#160;are&#160;&#160;requested.&#160;&#160;This&#160;<br/>information&#160;is&#160;evaluated&#160;by&#160;the&#160;CAN&#160;NM&#160;and&#160;provided&#160;to&#160;the&#160;upper&#160;layer&#160;in&#160;an&#160;aggregated&#160;<br/>form&#160;by&#160;updating&#160;the&#160;content&#160;of&#160;additional I-PDUs&#160;in&#160;the&#160;Com.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;configuration&#160;setting ‘Com&#160;User&#160;Data&#160;Enabled’&#160;has&#160;to be&#160;enabled&#160;to use the&#160;Partial&#160;<br/>
<b>&#160;&#160;</b>Networking&#160;feature.&#160;Refer&#160;to chapter<a href="TechnicalReference_Asr_CanNms.html#34">&#160;3.15&#160;</a>for&#160;more details&#160;about&#160;the&#160;<a href="TechnicalReference_Asr_CanNms.html#34">‘NM&#160;User&#160;Data&#160;via&#160;</a><br/>
<a href="TechnicalReference_Asr_CanNms.html#34">Com’&#160;</a>feature.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>Algorithm&#160;details are&#160;described&#160;in&#160;the&#160;following&#160;sub-chapters.&#160;<br/>
This&#160;&#160;feature&#160;&#160;and&#160;&#160;all&#160;&#160;of&#160;&#160;its&#160;&#160;sub-features&#160;&#160;are&#160;&#160;optional&#160;&#160;and&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;&#160;configured.&#160;&#160;For&#160;<br/>configuration&#160;&#160;information&#160;&#160;refer&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#84">6.3.1&#160;&#160;‘Component&#160;&#160;Configuration’&#160;&#160;</a>and&#160;&#160;chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#90">6.3.2&#160;‘Channel Configuration’.</a>&#160;<br/>
<b>3.23.1&#160;&#160;Availability&#160;of&#160;Partial&#160;Network&#160;Request&#160;Information&#160;</b><br/>
To&#160;distinguish&#160;between&#160;NM&#160;messages&#160;containing&#160;PN&#160;cluster&#160;request&#160;information&#160;(CRI)&#160;and&#160;<br/>NM&#160;messages&#160;without&#160;CRI&#160;a&#160;special&#160;bit&#160;in&#160;the&#160;control&#160;bit&#160;vector&#160;(bit&#160;6)&#160;is&#160;used.&#160;Only&#160;if&#160;this&#160;<br/>bit is set&#160;the&#160;NM message&#160;contains&#160;PN information&#160;and&#160;will be&#160;processed&#160;by&#160;the&#160;algorithm.&#160;<br/>
<b>3.23.2&#160;&#160;Transmission of the&#160;CRI&#160;Bit in the&#160;NM&#160;User&#160;Data&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;sets&#160;&#160;the&#160;&#160;CRI&#160;&#160;Bit&#160;&#160;at&#160;&#160;bit&#160;&#160;position&#160;&#160;6&#160;&#160;in&#160;&#160;the&#160;&#160;Control&#160;&#160;Bit&#160;&#160;Vector&#160;&#160;to&#160;&#160;1&#160;&#160;for&#160;&#160;each&#160;<br/>channel&#160;if&#160;the&#160;Partial Networking&#160;feature is&#160;enabled&#160;on&#160;the&#160;corresponding&#160;channel.&#160;<br/>
<b>3.23.3&#160;&#160;Filter&#160;Algorithm for&#160;Received NM&#160;Messages&#160;</b><br/>
NM&#160;messages&#160;that&#160;&#160;are&#160;not&#160;&#160;relevant&#160;for&#160;an&#160;ECU&#160;with&#160;PN&#160;must&#160;be&#160;dropped.&#160;Therefore&#160;the&#160;<br/>content&#160;&#160;of&#160;&#160;received&#160;&#160;NM&#160;&#160;messages&#160;&#160;is&#160;&#160;evaluated&#160;&#160;after&#160;&#160;the&#160;&#160;filter&#160;&#160;algorithm&#160;&#160;described&#160;&#160;in&#160;&#160;this&#160;<br/>section&#160;has&#160;been&#160;activated.&#160;Otherwise&#160;the&#160;usual&#160;way&#160;of&#160;receiving&#160;messages&#160;is&#160;being&#160;used.&#160;<br/>The&#160;filter&#160;is&#160;disabled&#160;after&#160;the&#160;initialization&#160;of&#160;the&#160;CAN&#160;NM&#160;module.&#160;The&#160;message&#160;reception&#160;<br/>filter&#160;&#160;is&#160;&#160;being&#160;&#160;activated&#160;&#160;after&#160;&#160;a&#160;&#160;call&#160;&#160;of&#160;&#160;CanNm_ConfirmPnAvailability&#160;&#160;(refer&#160;&#160;to&#160;&#160;chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#70">5.5.2.11.1&#160;&#160;‘CanNm_ConfirmPnAvailability:&#160;&#160;Notification&#160;&#160;for&#160;&#160;activating&#160;&#160;the&#160;&#160;PN&#160;&#160;filter&#160;<br/>functionality’</a>&#160;&#160;for&#160;&#160;further&#160;&#160;details).&#160;&#160;If&#160;&#160;Bus&#160;&#160;Sleep&#160;&#160;Mode&#160;&#160;is&#160;&#160;being&#160;&#160;entered,&#160;&#160;the&#160;&#160;filter&#160;&#160;is&#160;&#160;being&#160;<br/>disabled.&#160;The&#160;filter algorithm&#160;works as&#160;follows:&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
42&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-43_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-43_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
If&#160;the&#160;CRI&#160;bit&#160;is&#160;cleared&#160;the&#160;NM&#160;message&#160;is not&#160;relevant&#160;for&#160;the&#160;ECU.&#160;<br/>
If&#160;&#160;the&#160;&#160;CRI&#160;&#160;bit&#160;&#160;is&#160;&#160;set&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;evaluates&#160;&#160;the&#160;&#160;CRI&#160;&#160;content&#160;&#160;of&#160;&#160;the&#160;&#160;NM&#160;&#160;message.&#160;&#160;The&#160;<br/>location&#160;and&#160;the&#160;length&#160;of&#160;the&#160;CRI&#160;in&#160;the&#160;NM&#160;user&#160;data&#160;can&#160;be&#160;configured.&#160;Each&#160;bit&#160;within&#160;<br/>the&#160;&#160;CRI&#160;&#160;content&#160;&#160;represents&#160;&#160;one&#160;&#160;cluster.&#160;&#160;The&#160;&#160;corresponding&#160;&#160;cluster&#160;&#160;is&#160;&#160;being&#160;&#160;requested&#160;&#160;if&#160;<br/>and&#160;only&#160;if&#160;the&#160;bit&#160;that&#160;&#160;belongs&#160;to&#160;the&#160;cluster&#160;is&#160;set.&#160;Because&#160;not&#160;every&#160;cluster&#160;is&#160;relevant&#160;<br/>for&#160;the&#160;ECU&#160;a&#160;configurable&#160;PN&#160;filter&#160;mask&#160;is&#160;applied&#160;to&#160;the&#160;CRI&#160;content.&#160;Irrelevant&#160;cluster&#160;<br/>requests&#160;can&#160;be&#160;ignored&#160;by&#160;setting&#160;the&#160;corresponding&#160;bit&#160;in&#160;the&#160;filter&#160;to&#160;0.&#160;If&#160;at&#160;least&#160;one&#160;bit&#160;<br/>within&#160;&#160;the&#160;&#160;received&#160;&#160;PN&#160;&#160;information&#160;&#160;matches&#160;&#160;with&#160;&#160;a&#160;&#160;bit&#160;&#160;in&#160;&#160;the&#160;&#160;PN&#160;&#160;filter&#160;&#160;mask&#160;&#160;the&#160;&#160;NM&#160;<br/>message&#160;is relevant&#160;for the&#160;ECU,&#160;otherwise&#160;the&#160;NM message&#160;is not&#160;relevant&#160;for the&#160;ECU.&#160;<br/>
If&#160;a&#160;NM&#160;message&#160;is&#160;not&#160;relevant&#160;and&#160;the&#160;configuration&#160;parameter&#160;’All&#160;Nm&#160;Messages&#160;Keep&#160;<br/>Awake’&#160;&#160;is&#160;&#160;true&#160;&#160;the&#160;&#160;standard&#160;&#160;NM&#160;&#160;message&#160;&#160;reception&#160;&#160;handling&#160;&#160;is&#160;&#160;done,&#160;&#160;otherwise&#160;&#160;the&#160;&#160;NM&#160;<br/>message&#160;is ignored.&#160;<br/>
If&#160;a&#160;NM&#160;message&#160;is&#160;relevant&#160;&#160;the&#160;&#160;CAN&#160;NM&#160;performs&#160;&#160;the&#160;standard&#160;NM&#160;message&#160;reception&#160;<br/>and&#160;&#160;additionally&#160;&#160;the&#160;&#160;filtered&#160;&#160;PN&#160;&#160;content&#160;&#160;of&#160;&#160;this&#160;&#160;message&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;the&#160;&#160;further&#160;&#160;PN&#160;<br/>algorithm.&#160;<br/>
<b>3.23.4&#160;&#160;Aggregation&#160;of&#160;Requested&#160;Partial&#160;Networks&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;aggregates&#160;&#160;requested&#160;&#160;PN&#160;&#160;information&#160;&#160;by&#160;&#160;two&#160;&#160;slightly&#160;&#160;different&#160;&#160;algorithms.&#160;<br/>First&#160;&#160;the&#160;&#160;external&#160;&#160;(received)&#160;&#160;and&#160;&#160;internal&#160;&#160;(sent)&#160;&#160;PN&#160;&#160;requests&#160;&#160;are&#160;&#160;aggregated&#160;&#160;over&#160;&#160;all&#160;<br/>networks&#160;&#160;(channels)&#160;&#160;to&#160;&#160;a&#160;&#160;combined&#160;&#160;state&#160;&#160;called&#160;&#160;External&#160;&#160;Internal&#160;&#160;Requests&#160;&#160;Aggregated&#160;<br/>(EIRA).&#160;Second&#160;only&#160;the&#160;external&#160;(received)&#160;PN&#160;requests&#160;are&#160;aggregated&#160;for&#160;each&#160;network&#160;<br/>to&#160;&#160;the&#160;&#160;so&#160;&#160;called&#160;&#160;External&#160;&#160;Requests&#160;&#160;Aggregated&#160;&#160;(ERA)&#160;&#160;state.&#160;&#160;Both&#160;&#160;algorithms&#160;&#160;can&#160;&#160;be&#160;<br/>activated&#160;independently&#160;in&#160;the&#160;configuration.&#160;&#160;<br/>
For&#160;the&#160;EIRA&#160;algorithm&#160;every&#160;received&#160;or&#160;sent&#160;&#160;NM&#160;message&#160;on&#160;any&#160;network&#160;is&#160;evaluated&#160;<br/>and&#160;&#160;the&#160;&#160;relevant&#160;&#160;PN&#160;&#160;information&#160;&#160;(according&#160;&#160;to&#160;&#160;the&#160;&#160;PN&#160;&#160;filter&#160;&#160;mask&#160;&#160;and&#160;&#160;the&#160;&#160;CRI&#160;&#160;bit)&#160;&#160;is&#160;<br/>combined&#160;&#160;to&#160;&#160;one&#160;&#160;aggregated&#160;&#160;state.&#160;&#160;Therefore&#160;&#160;this&#160;&#160;state&#160;&#160;contains&#160;&#160;the&#160;&#160;information&#160;&#160;which&#160;<br/>partial networks are active&#160;on&#160;the&#160;whole&#160;ECU.&#160;<br/>
The&#160;ERA&#160;algorithm&#160;performs&#160;the&#160;evaluation&#160;of&#160;the&#160;received&#160;NM&#160;messages&#160;and&#160;storage&#160;of&#160;<br/>the&#160;relevant&#160;PN&#160;information&#160;(according&#160;to&#160;the&#160;PN&#160;filter&#160;mask&#160;and&#160;the&#160;CRI&#160;bit)&#160;per&#160;network.&#160;<br/>Therefore&#160;the&#160;ERA&#160;state&#160;contains&#160;for&#160;each&#160;network&#160;the&#160;information&#160;which&#160;partial&#160;networks&#160;<br/>are requested&#160;by&#160;other&#160;ECUs and&#160;have&#160;to&#160;be&#160;active&#160;due&#160;to&#160;external&#160;needs.&#160;<br/>
Whenever&#160;a&#160;cluster&#160;is&#160;requested&#160;the&#160;first&#160;time&#160;(i.e.&#160;a&#160;bit&#160;is&#160;set&#160;the&#160;first&#160;time&#160;within&#160;this&#160;PN&#160;<br/>information)&#160;the&#160;new&#160;request&#160;is&#160;stored&#160;and&#160;a&#160;timer&#160;is&#160;started.&#160;When&#160;the&#160;request&#160;is&#160;repeated&#160;<br/>before&#160;&#160;the&#160;&#160;timer&#160;&#160;elapses&#160;&#160;the&#160;&#160;timer&#160;&#160;is&#160;&#160;restarted.&#160;&#160;When&#160;&#160;the&#160;&#160;timer&#160;&#160;elapses&#160;&#160;the&#160;&#160;request&#160;&#160;is&#160;<br/>deleted.&#160;<br/>
Any&#160;change&#160;(storing&#160;or&#160;deleting&#160;a&#160;request)&#160;&#160;within&#160;&#160;the&#160;EIRA&#160;or&#160;ERA&#160;leads&#160;to&#160;an&#160;update&#160;of&#160;<br/>the&#160;&#160;content&#160;&#160;of&#160;&#160;the&#160;&#160;EIRA&#160;&#160;or&#160;&#160;ERA&#160;&#160;I-PDU&#160;&#160;in&#160;&#160;the&#160;&#160;Com.&#160;&#160;Therefore&#160;&#160;the&#160;&#160;following&#160;&#160;function&#160;&#160;is&#160;<br/>called&#160;with&#160;the&#160;corresponding&#160;EIRA&#160;or ERA&#160;PDU&#160;handle:&#160;<br/>
void&#160;<b>PduR_CanNmRxIndication&#160;</b>(&#160;&#160;<br/>&#160;&#160;PduIdType&#160;ComTxPduId, uint8&#160;* CanNmSduPtr&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#75">(5.6)</a>&#160;<br/>
Note&#160;that&#160;one&#160;ERA&#160;I-PDU&#160;exists&#160;for each&#160;network.&#160;<br/>
<b>3.23.5&#160;&#160;Spontaneous&#160;Sending of NM&#160;Messages&#160;</b><br/>
When&#160;&#160;a&#160;&#160;new&#160;&#160;PN&#160;&#160;is&#160;&#160;internally&#160;&#160;requested&#160;&#160;the&#160;&#160;corresponding&#160;&#160;bit&#160;&#160;in&#160;&#160;the&#160;&#160;NM&#160;&#160;message&#160;&#160;user&#160;<br/>data&#160;&#160;will&#160;&#160;be&#160;&#160;set.&#160;&#160;This&#160;&#160;request&#160;&#160;must&#160;&#160;be&#160;&#160;immediately&#160;&#160;visible&#160;&#160;on&#160;&#160;the&#160;&#160;bus&#160;&#160;by&#160;&#160;sending&#160;&#160;the&#160;<br/>updated&#160;user&#160;data&#160;content&#160;as&#160;fast&#160;as&#160;possible.&#160;Therefore&#160;two&#160;mechanisms can&#160;be&#160;used.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
43&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-44_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-44_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-44_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>3.23.5.1&#160;&#160;Using Com&#160;Transmission on Change&#160;Mechanism&#160;</b><br/>
When&#160;&#160;the&#160;&#160;NM&#160;&#160;user&#160;&#160;data&#160;&#160;is&#160;&#160;set&#160;&#160;via&#160;&#160;Com&#160;&#160;the&#160;&#160;signals&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;for&#160;&#160;immediate&#160;<br/>transmission&#160;&#160;on&#160;&#160;change.&#160;&#160;This&#160;&#160;would&#160;&#160;lead&#160;&#160;to&#160;&#160;one&#160;&#160;additional&#160;&#160;NM&#160;&#160;message&#160;&#160;transmission&#160;<br/>whenever&#160;the&#160;content&#160;of&#160;the&#160;signal&#160;changes.&#160;Refer&#160;also&#160;to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#34">r&#160;3.15&#160;‘NM&#160;User&#160;Data&#160;via&#160;<br/>Com’.</a>&#160;<br/>
To&#160;&#160;enable&#160;&#160;this&#160;&#160;behavior,&#160;&#160;the&#160;&#160;setting&#160;&#160;‘Pn&#160;&#160;Handle&#160;&#160;Multiple&#160;&#160;Network&#160;&#160;Requests’&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>turned&#160;OFF (see&#160;also&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#90">r&#160;6.3.2).</a>&#160;<br/>
<b>3.23.5.2&#160;&#160;Using NM&#160;Request and&#160;Immediate&#160;Nm&#160;Transmission&#160;</b><br/>
When&#160;CAN&#160;NM&#160;is&#160;in&#160;Network&#160;Mode&#160;and&#160;the&#160;upper&#160;layer&#160;requests&#160;network&#160;again&#160;by&#160;calling&#160;<br/>the&#160;&#160;function&#160;&#160;‘CanNm_NetworkRequest’&#160;&#160;(see&#160;&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#57">r&#160;&#160;5.5.2.4.1&#160;&#160;‘CanNm_NetworkRequest:&#160;<br/>Request&#160;&#160;the&#160;&#160;Network’&#160;&#160;</a>for&#160;&#160;details)&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;performs&#160;&#160;a&#160;&#160;state&#160;&#160;transition&#160;&#160;to&#160;&#160;Repeat&#160;<br/>Message.&#160;&#160;This&#160;&#160;leads&#160;&#160;to&#160;&#160;an&#160;&#160;immediate&#160;&#160;transmission&#160;&#160;of&#160;&#160;the&#160;&#160;NM&#160;&#160;message&#160;&#160;followed&#160;&#160;by&#160;<br/>several transmissions&#160;with&#160;a&#160;faster cycle&#160;time.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Note&#160;that&#160;the&#160;feature&#160;‘Immediate&#160;Nm&#160;Transmission’&#160;(refer&#160;to chapter<a href="TechnicalReference_Asr_CanNms.html#39">&#160;3.20&#160;‘Immediate&#160;</a><br/>
<b>&#160;&#160;</b><a href="TechnicalReference_Asr_CanNms.html#39">Nm&#160;Transmissions’</a>)&#160;must&#160;be&#160;enabled&#160;when&#160;using&#160;this&#160;mechanism&#160;for&#160;spontaneous&#160;<br/>
sending&#160;of&#160;NM&#160;messages.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>Note&#160;that&#160;this&#160;mechanism&#160;will only&#160;be&#160;active&#160;if&#160;PN&#160;feature is&#160;enabled.&#160;<br/>
To&#160;&#160;enable&#160;&#160;this&#160;&#160;behavior,&#160;&#160;the&#160;&#160;setting&#160;&#160;‘Pn&#160;&#160;Handle&#160;&#160;Multiple&#160;&#160;Network&#160;&#160;Requests’&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>turned&#160;ON (see&#160;also&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#90">r&#160;6.3.2).</a>&#160;<br/>
<b>3.23.6&#160;&#160;Deactivation of&#160;Partial&#160;Networking during&#160;Run-Time&#160;</b><br/>
The&#160;whole&#160;Partial&#160;Network&#160;feature&#160;can&#160;be&#160;deactivated&#160;on&#160;all&#160;CAN&#160;NM&#160;channels&#160;during&#160;run-<br/>time.&#160;To&#160;accomplish&#160;this,&#160;the&#160;function&#160;CanNm_DisablePNActivationState&#160;has&#160;to&#160;be&#160;called&#160;<br/>after CanNm_Init&#160;and&#160;before&#160;the&#160;first&#160;call&#160;of&#160;CanNm_MainFunction_X.&#160;&#160;<br/>
This&#160;allows the&#160;deactivation&#160;on&#160;all&#160;CAN&#160;NM&#160;channels.&#160;<br/>
<b>3.24&#160;&#160;Usage&#160;of&#160;PduInfoType&#160;</b><br/>
Since&#160;AUTOSAR&#160;Release&#160;3.2&#160;APIs&#160;&#160;to&#160;the&#160;PduR&#160;or&#160;from&#160;the&#160;CanIf&#160;&#160;dealing&#160;with&#160;user&#160;data&#160;<br/>shall&#160;&#160;use&#160;&#160;only&#160;&#160;the&#160;&#160;PduInfoType&#160;&#160;for&#160;&#160;passing&#160;&#160;data&#160;&#160;instead&#160;&#160;of&#160;&#160;passing&#160;&#160;only&#160;&#160;the&#160;&#160;data.&#160;<br/>PduInfoType&#160;does&#160;not&#160;only&#160;contain&#160;the&#160;pointer&#160;to&#160;the&#160;data&#160;buffer&#160;but&#160;also&#160;the&#160;length&#160;of&#160;the&#160;<br/>passed&#160;&#160;data.&#160;&#160;Additionally&#160;&#160;the&#160;&#160;transmission&#160;&#160;triggering&#160;&#160;functions&#160;&#160;shall&#160;&#160;return&#160;&#160;a&#160;&#160;value&#160;&#160;to&#160;<br/>indicate&#160;whether the&#160;user data&#160;handling&#160;could&#160;be&#160;performed&#160;or&#160;failed.&#160;<br/>
This&#160;API&#160;&#160;type&#160;&#160;with&#160;&#160;PduInfoType&#160;&#160;parameters&#160;is&#160;&#160;supported&#160;&#160;by&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM.&#160;The&#160;other&#160;API&#160;<br/>type&#160;used&#160;in&#160;AUTOSAR Releases&#160;3.0&#160;and&#160;3.1&#160;is no&#160;longer supported&#160;by&#160;the&#160;CAN&#160;NM.&#160;<br/>
The&#160;CanNm&#160;calls&#160;or implements&#160;the&#160;following&#160;APIs&#160;that&#160;are affected&#160;by&#160;this feature:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_RxIndication&#160;(refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#75">r&#160;5.7.1.1&#160;</a>for details)&#160;<br/>
<b>&gt;&#160;&#160;</b>PduR_CanNmTriggerTransmit&#160;(refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#75">r&#160;5.6&#160;</a>for details)&#160;<br/>
<b>&gt;&#160;&#160;</b>PduR_CanNmRxIndication&#160;(refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#75">r&#160;5.6&#160;</a>for details)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
44&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_5.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_6.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_7.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_8.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_9.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_10.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-45_11.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>4&#160;&#160;Integration&#160;</b><br/>
<b>4.1&#160;</b><br/>
<b>Files&#160;</b><br/>
The&#160;CAN&#160;NM&#160;consists&#160;of&#160;the&#160;following&#160;files:&#160;<br/>
<b>Files&#160;of&#160;CAN&#160;NM&#160;</b><br/>
<b>&#160;</b><br/>
CanNm.c&#160;<br/>
Source code&#160;of&#160;CAN&#160;NM.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
CanNm.h&#160;<br/>
API&#160;of&#160;CAN&#160;NM.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
CanNm_Cbk.h&#160;<br/>
API&#160;of&#160;CAN&#160;NM&#160;callback&#160;functions.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
CanNm_Cfg.c&#160;<br/>
Pre-compile variant&#160;configuration source&#160;file.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
CanNm_Cfg.h&#160;<br/>
Configuration header&#160;file&#160;for&#160;CAN&#160;NM.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
CanNm_Lcfg.c&#160;<br/>
Link-time&#160;variant&#160;Configuration source&#160;file.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
CanNm_Lcfg.h&#160;<br/>
Link-time&#160;variant&#160;Configuration header&#160;file.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
CanNm_Pbcfg.c&#160;<br/>
Post-build variant&#160;Configuration source&#160;file.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
CanNm_Pbcfg.h&#160;<br/>
Post-build variant&#160;Configuration header&#160;file.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
&#160;<br/>
Table&#160;4-1&#160;&#160;<br/>
CAN&#160;NM&#160;Integration&#160;Files&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
45&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-46_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-46_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Include&#160;Structure&#160;</b><br/>
<b>class&#160;IncludeStructure</b><br/>
CanSM_Cbk.h<br/>
PduR_CanNm.h<br/>
v_ver.h<br/>
SchM_CanNm.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
CanIf.h<br/>
CanNm_Cbk.h<br/>
«include»<br/>
«include»<br/>
CanNm.c<br/>
«include»<br/>
Det.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
Nm_Cbk.h<br/>
MemMap.h<br/>
CanNm.h<br/>
Dem.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
EcuM_Cbk.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
CanNm_PBcfg.c<br/>
CanNm_Cfg.h<br/>
ComStack_Types.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
CanNm_Cfg.c<br/>
CanNm_Lcfg.c<br/>
NmStack_Types.h<br/>
Std_Types.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
Compiler_Cfg.h<br/>
Compiler.h<br/>
Platform_Types.h<br/>
«include»<br/>
&#160;<br/>
Figure&#160;4-1&#160;<br/>
Include&#160;Structure&#160;of&#160;CAN&#160;NM&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Version Changes&#160;</b><br/>
Changes and&#160;the&#160;release&#160;versions of&#160;the&#160;CAN&#160;NM&#160;are&#160;listed&#160;at&#160;the&#160;beginning&#160;of&#160;the&#160;header&#160;<br/>and&#160;source&#160;code.&#160;<br/>
<b>4.4&#160;</b><br/>
<b>Initialization&#160;</b><br/>
Before&#160;the&#160;CAN&#160;NM&#160;can&#160;be&#160;used&#160;it&#160;has&#160;to&#160;be&#160;initialized&#160;by&#160;the&#160;application.&#160;The&#160;initialization&#160;<br/>has&#160;&#160;to&#160;&#160;be&#160;&#160;carried&#160;&#160;out&#160;&#160;before&#160;&#160;any&#160;&#160;other&#160;&#160;functionality&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;is&#160;&#160;executed.&#160;&#160;It&#160;&#160;shall&#160;<br/>take&#160;&#160;place&#160;&#160;after&#160;&#160;initialization&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;and&#160;&#160;prior&#160;&#160;to&#160;&#160;initialization&#160;&#160;of&#160;&#160;the&#160;&#160;NM&#160;<br/>Interface.&#160;<br/>
Also&#160;refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#52">r&#160;5.5.1.1&#160;‘CanNm_Init:&#160;Initialization&#160;of&#160;CAN&#160;NM’</a>.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
46&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-47_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-47_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-47_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-47_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-47_5.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-47_6.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;CAN&#160;NM&#160;assumes&#160;that&#160;some variables are initialized&#160;with zero&#160;at&#160;start-up.&#160;If&#160;the&#160;<br/>
<b>&#160;&#160;</b>embedded&#160;target&#160;does&#160;not&#160;initialize RAM&#160;within the&#160;start-up&#160;code&#160;the&#160;function&#160;<br/>
‘CanNm_InitMemory’&#160;has&#160;to&#160;be&#160;called&#160;during&#160;start-up&#160;and before&#160;the&#160;initialization is&#160;<br/>performed.&#160;Refer&#160;also to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#18">&#160;3.1.2.3&#160;‘Memory&#160;Initialization’.</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>In an&#160;AUTOSAR&#160;environment&#160;where the&#160;ECU&#160;Manager&#160;is&#160;used,&#160;the&#160;initialization is&#160;<br/>
&#160;&#160;performed&#160;within the&#160;ECU&#160;Manager.&#160;When&#160;using&#160;the&#160;feature ‘Multiple ECU&#160;Support’&#160;<br/>
multiple configurations exist&#160;and depending&#160;on&#160;which identity&#160;shall&#160;be&#160;active the&#160;correct&#160;<br/>one has&#160;to be&#160;chosen.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>In a&#160;CANbedded&#160;environment&#160;where the&#160;CCL&#160;is&#160;used&#160;the&#160;initialization is&#160;performed&#160;by&#160;<br/>
&#160;&#160;the&#160;CCL.&#160;‘Multiple ECU&#160;Support’&#160;is&#160;not&#160;possible in a&#160;CANbedded&#160;environment.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.5&#160;</b><br/>
<b>Main Functions&#160;</b><br/>
CAN&#160;NM&#160;contains&#160;one&#160;or&#160;more&#160;main&#160;functions&#160;that&#160;have&#160;to&#160;be&#160;called&#160;cyclic&#160;on&#160;task&#160;level.&#160;<br/>Default&#160;&#160;timing&#160;&#160;value&#160;&#160;therefore&#160;&#160;is&#160;&#160;10&#160;&#160;milliseconds.&#160;&#160;The&#160;&#160;main&#160;&#160;functions&#160;&#160;are&#160;&#160;generated&#160;<br/>according&#160;to&#160;the&#160;number&#160;of&#160;CAN&#160;NM&#160;channels&#160;and&#160;have&#160;to&#160;be&#160;called&#160;individually&#160;for&#160;each&#160;<br/>channel.&#160;The&#160;call&#160;cycle&#160;time&#160;value&#160;for&#160;the&#160;main&#160;functions&#160;has&#160;to&#160;be&#160;set&#160;in&#160;the&#160;configuration&#160;<br/>settings (refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#90">r&#160;6.3.2&#160;‘Channel Configuration’)</a>.&#160;It&#160;is not&#160;relevant&#160;in&#160;which&#160;order the&#160;<br/>main&#160;functions&#160;are called.&#160;&#160;<br/>
For&#160;&#160;further&#160;&#160;information&#160;&#160;refer&#160;&#160;also&#160;&#160;to&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#53">5.5.1.2&#160;&#160;‘CanNm_MainFunction:&#160;&#160;Channel&#160;<br/>Specific Main&#160;Functions of&#160;CAN&#160;NM’</a>.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>In an&#160;AUTOSAR&#160;environment&#160;where the&#160;BSW&#160;Scheduler&#160;(SchM)&#160;is&#160;used&#160;the&#160;main&#160;<br/>
&#160;&#160;functions&#160;are&#160;called&#160;by&#160;the SchM&#160;and must&#160;not&#160;be&#160;called&#160;by&#160;the&#160;application.&#160;If&#160;the&#160;SchM&#160;<br/>
is&#160;available in&#160;GENy,&#160;the&#160;configuration&#160;of&#160;the&#160;cyclic&#160;task&#160;timing&#160;is&#160;automatically&#160;updated&#160;<br/>in the&#160;SchM&#160;when setting /&#160;changing&#160;the&#160;cycle time in&#160;the&#160;CAN&#160;NM&#160;configuration.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
47&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-48_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-48_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-48_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>In a&#160;CANbedded&#160;environment&#160;where the&#160;CCL&#160;is&#160;used&#160;the&#160;main&#160;functions&#160;are&#160;called&#160;by&#160;<br/>
&#160;&#160;the&#160;CCL&#160;and&#160;must&#160;not&#160;be&#160;called&#160;by&#160;the&#160;application.&#160;The&#160;CCL&#160;is&#160;in charge&#160;to&#160;call&#160;the&#160;<br/>
CAN&#160;NM&#160;with the&#160;correct&#160;cycle time.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.6&#160;</b><br/>
<b>Critical&#160;Sections&#160;</b><br/>
The&#160;AUTOSAR&#160;standard&#160;provides&#160;with&#160;the&#160;BSW&#160;Scheduler&#160;(SchM)&#160;a&#160;BSW&#160;module,&#160;which&#160;<br/>handles&#160;entering&#160;and&#160;leaving&#160;critical sections.&#160;<br/>
Critical sections are&#160;supported&#160;by&#160;the&#160;BSW&#160;Scheduler.&#160;<br/>
It&#160;&#160;is&#160;recommended&#160;to&#160;use&#160;the&#160;critical&#160;section&#160;support&#160;of&#160;the&#160;BSW&#160;Scheduler.&#160;&#160;In&#160;this&#160;case&#160;<br/>the&#160;CAN NM&#160;calls the&#160;following&#160;function&#160;when&#160;entering&#160;a&#160;critical section:&#160;<br/>
void&#160;<b>SchM_Enter_CanNm&#160;</b>( uint8&#160;ExclusiveArea&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#75">(5.6)</a>&#160;<br/>
When&#160;the&#160;critical section&#160;is left&#160;the&#160;following&#160;function&#160;is called&#160;by&#160;the&#160;CAN&#160;NM:&#160;<br/>
void&#160;<b>SchM_Exit_CanNm&#160;</b>( uint8&#160;ExclusiveArea&#160;)&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#75">(5.6)</a>&#160;<br/>
The&#160;&#160;critical&#160;&#160;section&#160;&#160;(exclusive&#160;&#160;area)&#160;&#160;codes&#160;&#160;passed&#160;&#160;to&#160;&#160;these&#160;&#160;functions&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;&#160;defined&#160;<br/>and&#160;mapped&#160;to&#160;corresponding&#160;interrupt&#160;locks&#160;by&#160;the&#160;BSW&#160;Scheduler.&#160;This&#160;can&#160;be&#160;done&#160;in&#160;<br/>GENy&#160;at&#160;the&#160;BSW&#160;Scheduler&#160;configuration&#160;page.&#160;The&#160;corresponding&#160;sections&#160;are&#160;already&#160;<br/>entered&#160;there&#160;and&#160;have&#160;to&#160;be&#160;adapted&#160;to&#160;the&#160;correct&#160;interrupt&#160;locking&#160;mechanism.&#160;Details&#160;<br/>which&#160;section&#160;needs&#160;what&#160;kind&#160;of&#160;interrupt&#160;lock&#160;are&#160;provided&#160;in&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#48">r&#160;4.7&#160;‘Critical&#160;Section&#160;<br/>Codes’.</a>&#160;<br/>
For more&#160;information&#160;about&#160;the&#160;BSW&#160;Scheduler please&#160;refer&#160;to&#160;[7].&#160;<br/>
<b>4.7&#160;</b><br/>
<b>Critical&#160;Section Codes&#160;</b><br/>
Since&#160;&#160;the&#160;&#160;BSW&#160;&#160;Scheduler&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;critical&#160;&#160;sections&#160;&#160;(see&#160;&#160;also&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_Asr_CanNms.html#48">4.6&#160;&#160;‘Critical&#160;<br/>Sections’)</a>&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;uses&#160;&#160;several&#160;&#160;critical&#160;&#160;section&#160;&#160;codes&#160;&#160;which&#160;&#160;must&#160;&#160;lead&#160;&#160;to&#160;<br/>corresponding&#160;interrupt&#160;locks.&#160;The&#160;mapping&#160;is&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Critical&#160;Section&#160;Define&#160;</b><br/>
<b>Interrupt&#160;Lock&#160;</b><br/>
CANNM_EXCLUSIVE_AREA_0&#160;&#160;No interruption by&#160;any&#160;interrupt&#160;is&#160;allowed.&#160;Therefore&#160;this&#160;section&#160;<br/>
must&#160;always&#160;lock&#160;global&#160;interrupts.&#160;<br/>
CANNM_EXCLUSIVE_AREA_1&#160;&#160;No interruption of&#160;CanNm_MainFunction&#160;by&#160;CanNm_SetUserData,&#160;<br/>
CanNm_SetCoordBits&#160;or&#160;CanNm_SetDiagGwReqId allowed.&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;have&#160;to&#160;be&#160;used&#160;for&#160;this&#160;section&#160;<br/>only&#160;if&#160;CanNm_MainFunction&#160;can&#160;be&#160;interrupted&#160;by&#160;one of&#160;the&#160;<br/>following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_SetUserData&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_SetCoordBits&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_SetDiagGwReqId&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
48&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-49_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-49_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
CANNM_EXCLUSIVE_AREA_2&#160;&#160;No interruption of&#160;CanNm_SetUserData by&#160;CanNm_MainFunction&#160;<br/>
allowed.&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;must&#160;be&#160;locked&#160;if&#160;<br/>CanNm_SetUserData&#160;can be&#160;interrupted&#160;by&#160;the&#160;following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_MainFunction&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
CANNM_EXCLUSIVE_AREA_3&#160;&#160;No&#160;interruption of&#160;CanNm_SetCoordBits&#160;by&#160;CanNm_MainFunction&#160;<br/>
allowed&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;must&#160;be&#160;locked&#160;if&#160;<br/>CanNm_SetCoordBits&#160;can&#160;be&#160;interrupted&#160;by&#160;the&#160;following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_MainFunction&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
CANNM_EXCLUSIVE_AREA_4&#160;&#160;No interruption of&#160;CanNm_RxIndication by&#160;CanNm_GetUserData or&#160;<br/>
CanNm_GetPduData&#160;allowed&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;must&#160;be&#160;locked&#160;if&#160;<br/>CanNm_RxIndication can be&#160;interrupted&#160;by&#160;the&#160;following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_GetUserData&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_GetPduData&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
CANNM_EXCLUSIVE_AREA_5&#160;&#160;No interruption of&#160;CanNm_GetUserData or&#160;CanNm_GetPduData&#160;by&#160;<br/>
CanNm_RxIndication allowed&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;must&#160;be&#160;locked&#160;if&#160;<br/>CanNm_GetUserData&#160;or&#160;CanNm_GetPduData&#160;can be&#160;interrupted&#160;<br/>by&#160;the&#160;following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_RxIndication&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
Table&#160;4-2&#160;&#160;<br/>
Critical&#160;Section&#160;Codes&#160;<br/>
For&#160;API&#160;details refer to&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#50">r&#160;5&#160;‘API&#160;Description’.</a>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
49&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-50_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-50_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5&#160;&#160;API&#160;Description&#160;</b><br/>
<b>5.1&#160;</b><br/>
<b>API&#160;Categories&#160;</b><br/>
The&#160;AUTOSAR&#160;&#160;Network&#160;&#160;Management&#160;&#160;supports&#160;&#160;a&#160;&#160;multi-channel&#160;&#160;indexed&#160;API.&#160;&#160;However&#160;&#160;in&#160;<br/>single&#160;&#160;channel&#160;configurations&#160;this&#160;API&#160;can&#160;be&#160;optimized&#160;in&#160;order&#160;to&#160;save&#160;runtime&#160;(refer&#160;to&#160;<br/>chapte<a href="TechnicalReference_Asr_CanNms.html#18">r&#160;3.1.2.2&#160;‘Single&#160;Channel Optimization’)</a>.&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Data&#160;Types&#160;</b><br/>
The&#160;software&#160;module&#160;CAN&#160;NM&#160;uses&#160;the&#160;standard&#160;AUTOSAR&#160;data&#160;types&#160;that&#160;&#160;are&#160;defined&#160;<br/>within&#160;&#160;Std_Types.h&#160;&#160;and&#160;&#160;the&#160;&#160;platform&#160;&#160;specific&#160;&#160;data&#160;&#160;types&#160;&#160;that&#160;&#160;are&#160;&#160;defined&#160;&#160;within&#160;<br/>Platform_Types.h.&#160;&#160;Furthermore&#160;&#160;the&#160;&#160;standard&#160;&#160;AUTOSAR&#160;&#160;NM&#160;&#160;Stack&#160;&#160;Types&#160;&#160;defined&#160;<br/>within&#160;NmStack_Types.h&#160;are used.&#160;<br/>
CAN NM&#160;also&#160;uses&#160;the&#160;Communication&#160;Stack&#160;Types defined&#160;within&#160;ComStack_Types.h.&#160;<br/>
Additionally&#160;&#160;the&#160;&#160;following&#160;&#160;software&#160;&#160;module&#160;&#160;specific&#160;&#160;data&#160;&#160;types&#160;&#160;are&#160;&#160;used&#160;&#160;for&#160;&#160;configuration&#160;<br/>purposes:&#160;<br/>
<b>Name&#160;</b><br/>
<b>Type&#160;</b><br/>
<b>Description&#160;</b><br/>
CanNm_LChannelConfigType<b>&#160;</b><br/>
struct&#160;<br/>
Structure&#160;for&#160;all&#160;channel&#160;specific&#160;<br/>configuration&#160;parameters&#160;that&#160;are at&#160;most&#160;<br/>link-time able.&#160;<br/>
CanNm_LConfigType&#160;<br/>
struct&#160;<br/>
Structure&#160;for&#160;configuration&#160;parameters&#160;that&#160;<br/>are&#160;at&#160;most&#160;link-time able.&#160;Contains&#160;the&#160;<br/>channel&#160;specific&#160;parameters.&#160;<br/>
CanNm_PbChannelConfigType&#160;<br/>
struct&#160;<br/>
Structure&#160;for&#160;channel&#160;specific&#160;configuration&#160;<br/>parameters&#160;that&#160;are&#160;post-build able.&#160;<br/>
CanNm_ConfigType&#160;<br/>
struct&#160;<br/>
Structure&#160;for&#160;configuration&#160;parameters&#160;which&#160;<br/>are&#160;post-build able.&#160;Contains the&#160;channel&#160;<br/>specific&#160;parameters.&#160;<br/>
Table&#160;5-1&#160;&#160;<br/>
Data&#160;Types&#160;<br/>
These&#160;data&#160;types are&#160;defined&#160;within&#160;the&#160;software components&#160;configuration&#160;header&#160;file.&#160;<br/>
<b>5.3&#160;</b><br/>
<b>Global&#160;Variables&#160;</b><br/>
There are&#160;no&#160;global variables&#160;within&#160;CAN NM.&#160;<br/>
<b>5.4&#160;</b><br/>
<b>Global&#160;Constants&#160;</b><br/>
<b>5.4.1&#160;</b><br/>
<b>AUTOSAR&#160;Specification&#160;Version&#160;</b><br/>
The&#160;version&#160;of&#160;AUTOSAR&#160;specification&#160;on&#160;which&#160;the&#160;appropriate&#160;implementation&#160;is&#160;based&#160;<br/>on&#160;is provided&#160;by&#160;three&#160;BCD&#160;coded&#160;defines:&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
50&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-51_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-51_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>Name&#160;</b><br/>
<b>Type&#160;&#160;Description&#160;</b><br/>
CANNM_AR_MAJOR_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;major&#160;specification&#160;version number.&#160;<br/>
CANNM_AR_MINOR_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;minor&#160;specification&#160;version number.&#160;<br/>
CANNM_AR_PATCH_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;patch level&#160;specification version number.&#160;<br/>
Table&#160;5-2&#160;&#160;<br/>
Specification&#160;Version&#160;API&#160;Data&#160;<br/>
<b>5.4.2&#160;</b><br/>
<b>Component Versions&#160;</b><br/>
The&#160;&#160;source&#160;&#160;code&#160;&#160;versions&#160;&#160;of&#160;&#160;CAN&#160;&#160;NM&#160;&#160;are&#160;&#160;provided&#160;&#160;by&#160;&#160;three&#160;&#160;BCD&#160;&#160;coded&#160;&#160;macros&#160;&#160;(and&#160;<br/>additionally&#160;as constants):&#160;<br/>
<b>Name&#160;</b><br/>
<b>Type&#160;&#160;Description&#160;</b><br/>
CANNM_SW_MAJOR_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;major&#160;component&#160;version number.&#160;<br/>
(CanNm_MainVersion)&#160;<br/>CANNM_SW_MINOR_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;minor&#160;component&#160;version number.&#160;<br/>
(CanNm_SubVersion)&#160;<br/>CANNM_SW_PATCH_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;patch level&#160;component&#160;version number.&#160;<br/>
(CanNm_ReleaseVersion)&#160;<br/>
Table&#160;5-3&#160;&#160;<br/>
Component&#160;Version&#160;API&#160;Data&#160;<br/>
These&#160;constants&#160;are declared&#160;as external&#160;and&#160;can&#160;be&#160;read&#160;by&#160;the&#160;application&#160;at&#160;any&#160;time.&#160;<br/>
<b>5.4.3&#160;</b><br/>
<b>Vendor and Module&#160;ID&#160;</b><br/>
CAN NM&#160;provides the&#160;vendor identifier according&#160;to&#160;AUTOSAR as&#160;defines:&#160;<br/>
<b>Name&#160;</b><br/>
<b>Type&#160;&#160;Description&#160;</b><br/>
<b>Value&#160;</b><br/>
CANNM_VENDOR_ID&#160;<br/>
-&#160;<br/>
Vendor&#160;ID&#160;according&#160;to&#160;AUTOSAR.&#160;<br/>
30&#160;<br/>
CANNM_MODULE_ID&#160;<br/>
-&#160;<br/>
Module ID&#160;according&#160;to&#160;AUTOSAR.&#160;<br/>
31&#160;<br/>
Table&#160;5-4&#160;&#160;<br/>
Vendor/Module&#160;ID&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
51&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-52_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-52_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Services&#160;Provided by&#160;CAN NM&#160;</b><br/>
<b>5.5.1&#160;</b><br/>
<b>Administrative&#160;Functions&#160;</b><br/>
<b>5.5.1.1&#160;</b><br/>
<b>CanNm_Init:&#160;Initialization of&#160;CAN NM&#160;</b><br/>
<b>CanNm_Init&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_Init</b>&#160;(&#160;const CanNm_ConfigType * const nmConfigPtr&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmConfigPtr&#160;<br/>
Configuration Pointer&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x00&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initialization&#160;of&#160;CAN&#160;NM.&#160;<br/>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>During&#160;the&#160;execution&#160;of&#160;the&#160;function&#160;CanNm_Init(),&#160;it&#160;has&#160;to&#160;be&#160;ensured&#160;that&#160;the&#160;execution&#160;<br/>
is&#160;not&#160;interrupted&#160;by&#160;any&#160;other&#160;function&#160;of&#160;the&#160;CanNm&#160;module.&#160;This&#160;can&#160;for&#160;instance be&#160;<br/>accomplished by&#160;<br/>
<b>&gt;&#160;&#160;</b>global&#160;interrupt&#160;locks&#160;OR&#160;<br/>
<b>&gt;&#160;&#160;</b>CAN&#160;interrupt&#160;locks.&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;level.&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;re-entrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;service has&#160;to be&#160;called&#160;after&#160;initialization of&#160;CAN&#160;Interface&#160;and before calling&#160;any&#160;NM&#160;<br/>
service.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
52&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-53_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-53_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.1.2&#160;</b><br/>
<b>CanNm_MainFunction:&#160;Channel&#160;Specific&#160;Main Functions&#160;of&#160;CAN&#160;NM&#160;</b><br/>
<b>CanNm_MainFunction&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_MainFunction_X</b>&#160;( void )<b>&#160;<br/></b>(with&#160;X=0…&#160;Number&#160;of&#160;CAN&#160;NM&#160;channels)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x13&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Main functions&#160;of&#160;CAN NM.&#160;<br/>
For each CAN NM&#160;channel&#160;one main function&#160;is&#160;generated&#160;that&#160;has&#160;to be&#160;called&#160;with&#160;the&#160;corresponding&#160;<br/>channel&#160;handle&#160;as&#160;postfix.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>These&#160;functions&#160;have&#160;to&#160;be&#160;called&#160;cyclically&#160;on&#160;task&#160;level.&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;level.&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;re-entrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;these&#160;services are already&#160;called&#160;by&#160;the&#160;OS,&#160;SchM&#160;or&#160;the&#160;CCL&#160;they&#160;must&#160;not&#160;be&#160;called&#160;by&#160;<br/>
the&#160;application.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
53&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-54_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-54_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2&#160;</b><br/>
<b>Service&#160;Functions&#160;of&#160;CAN&#160;NM&#160;</b><br/>
<b>5.5.2.1&#160;</b><br/>
<b>CanNm_GetVersionInfo:&#160;Version Information&#160;API&#160;</b><br/>
<b>CanNm_GetVersionInfo&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_GetVersionInfo</b>&#160;(&#160;Std_VersionInfoType*&#160;NmVerInfoPtr&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
NmVerInfoPtr<b>&#160;</b><br/>
Pointer&#160;where&#160;the&#160;Version&#160;Information&#160;shall&#160;be&#160;copied&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-<b>&#160;</b><br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0xF1&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service returns&#160;the&#160;version&#160;information&#160;of&#160;this&#160;module.&#160;The&#160;version&#160;information&#160;includes&#160;the&#160;Module Id,&#160;<br/>the&#160;Vendor Id,&#160;the&#160;Instance&#160;Id&#160;and the&#160;vendor&#160;specific&#160;version&#160;numbers&#160;(BSW00407).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_VERSION_INFO_API is STD_ON&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
54&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-55_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-55_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-55_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>Since&#160;there&#160;is&#160;no&#160;interface&#160;from&#160;CAN&#160;NM&#160;to any&#160;higher&#160;software&#160;layer&#160;except&#160;DET,&#160;DEM&#160;<br/>or&#160;NM&#160;Interface&#160;the&#160;following&#160;services must&#160;not&#160;be called&#160;by&#160;ComM,&#160;CCL&#160;or&#160;the&#160;<br/>
&#160;&#160;application!&#160;<br/>
&#160;<br/>
<b>5.5.2.2&#160;</b><br/>
<b>CanNm_GetState:&#160;Get the&#160;State&#160;of&#160;the&#160;Network&#160;Management&#160;</b><br/>
<b>CanNm_GetState&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_GetState</b>&#160;(&#160;const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>&#160;<br/>
Nm_StateType * const&#160;&#160;<br/>
nmStatePtr,&#160;<br/>
&#160;<br/>
Nm_ModeType * const&#160;&#160;<br/>
nmModePtr&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
nmStatePtr&#160;<br/>
Pointer&#160;where state&#160;of&#160;the network&#160;management shall&#160;be copied&#160;to&#160;<br/>
nmModePtr&#160;<br/>
Pointer&#160;where&#160;the&#160;mode of&#160;the&#160;network&#160;management shall&#160;be copied&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Getting of&#160;NM state&#160;has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x0B&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;the&#160;state&#160;and&#160;the&#160;mode of&#160;the network&#160;management.&#160;<br/>One&#160;of&#160;the following state&#160;values&#160;is&#160;written&#160;to the&#160;variable&#160;where&#160;nmStatePtr&#160;points&#160;to:&#160;<br/>
&gt;&#160;&#160;NM_STATE_BUS_SLEEP&#160;&#160;<br/>
(Bus&#160;Sleep)&#160;<br/>
&gt;&#160;&#160;NM_STATE_PREPARE_BUS_SLEEP&#160;&#160;&#160;(Prepare&#160;Bus&#160;Sleep)&#160;<br/>
&gt;&#160;&#160;NM_STATE_READY_SLEEP&#160;&#160;<br/>
(Ready&#160;Sleep)&#160;<br/>
&gt;&#160;&#160;NM_STATE_NORMAL_OPERATION&#160;&#160;&#160;(Normal&#160;Operation)&#160;<br/>
&gt;&#160;&#160;NM_STATE_REPEAT_MESSAGE&#160;&#160;<br/>
(Repeat&#160;Message)&#160;<br/>
One&#160;of&#160;the following mode values&#160;is&#160;written&#160;to the variable&#160;where nmModePtr&#160;points&#160;to:&#160;<br/>
&gt;&#160;&#160;NM_MODE_BUS_SLEEP&#160;&#160;<br/>
(Bus&#160;Sleep Mode)&#160;<br/>
&gt;&#160;&#160;NM_MODE_PREPARE_BUS_SLEEP&#160;&#160;&#160;(Prepare&#160;Bus&#160;Sleep&#160;Mode)&#160;<br/>
&gt;&#160;&#160;NM_MODE_NETWORK&#160;&#160;<br/>
(Network&#160;Mode)&#160;<br/>
For details&#160;about&#160;the states&#160;and modes&#160;refer to chapter<a href="TechnicalReference_Asr_CanNms.html#22">&#160;3.4.</a>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
55&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-56_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-56_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.3&#160;</b><br/>
<b>CanNm_PassiveStartUp:&#160;Wake&#160;up Network&#160;Management&#160;</b><br/>
<b>CanNm_PassiveStartUp&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_PassiveStartUp</b>&#160;(&#160;const NetworkHandleType nmChannelHandle )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Start&#160;of&#160;Network&#160;Management has&#160;failed&#160;<br/>
NM_E_NOT_EXECUTED&#160;<br/>
Start&#160;of&#160;Network&#160;Management&#160;is&#160;currently&#160;not&#160;executed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x01&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Passive startup of&#160;the&#160;CAN&#160;NM state&#160;machine. It&#160;triggers&#160;the transition from&#160;the Bus&#160;Sleep&#160;Mode&#160;/&#160;Prepare&#160;<br/>Bus&#160;Sleep&#160;Mode&#160;to&#160;the&#160;Network&#160;Mode&#160;(Repeat&#160;Message&#160;State).&#160;This&#160;service has&#160;no&#160;effect if&#160;the current&#160;<br/>state is&#160;not&#160;Bus&#160;Sleep&#160;Mode&#160;/ Prepare&#160;Bus&#160;Sleep&#160;Mode. In&#160;that case&#160;NM_E_NOT_EXECUTED&#160;is&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
56&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-57_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-57_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.4&#160;</b><br/>
<b>Wake-up Registration&#160;</b><br/>
<b>5.5.2.4.1&#160;</b><br/>
<b>CanNm_NetworkRequest:&#160;Request the&#160;Network&#160;</b><br/>
<b>CanNm_NetworkRequest&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_NetworkRequest</b>&#160;( const NetworkHandleType nmChannelHandle )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Requesting the network&#160;has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x02&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Request the&#160;network&#160;if&#160;the ECU needs&#160;to&#160;communicate&#160;on&#160;the&#160;bus.&#160;<br/>If&#160;‘Pn Feature’&#160;is&#160;enabled a&#160;network&#160;request&#160;within the&#160;network&#160;mode leads&#160;to&#160;a&#160;state&#160;transition&#160;to repeat&#160;<br/>message.&#160;Refer to chapter<a href="TechnicalReference_Asr_CanNms.html#44">&#160;3.23.5.2&#160;‘Using&#160;NM Request and&#160;Immediate&#160;Nm&#160;Transmission’&#160;f</a>or details.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;available for&#160;passive nodes&#160;(CANNM_PASSIVE_MODE_ENABLED&#160;is&#160;STD_ON)&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
57&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-58_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-58_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.4.2&#160;</b><br/>
<b>CanNm_NetworkRelease:&#160;Release&#160;the&#160;Network&#160;</b><br/>
<b>CanNm_NetworkRelease&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_NetworkRelease</b>&#160;&#160;&#160;( const NetworkHandleType&#160;nmChannelHandle )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Releasing the network&#160;has&#160;failed&#160;<br/>
NM_E_NOT_EXECUTED&#160;<br/>
Releasing the network&#160;is&#160;currently&#160;not executed.&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x03&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Release the network&#160;if&#160;the&#160;ECU doesn’t have to&#160;communicate on the bus.&#160;This&#160;service&#160;has&#160;no effect if&#160;the&#160;<br/>NM Message&#160;Transmission&#160;is&#160;disabled. In that&#160;case&#160;NM_E_NOT_EXECUTED&#160;is&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;available for&#160;passive nodes&#160;(CANNM_PASSIVE_MODE_ENABLED&#160;is&#160;STD_ON)&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
58&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-59_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-59_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.5&#160;</b><br/>
<b>Communication Control&#160;Service&#160;</b><br/>
<b>5.5.2.5.1&#160;</b><br/>
<b>CanNm_DisableCommunication:&#160;Disable&#160;NM&#160;Message&#160;Transmission&#160;</b><br/>
<b>CanNm_DisableCommunication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_DisableCommunication&#160;</b>(&#160;<br/>&#160;<br/>
const NetworkHandleType nmChannelHandle )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Disabling NM message&#160;transmission&#160;has&#160;failed&#160;<br/>
NM_E_NOT_EXECUTED&#160;&#160;Disabling NM message transmission&#160;is&#160;currently&#160;not executed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x0C&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Disable transmission&#160;of&#160;NM messages.&#160;This&#160;service&#160;has&#160;no&#160;effect if&#160;the current&#160;state&#160;is&#160;not&#160;Normal&#160;<br/>Operation&#160;State and&#160;the&#160;network&#160;is&#160;not requested.&#160;In&#160;that case&#160;NM_E_NOT_EXECUTED&#160;is&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Only&#160;re-entrant&#160;with different&#160;channel&#160;handles&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_COM_CONTROL_ENABLED&#160;is&#160;STD_ON&#160;and&#160;<br/>
CANNM_PASSIVE_MODE_ENABLED&#160;is&#160;STD_OFF.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
59&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-60_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-60_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.5.2&#160;</b><br/>
<b>CanNm_EnableCommunication:&#160;Enable&#160;NM&#160;Message&#160;Transmission&#160;</b><br/>
<b>CanNm_EnableCommunication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_EnableCommunication&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const&#160;NetworkHandleType nmChannelHandle )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Enabling&#160;NM message transmission&#160;has&#160;failed&#160;<br/>
NM_E_NOT_EXECUTED&#160;&#160;Enabling&#160;NM message transmission&#160;is&#160;currently&#160;not&#160;executed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x0D&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Enable transmission&#160;of&#160;NM&#160;messages.&#160;This&#160;service&#160;has&#160;no&#160;effect if&#160;the NM Message&#160;Transmission&#160;is&#160;not&#160;<br/>disabled. In&#160;that&#160;case&#160;NM_E_NOT_EXECUTED&#160;is&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Only&#160;re-entrant&#160;with different&#160;channel&#160;handles&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_COM_CONTROL_ENABLED&#160;is&#160;STD_ON&#160;and&#160;<br/>
CANNM_PASSIVE_MODE_ENABLED&#160;is&#160;STD_OFF.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
60&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-61_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-61_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.6&#160;</b><br/>
<b>User Data Handling&#160;</b><br/>
<b>5.5.2.6.1&#160;</b><br/>
<b>CanNm_SetUserData:&#160;Set User Data&#160;</b><br/>
<b>CanNm_SetUserData&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_SetUserData</b>&#160;(&#160;&#160;const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>&#160;<br/>
const uint8* const&#160;&#160;<br/>
nmUserDataPtr )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
nmUserDataPtr&#160;<br/>
Pointer&#160;to the&#160;user&#160;data&#160;for the&#160;next NM&#160;message&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Setting&#160;of&#160;user data has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x04&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Set&#160;user data for NM messages&#160;transmitted&#160;next on the bus.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Only&#160;re-entrant&#160;with different&#160;channel&#160;handles&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_USER_DATA_ENABLED&#160;is&#160;STD_ON&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;available for&#160;passive nodes&#160;(CANNM_PASSIVE_MODE_ENABLED&#160;is&#160;STD_ON)&#160;or&#160;if&#160;<br/>
CANNM_COM_USER_DATA_ENABLED&#160;is&#160;STD_ON&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
61&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-62_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-62_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.6.2&#160;</b><br/>
<b>CanNm_GetUserData:&#160;Get User Data&#160;</b><br/>
<b>CanNm_GetUserData&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_GetUserData</b>&#160;(&#160;&#160;const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>&#160;<br/>
uint8* const&#160;&#160;<br/>
nmUserDataPtr )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the&#160;physical&#160;channel&#160;<br/>
nmUserDataPtr&#160;<br/>
Pointer&#160;where&#160;user data out of&#160;the last received NM message shall&#160;be&#160;copied&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Getting of&#160;user data&#160;has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x05&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;user data&#160;from&#160;the last&#160;received&#160;NM message on the&#160;bus.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_USER_DATA_ENABLED&#160;is&#160;STD_ON&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
62&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-63_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-63_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.6.3&#160;</b><br/>
<b>CanNm_GetPduData: Get NM&#160;Pdu Data&#160;</b><br/>
<b>CanNm_GetPduData&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_GetPduData</b>&#160;(&#160;&#160;const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>&#160;<br/>
uint8* const&#160;&#160;<br/>
nmPduDataPtr )&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
nmPduDataPtr&#160;<br/>
Pointer&#160;where&#160;the&#160;NM&#160;Pdu&#160;Data&#160;shall&#160;be&#160;copied&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Getting of&#160;NM&#160;Pdu Data has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x0A&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;the&#160;whole&#160;PDU&#160;data of&#160;the&#160;last received&#160;NM message.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and&#160;interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_NODE_ID_ENABLED&#160;is&#160;STD_ON&#160;or&#160;<br/>
CANNM_USER_DATA_ENABLED&#160;is&#160;STD_ON&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
63&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-64_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-64_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.7&#160;</b><br/>
<b>Node&#160;Detection&#160;</b><br/>
<b>5.5.2.7.1&#160;</b><br/>
<b>CanNm_RepeatMessageRequest:&#160;Set Repeat Message&#160;Request&#160;Bit&#160;</b><br/>
<b>CanNm_RepeatMessageRequest&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_RepeatMessageRequest&#160;</b>(&#160;&#160;<br/>&#160;<br/>
const NetworkHandleType nmChannelHandle )&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Requesting of&#160;node detection&#160;has&#160;failed&#160;<br/>
NM_E_NOT_EXECUTED&#160;<br/>
Requesting of&#160;node detection&#160;is&#160;currently&#160;not&#160;executed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x08&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Set&#160;Repeat&#160;Message&#160;Request Bit for NM messages&#160;transmitted next on the&#160;bus.&#160;This&#160;service has&#160;no&#160;effect&#160;<br/>if&#160;the current state&#160;is&#160;not&#160;Ready&#160;Sleep State&#160;or Normal&#160;Operation&#160;State.&#160;In that&#160;case&#160;NM_E_NOT_EXECUTED&#160;<br/>is&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Only&#160;reentrant&#160;with different&#160;channel&#160;handles&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_NODE_DETECTION_ENABLED&#160;is&#160;STD_ON&#160;and&#160;<br/>
CANNM_PASSIVE_MODE_ENABLED&#160;is&#160;STD_OFF.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
64&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-65_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-65_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.7.2&#160;</b><br/>
<b>CanNm_GetNodeIdentifier:&#160;Get Source&#160;Node&#160;Identifier&#160;</b><br/>
<b>CanNm_GetNodeIdentifier&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_GetNodeIdentifier</b>&#160;(&#160;<br/>&#160;<br/>
const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>
&#160;<br/>
uint8* const&#160;&#160;<br/>
nmNodeIdPtr )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
nmNodeIdPtr&#160;<br/>
Pointer&#160;where&#160;node identifier out&#160;of&#160;the last received NM message is&#160;copied&#160;<br/>to.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Getting of&#160;the&#160;node&#160;identifier&#160;from&#160;the last NM&#160;message has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x06&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;Node Identifier&#160;of&#160;the&#160;last received&#160;NM message.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_NODE_ID_ENABLED&#160;is&#160;STD_ON&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
65&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-66_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-66_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.7.3&#160;</b><br/>
<b>CanNm_GetLocalNodeIdentifier:&#160;Get Local&#160;Source&#160;Node&#160;Identifier&#160;</b><br/>
<b>CanNm_GetLocalNodeIdentifier&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_GetLocalNodeIdentifier</b>&#160;(&#160;<br/>&#160;<br/>
const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>
&#160;<br/>
uint8* const&#160;&#160;<br/>
nmNodeIdPtr )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
nmNodeIdPtr&#160;<br/>
Pointer&#160;where&#160;the&#160;node identifier of&#160;the&#160;local&#160;node shall&#160;be&#160;copied.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Getting of&#160;node&#160;identifier&#160;of&#160;the&#160;local&#160;node&#160;has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x07&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;Node Identifier of&#160;the&#160;local&#160;node.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_NODE_ID_ENABLED&#160;is&#160;STD_ON&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
66&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-67_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-67_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.8&#160;</b><br/>
<b>Bus&#160;Synchronization&#160;</b><br/>
<b>5.5.2.8.1&#160;</b><br/>
<b>CanNm_RequestBusSynchronization:&#160;Synchronization of&#160;Networks&#160;</b><br/>
<b>CanNm_RequestBusSynchronization&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_RequestBusSynchronization (&#160;<br/>&#160;</b><br/>
const NetworkHandleType nmChannelHandle )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Requesting&#160;of&#160;bus&#160;synchronization&#160;has&#160;failed&#160;<br/>
NM_E_NOT_EXECUTED&#160;&#160;Requesting of&#160;bus&#160;synchronization&#160;is&#160;currently&#160;not&#160;executed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0xC0&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Request bus&#160;synchronization.&#160;This&#160;service&#160;has&#160;no&#160;effect if&#160;the current mode is&#160;not&#160;Network&#160;Mode. In&#160;that&#160;<br/>case&#160;NM_E_NOT_EXECUTED&#160;is&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;level&#160;only&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;(CANNM_BUS_SYNCHRONIZATION_ENABLED&#160;is&#160;STD_ON&#160;or&#160;if&#160;<br/>
CANNM_EXT_BUS_SYNCHRONIZATION&#160;is&#160;defined)&#160;and&#160;if&#160;CANNM_PASSIVE_MODE_ENABLED&#160;<br/>is&#160;STD_OFF.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
67&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-68_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-68_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.9&#160;</b><br/>
<b>Remote&#160;Sleep Indication&#160;</b><br/>
<b>5.5.2.9.1&#160;</b><br/>
<b>CanNm_CheckRemoteSleepIndication:&#160;Check&#160;for Remote&#160;Sleep&#160;<br/>Indication&#160;</b><br/>
<b>CanNm_CheckRemoteSleepIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_CheckRemoteSleepIndication</b>&#160;(&#160;<br/>&#160;<br/>
const NetworkHandleType&#160;&#160;&#160;nmChannelHandle,&#160;<br/>
&#160;<br/>
boolean* const&#160;&#160;<br/>
nmRemoteSleepIndPtr )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
nmRemoteSleepIndPtr&#160;&#160;Pointer&#160;where check&#160;result of&#160;remote&#160;sleep&#160;indication shall&#160;be copied&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Checking&#160;of&#160;remote&#160;sleep&#160;indication has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0xD0&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Check&#160;if&#160;remote&#160;sleep&#160;indication takes&#160;place&#160;or not.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_REMOTE_SLEEP_IND_ENABLED&#160;is&#160;STD_ON&#160;and&#160;<br/>
CANNM_PASSIVE_MODE_ENABLED&#160;is&#160;STD_OFF.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
68&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-69_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-69_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.10&#160;&#160;NM&#160;Message&#160;Transmission Request&#160;</b><br/>
<b>5.5.2.10.1&#160;&#160;CanNm_Transmit:&#160;Spontaneous&#160;NM Message&#160;Transmission&#160;</b><br/>
<b>CanNm_Transmit&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_Transmit</b>&#160;(&#160;&#160;PduIdType&#160;CanNmTxPduId,&#160;<br/>&#160;<br/>
const&#160;PduInfoType*&#160;PduInfoPtr )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
CanNmTxPduId<b>&#160;</b><br/>
Identification&#160;of&#160;the&#160;NM&#160;user&#160;data&#160;PDU&#160;<br/>
PduInfoPtr&#160;<br/>
Pointer&#160;to the Pdu&#160;data&#160;which shall&#160;be&#160;transmitted&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Requesting NM&#160;message transmission&#160;has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x14&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;CanNm&#160;transmits&#160;a&#160;NM message within&#160;the&#160;next&#160;main function.&#160;The&#160;NM message timer will&#160;be restarted.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;PDU&#160;Router&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_COM_USER_DATA_ENABLED&#160;is&#160;STD_ON&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
69&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=70></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-70_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-70_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.2.11&#160;&#160;Partial&#160;Networking&#160;</b><br/>
<b>5.5.2.11.1&#160;&#160;CanNm_ConfirmPnAvailability:&#160;Notification for activating the&#160;PN filter&#160;</b><br/>
<b>functionality&#160;</b><br/>
<b>CanNm_ConfirmPnAvailability&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_ConfirmPnAvailability</b>&#160;(&#160;const NetworkHandleType nmChannelHandle )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the&#160;physical&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x16&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;is&#160;called by&#160;CanSM to&#160;indicate that&#160;the&#160;PN filter functionality&#160;on&#160;the&#160;indicated&#160;NM channel&#160;shall&#160;<br/>be&#160;enabled.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;CANSM&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_PN_FEATURE_ENABLED&#160;is&#160;STD_ON&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
70&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=71></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-71_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-71_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.3&#160;</b><br/>
<b>Vector extensions&#160;</b><br/>
<b>5.5.3.1&#160;</b><br/>
<b>CanNm_InitMemory:&#160;Memory&#160;Initialization&#160;</b><br/>
<b>CanNm_InitMemory&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_InitMemory</b>&#160;( void )&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
If&#160;RAM is&#160;not&#160;automatically&#160;initialized at&#160;start-up,&#160;this&#160;function&#160;must be called&#160;from&#160;start-up&#160;code&#160;to&#160;ensure&#160;<br/>that&#160;variables&#160;which must be initialized&#160;with a&#160;certain&#160;value (e.g.&#160;initialization&#160;status&#160;with&#160;UNINIT&#160;value) are&#160;<br/>set&#160;to&#160;those&#160;values.&#160;Refer also&#160;to&#160;chapt<a href="TechnicalReference_Asr_CanNms.html#18">er&#160;3.1.2.3&#160;‘Memory&#160;Initialization’.</a>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;CanNm_InitMemory()&#160;has&#160;to be&#160;called&#160;with disabled&#160;global&#160;interrupts.&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;level.&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;re-entrant.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
71&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=72></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-72_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-72_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.3.2&#160;</b><br/>
<b>CanNm_SetCoordBits:&#160;Set Coordination Bits&#160;in the&#160;CBV&#160;</b><br/>
<b>CanNm_SetCoordBits&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_SetCoordBits</b>&#160;(&#160;const&#160;NetworkHandleType nmChannelHandle,&#160;<br/>&#160;<br/>
const uint8 nmCoordBits )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
nmCoordBits&#160;<br/>
Additional&#160;coordination&#160;bits&#160;to&#160;set&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x15&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Set&#160;the&#160;additional&#160;coordination&#160;bits&#160;within&#160;the&#160;control&#160;bit vector.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;level&#160;only&#160;<br/>
<b>&gt;&#160;&#160;</b>Only&#160;re-entrant&#160;with different&#160;channel&#160;handles&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;only&#160;available if&#160;CANNM_ENABLE_COORD_SYNC&#160;is&#160;defined.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
72&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=73></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-73_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-73_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.3.3&#160;</b><br/>
<b>CanNm_CheckLimpHomeIndication:&#160;Check&#160;the&#160;Limp&#160;Home&#160;Status&#160;</b><br/>
<b>CanNm_CheckLimpHomeIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_CheckLimpHomeIndication</b>&#160;(&#160;<br/>&#160;<br/>
const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>
&#160;<br/>
boolean* const&#160;&#160;<br/>
nmLimpHomeIndPtr )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle<b>&#160;</b><br/>
Identification&#160;of&#160;the physical&#160;channel&#160;<br/>
nmLimpHomeIndPtr&#160;<br/>
Pointer&#160;where check&#160;result of&#160;limp home status&#160;shall&#160;be copied&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK<b>&#160;</b><br/>
No error&#160;<br/>
NM_E_NOT_OK&#160;<br/>
Checking&#160;of&#160;limp home status&#160;has&#160;failed&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0xFB&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Check&#160;if&#160;CAN NM entered limp home state or&#160;not. For&#160;details&#160;refer to chap<a href="TechnicalReference_Asr_CanNms.html#30">ter&#160;3.10&#160;‘Limp Home Indication&#160;<br/>and Cancellation’</a>.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;level&#160;only&#160;<br/>
<b>&gt;&#160;&#160;</b>Re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;enabled&#160;if&#160;CANNM_LIMP_HOME_INDICATION&#160;is&#160;defined.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
73&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=74></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-74_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-74_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.5.3.4&#160;</b><br/>
<b>CanNm_SetDiagGwReqId:&#160;Diagnostic&#160;Gateway&#160;ID Request&#160;</b><br/>
<b>CanNm_SetDiagGwReqId&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Nm_ReturnType&#160;<b>CanNm_SetDiagGwReqId</b>&#160;( uint8 nmReqId )&#160;<br/>
<b>Parameter&#160;</b><br/>
nmReqId&#160;<br/>
Identifier requested&#160;to&#160;be&#160;transmitted on&#160;all&#160;channels&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
NM_E_OK&#160;<br/>
No error&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0xFC&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Set&#160;the&#160;identifier in&#160;byte 4&#160;of&#160;the NM&#160;transmission&#160;message and&#160;request&#160;an&#160;additional&#160;message&#160;<br/>transmission.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;NM&#160;Interface&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;only&#160;available if&#160;‘Diagnostic&#160;Gateway&#160;Extension&#160;Support’&#160;is&#160;enabled.&#160;<br/>
<b>5.5.3.5&#160;</b><br/>
<b>CanNm_DisablePNActivationState:&#160;Disable&#160;Partial&#160;Networking&#160;</b><br/>
<b>CanNm_DisablePNActivationState&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_DisablePNActivationState</b>&#160;(&#160;void&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0xFD&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;may&#160;be&#160;called&#160;directly&#160;after CanNm_Init&#160;to&#160;completely&#160;disable&#160;any&#160;PN functionality&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;has&#160;to&#160;be&#160;called&#160;after&#160;CanNm_Init()&#160;(see&#160;also chapter<a href="TechnicalReference_Asr_CanNms.html#52">&#160;5.5.1.1)</a>&#160;and before&#160;the&#160;<br/>
first&#160;call&#160;of&#160;CanNm_MainFunction_X()&#160;(see&#160;also chapter<a href="TechnicalReference_Asr_CanNms.html#53">&#160;5.5.1.2)</a>.&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;re-entrant&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;Application&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;only&#160;available if&#160;‘Pn Feature&#160;Enabled’&#160;is&#160;enabled.&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
74&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=75></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-75_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-75_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.6&#160;</b><br/>
<b>Services&#160;Used by&#160;CAN&#160;NM&#160;</b><br/>
In&#160;the&#160;following&#160;table&#160;services&#160;provided&#160;by&#160;other&#160;components,&#160;which&#160;are&#160;used&#160;by&#160;the&#160;CAN&#160;<br/>NM&#160;&#160;are&#160;&#160;listed.&#160;&#160;For&#160;&#160;details&#160;&#160;about&#160;&#160;prototype&#160;and&#160;functionality&#160;&#160;refer&#160;&#160;to&#160;&#160;the&#160;&#160;documentation&#160;of&#160;<br/>the&#160;providing&#160;component.&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
DET&#160;<br/>
Det_ReportError7&#160;<br/>
DEM&#160;<br/>
Dem_ReportErrorStatus8&#160;<br/>
SchM&#160;<br/>
SchM_Enter_CanNm9&#160;<br/>SchM_Exit_CanN<a href="TechnicalReference_Asr_CanNms.html#75">m9&#160;</a><br/>
CanIf&#160;<br/>
CanIf_Transmit10&#160;<br/>
PduR&#160;<br/>
PduR_CanNmTriggerTra<a href="TechnicalReference_Asr_CanNms.html#75">nsmit10&#160;11</a>&#160;<br/>PduR_CanNmTxConfirmatio<a href="TechnicalReference_Asr_CanNms.html#75">n10&#160;11&#160;12</a>&#160;<br/>PduR_CanNmRxIndication13&#160;<br/>
Table&#160;5-5&#160;&#160;<br/>
Services&#160;Used&#160;by&#160;the&#160;CAN&#160;NM&#160;<br/>
&#160;<br/>
<b>5.7&#160;</b><br/>
<b>Callbacks&#160;Provided by&#160;CAN NM&#160;</b><br/>
<b>5.7.1&#160;</b><br/>
<b>Callback&#160;Functions&#160;from CAN Interface&#160;</b><br/>
<b>5.7.1.1&#160;</b><br/>
<b>CanNm_RxIndication:&#160;NM Message&#160;Indication&#160;</b><br/>
<b>CanNm_RxIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_RxIndication&#160;</b>(&#160;&#160;&#160;PduIdType&#160;&#160;<br/>
canNmRxPduId,&#160;<br/>
&#160;<br/>
const PduInfoType *&#160;PduInfoPtr&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
canNmRxPduId&#160;<br/>
Identification&#160;of&#160;the network&#160;through&#160;PDU-ID&#160;<br/>
PduInfoPtr&#160;<br/>
Pointer&#160;to a&#160;PduInfoType&#160;struct containing&#160;data&#160;and length&#160;of&#160;the received&#160;<br/>CAN NM SDU&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x10&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
7&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Dev&#160;Error Detect’&#160;is&#160;enabled&#160;<br/>
8&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Prod Error Detect’&#160;is&#160;enabled&#160;<br/>
9&#160;Service&#160;only&#160;used&#160;if&#160;the critical&#160;section&#160;handling is&#160;done by&#160;the BSW&#160;Scheduler&#160;<br/>
10&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Passive&#160;Mode’&#160;is&#160;disabled&#160;<br/>
11&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘NM&#160;User Data via&#160;Com’&#160;is&#160;enabled.&#160;<br/>
12&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Immediate&#160;Txconf&#160;Enabled’&#160;is&#160;disabled.&#160;<br/>
13&#160;Service&#160;only&#160;used&#160;if&#160;the features&#160;‘Pn&#160;Eira Calc&#160;Enabled’&#160;or&#160;‘Pn Era Calc&#160;Enabled’&#160;is&#160;enabled.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
75&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=76></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-76_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-76_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Indication that&#160;a&#160;CAN NM&#160;L-PDU (NM messages)&#160;has&#160;been&#160;successfully&#160;received.&#160;The&#160;API&#160;parameter&#160;<br/>canNmRxPduId&#160;refers&#160;to&#160;the NM&#160;channel&#160;handle,&#160;i.e.&#160;a&#160;mapping&#160;from&#160;PduId&#160;to&#160;NM&#160;channel&#160;handle is&#160;not&#160;<br/>necessary.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Only&#160;re-entrant&#160;with different&#160;channel&#160;handles&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;CanIf&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
76&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=77></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-77_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-77_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>5.7.1.2&#160;</b><br/>
<b>CanNm_TxConfirmation:&#160;NM Message&#160;Confirmation Function&#160;</b><br/>
<b>CanNm_TxConfirmation&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanNm_TxConfirmation&#160;</b>( PduIdType canNmTxPduId )&#160;<br/>
<b>Parameter&#160;</b><br/>
canNmTxPduId<b>&#160;</b><br/>
ID of&#160;CAN NM L-PDU that&#160;has&#160;been&#160;transmitted.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-<b>&#160;</b><br/>
-&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
Service ID&#160;<br/>
0x0F&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Notification&#160;of&#160;the successful&#160;transmission&#160;of&#160;a&#160;NM message (L-PDU).&#160;The&#160;API&#160;parameter&#160;canNmTxPduId&#160;<br/>refers&#160;not to&#160;the NM&#160;channel&#160;handle&#160;and&#160;a&#160;mapping from&#160;PduId&#160;to&#160;NM channel&#160;handle&#160;is&#160;done by&#160;the&#160;CAN&#160;<br/>NM (refer also to chap<a href="TechnicalReference_Asr_CanNms.html#17">ter&#160;3.1.1.2&#160;‘PDU ID&#160;Used&#160;as&#160;Argument for CanNm_TxConfirmation’)</a>.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Call&#160;context:&#160;task&#160;and interrupt&#160;level&#160;<br/>
<b>&gt;&#160;&#160;</b>Only&#160;re-entrant&#160;with different&#160;channel&#160;handles&#160;<br/>
<b>&gt;&#160;&#160;</b>Called&#160;by&#160;CanIf&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;available for&#160;passive nodes&#160;(CANNM_PASSIVE_MODE_ENABLED&#160;is&#160;STD_ON)&#160;or&#160;if&#160;<br/>
CANNM_IMMEDIATE_TXCONF_ENABLED&#160;is&#160;STD_ON&#160;<br/>
&#160;<br/>
<b>5.8&#160;</b><br/>
<b>Callback&#160;Functions&#160;used by&#160;CAN NM&#160;</b><br/>
<b>5.8.1&#160;</b><br/>
<b>Service&#160;Callback&#160;Functions&#160;of&#160;CAN NM&#160;</b><br/>
The&#160;&#160;following,&#160;&#160;partly&#160;&#160;optional,&#160;&#160;service&#160;&#160;callback&#160;&#160;functions&#160;&#160;of&#160;&#160;CAN&#160;&#160;NM&#160;&#160;are&#160;&#160;implemented&#160;<br/>within&#160;the&#160;NM&#160;Interface.&#160;Please&#160;refer&#160;to&#160;the&#160;document&#160;of&#160;the&#160;NM&#160;Interface&#160;component&#160;for&#160;a&#160;<br/>detailed&#160;description&#160;of&#160;these&#160;services:&#160;<br/>
void&#160;<b>Nm_NetworkStartIndication</b>(&#160;&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_NetworkMode</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_PrepareBusSleepMode</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_BusSleepMode</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_RepeatMessageIndication</b>(&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_RemoteSleepIndication</b>(&#160;&#160;&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_RemoteSleepCancellation</b>(&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_StateChangeNotification</b>(&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle,&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
77&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=78></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-78_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-78_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
const Nm_StateType&#160;<br/>
&#160;<br/>
nmPreviousState,&#160;&#160;<br/>
&#160;<br/>
const Nm_StateType&#160;<br/>
&#160;<br/>
nmCurrentState )&#160;<br/>
void&#160;<b>Nm_PduRxIndication</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_TxTimeoutException</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_CarWakeUpIndication</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
These&#160;&#160;functions&#160;&#160;are&#160;&#160;called&#160;&#160;from&#160;&#160;task&#160;&#160;level&#160;&#160;except&#160;&#160;the&#160;&#160;Nm_PduRxIndication&#160;&#160;and&#160;<br/>Nm_CarWakeUpIndication,&#160;which&#160;can&#160;be&#160;called&#160;from&#160;interrupt&#160;or&#160;from&#160;task level.&#160;<br/>
<b>5.8.2&#160;</b><br/>
<b>Additional&#160;Service&#160;Callback&#160;Functions&#160;of CAN&#160;NM&#160;</b><br/>
The&#160;&#160;service&#160;&#160;callbacks&#160;&#160;described&#160;&#160;in&#160;&#160;this&#160;&#160;chapter&#160;&#160;are&#160;&#160;additionally&#160;&#160;called&#160;&#160;by&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;<br/>when&#160;the&#160;corresponding&#160;feature is&#160;available.&#160;<br/>
<b>5.8.2.1&#160;</b><br/>
<b>Callbacks&#160;for Limp Home&#160;Indication&#160;</b><br/>
The&#160;following&#160;two&#160;callbacks are&#160;provided&#160;for&#160;Limp&#160;Home&#160;detection&#160;/&#160;cancellation:&#160;<br/>
void&#160;<b>Nm_LimpHomeIndication</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
void&#160;<b>Nm_LimpHomeCancelation</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle )&#160;<br/>
These&#160;functions&#160;are called&#160;from&#160;task&#160;level.&#160;<br/>
<b>5.8.2.2&#160;</b><br/>
<b>Callbacks&#160;for Coordination Extension&#160;</b><br/>
The&#160;&#160;following&#160;&#160;callback&#160;&#160;is&#160;&#160;provided&#160;&#160;to&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;if&#160;&#160;the&#160;&#160;Coordination&#160;&#160;Extension&#160;&#160;is&#160;<br/>used:&#160;<br/>
void&#160;<b>Nm_ActiveCoordIndication</b>(&#160;&#160;&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle,&#160;<br/>
&#160;<br/>
const uint8&#160;nmCoordPrio,&#160;<br/>
&#160;<br/>
const uint8 nmSleepInd)&#160;<br/>
This&#160;function&#160;is called&#160;from&#160;interrupt&#160;or task level.&#160;<br/>
<b>5.8.2.3&#160;</b><br/>
<b>Callbacks&#160;for Gateway&#160;Extension Support&#160;</b><br/>
The&#160;&#160;following&#160;&#160;callback&#160;&#160;is&#160;&#160;provided&#160;&#160;by&#160;&#160;CAN&#160;&#160;NM&#160;&#160;if&#160;&#160;the&#160;&#160;Gateway&#160;&#160;Extension&#160;&#160;Support&#160;&#160;is&#160;<br/>enabled:&#160;&#160;<br/>
void&#160;<b>Nm_GwPduRxIndication</b>(&#160;&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle,&#160;<br/>
&#160;<br/>
uint8 nmNodeId,&#160;<br/>
&#160;<br/>
uint8&#160;nmReqId,&#160;<br/>
&#160;<br/>
uint8 nmReqCh)&#160;<br/>
This&#160;function&#160;is called&#160;from&#160;interrupt&#160;or task level.&#160;<br/>
<b>5.8.2.4&#160;</b><br/>
<b>Callbacks&#160;for Partial&#160;Networking&#160;</b><br/>
The&#160;following&#160;callback&#160;is provided&#160;by&#160;CAN&#160;NM&#160;if&#160;the&#160;Partial Networking&#160;Feature is&#160;enabled:&#160;<br/>
void&#160;<b>CanSM_TxTimeoutException</b>(&#160;&#160;NetworkHandleType Channel&#160;)&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
78&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=79></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-79_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-79_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
This&#160;function&#160;is called&#160;from&#160;task level.&#160;<br/>
<b>5.8.2.5&#160;</b><br/>
<b>Generator Compatibility&#160;Error&#160;</b><br/>
The&#160;&#160;following&#160;&#160;callback&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;provided&#160;&#160;by&#160;&#160;the&#160;&#160;ECU&#160;&#160;Manager&#160;&#160;if&#160;&#160;the&#160;&#160;Version&#160;&#160;Check&#160;<br/>feature is&#160;not&#160;explicitly&#160;suppressed&#160;or if the&#160;CRC&#160;Check&#160;feature is&#160;enabled:&#160;<br/>
void&#160;<b>EcuM_GeneratorCompatibilityError</b>(&#160;<br/>&#160;<br/>
uint16&#160;ModuleId,&#160;&#160;<br/>
&#160;<br/>
uint8 InstanceId )&#160;<br/>
This&#160;&#160;function&#160;&#160;is&#160;&#160;called&#160;&#160;during&#160;&#160;the&#160;&#160;initialization,&#160;&#160;i.e.&#160;&#160;from&#160;&#160;task&#160;&#160;level,&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;if&#160;&#160;the&#160;<br/>Generator Version&#160;Check or the&#160;CRC&#160;Check&#160;fails.&#160;<br/>
Refer to&#160;[11]&#160;for&#160;more information.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
79&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=80></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-80_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-80_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>6&#160;&#160;Configuration&#160;</b><br/>
AUTOSAR&#160;&#160;CAN&#160;&#160;NM&#160;&#160;supports&#160;&#160;three&#160;&#160;different&#160;&#160;configuration&#160;&#160;variants:&#160;&#160;pre-compile&#160;<br/>configuration,&#160;<br/>
link-time&#160;<br/>
configuration&#160;<br/>
and&#160;<br/>
post-build&#160;<br/>
configuration.&#160;<br/>
Pre-compile&#160;<br/>
configuration&#160;&#160;can&#160;&#160;only&#160;&#160;be&#160;&#160;carried&#160;&#160;out&#160;&#160;if&#160;&#160;source&#160;&#160;code&#160;&#160;is&#160;&#160;available.&#160;&#160;Link-time&#160;&#160;configuration&#160;<br/>and&#160;&#160;post-build&#160;&#160;configuration&#160;&#160;are&#160;&#160;only&#160;&#160;reasonable&#160;&#160;if&#160;&#160;source&#160;&#160;code&#160;&#160;is&#160;&#160;not&#160;&#160;available,&#160;&#160;i.e.&#160;&#160;the&#160;<br/>components&#160;are available&#160;as&#160;object&#160;code&#160;or library.&#160;&#160;&#160;<br/>It&#160;depends&#160;on&#160;the&#160;OEM&#160;and&#160;license&#160;whether&#160;pre-compile&#160;configuration&#160;with&#160;source&#160;code&#160;or&#160;<br/>link-time&#160;/&#160;post-build&#160;configuration&#160;with&#160;object&#160;code&#160;and&#160;library&#160;has to&#160;be&#160;used.&#160;<br/>
In&#160;&#160;the&#160;&#160;CanNm&#160;&#160;the&#160;&#160;attributes&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;according&#160;&#160;to/&#160;&#160;with&#160;&#160;the&#160;&#160;following&#160;&#160;methods/&#160;<br/>tools:&#160;<br/>
<b>&gt;&#160;&#160;</b>Configuration&#160;in&#160;Database,&#160;for a&#160;detailed&#160;description&#160;see<a href="TechnicalReference_Asr_CanNms.html#80">&#160;6.2&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Configuration&#160;in&#160;GENy,&#160;for a&#160;detailed&#160;description&#160;see<a href="TechnicalReference_Asr_CanNms.html#82">&#160;6.3&#160;</a><br/>
<b>6.1&#160;</b><br/>
<b>Configuration Variants&#160;</b><br/>
The&#160;CanNm&#160;supports the&#160;configuration&#160;variants&#160;<br/>
<b>&gt;&#160;&#160;</b>VARIANT-PRE-COMPILE&#160;<br/>
<b>&gt;&#160;&#160;</b>VARIANT-LINK-TIME&#160;<br/>
<b>&gt;&#160;&#160;</b>VARIANT-POST-BUILD&#160;<br/>
The&#160;&#160;configuration&#160;&#160;classes&#160;&#160;of&#160;&#160;the&#160;&#160;CanNm&#160;&#160;parameters&#160;&#160;depend&#160;&#160;on&#160;&#160;the&#160;&#160;supported&#160;<br/>configuration&#160;variants.&#160;For their&#160;definitions please&#160;see&#160;the&#160;CanNm_bswmd.arxml file.&#160;<br/>
<b>6.2&#160;</b><br/>
<b>Configuration in&#160;Data&#160;Base&#160;</b><br/>
The&#160;following&#160;table&#160;provides a&#160;list of&#160;database&#160;attributes that&#160;apply&#160;only&#160;to&#160;CAN&#160;NM.&#160;<br/>
<b>Attribute&#160;</b><br/>
<b>Object&#160;</b><br/>
<b>Type&#160;</b><br/>
<b>Value&#160;</b><br/>
<b>Default&#160;&#160;Description&#160;</b><br/>
<a href="TechnicalReference_Asr_CanNms.html#80">NmType14&#160;</a><br/>
Network&#160;&#160;String&#160;<br/>
“NmAsr”,&#160;&#160;None&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>
“&lt;OEM&gt;-<br/>
type&#160;of&#160;the&#160;NM.&#160;To allow&#160;the&#160;<br/>
OSEK”&#160;<br/>
configuration&#160;of&#160;OSEK&#160;NM&#160;<br/>and CAN&#160;NM&#160;within the&#160;<br/>same&#160;ECU&#160;the&#160;CAN&#160;NM&#160;<br/>also accepts&#160;a valid OSEK&#160;<br/>NM&#160;value.&#160;<br/>Note&#160;that&#160;for&#160;OSEK&#160;NM&#160;this&#160;<br/>type&#160;is&#160;OEM-specific.&#160;<br/>
NmAsrNode14&#160;<br/>
Node&#160;<br/>
Enumer&#160;No,&#160;yes&#160;<br/>
No&#160;<br/>
This&#160;attribute&#160;defines&#160;<br/>
ation&#160;<br/>
whether&#160;the&#160;corresponding&#160;<br/>node&#160;uses&#160;the&#160;AUTOSAR&#160;<br/>NM&#160;(“Yes&#34;”)&#160;or&#160;not&#160;(“No”).&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#80">NmAsrMessage14&#160;</a><br/>
Message&#160;&#160;Enumer&#160;No,&#160;yes&#160;<br/>
No&#160;<br/>
This&#160;attribute&#160;defines&#160;<br/>
ation&#160;<br/>
whether&#160;the&#160;corresponding&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
14&#160;Database attribute&#160;is&#160;required&#160;if&#160;GENy&#160;is&#160;used&#160;for the&#160;configuration.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
80&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=81></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-81_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-81_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
message&#160;is&#160;an&#160;AUTOSAR&#160;<br/>NM&#160;message&#160;(“Yes&#34;)&#160;or&#160;not&#160;<br/>(“No”).&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#80">NmAsrMessageCount14&#160;</a><br/>
Network&#160;&#160;Integer&#160;&#160;1..256&#160;<br/>
128&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>maximum&#160;number&#160;of&#160;NM&#160;<br/>message&#160;received&#160;by&#160;the&#160;<br/>NM&#160;(Message Range).&#160;&#160;<br/>There is&#160;the&#160;requirement&#160;<br/>that&#160;the&#160;value&#160;of&#160;attribute&#160;<br/>NmAsrMessageCount&#160;is&#160;2n&#160;<br/>(where n&#160;is&#160;a&#160;natural&#160;<br/>number).&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#80">NmAsrBaseAddress14&#160;</a><br/>
Network&#160;&#160;Hex&#160;<br/>
0..7FF&#160;<br/>
0x500&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>base address&#160;of&#160;the&#160;NM&#160;<br/>messages&#160;(e.g.&#160;0x500).&#160;<br/>Only&#160;a certain number&#160;of&#160;<br/>nodes&#160;can&#160;participate in&#160;the&#160;<br/>NM.&#160;The&#160;CAN&#160;identifiers&#160;of&#160;<br/>NM&#160;messages&#160;are&#160;kept&#160;in a&#160;<br/>certain&#160;range.&#160;This&#160;range&#160;<br/>starts&#160;with the&#160;ID&#160;given&#160;by&#160;<br/>attribute&#160;<br/>NmAsrBaseAddress.&#160;The&#160;<br/>size of&#160;the&#160;range&#160;is&#160;given&#160;by&#160;<br/>attribute&#160;<br/>NmAsrMessageCount.&#160;<br/>There is a&#160;general&#160;<br/>requirement&#160;that&#160;the&#160;value&#160;<br/>of&#160;attribute&#160;<br/>NmAsrBaseAddress&#160;must&#160;<br/>be&#160;chosen&#160;in&#160;a way&#160;that&#160;<br/>masking&#160;is&#160;possible.&#160;This&#160;<br/>can&#160;be&#160;achieved&#160;if&#160;<br/>NmAsrBaseAddress&#160;is&#160;an&#160;<br/>integer&#160;multiple of&#160;the&#160;<br/>attribute&#160;<br/>NmAsrMessageCount.&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#80">NmAsrNodeIdentifier1&#160;</a>Node&#160;<br/>
Hex&#160;<br/>
0..FF&#160;<br/>
0&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#80">4&#160;</a><br/>
Source Node&#160;Identifier´,&#160;<br/>which is transmitted&#160;in the&#160;<br/>corresponding NM&#160;message&#160;<br/>byte if&#160;activated.&#160;<br/>
NmAsrTimeoutTime&#160;<br/>
Network&#160;&#160;Integer&#160;&#160;1..65535&#160;<br/>
1000&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>NM&#160;Message&#160;Timeout&#160;Time&#160;<br/>(see&#160;also&#160;Chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;<br/>‘Channel&#160;Configuration’)</a>&#160;<br/>
NmAsrWaitBusSleepTim&#160;Network&#160;&#160;Integer&#160;&#160;0..65535&#160;&#160;750&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>
e&#160;<br/>
Wait&#160;Bus-Sleep&#160;Time&#160;(see&#160;<br/>also Chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;‘Channel&#160;<br/>Configuration’)</a>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
81&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=82></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-82_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-82_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
NmAsrRepeatMessageTi&#160;Network&#160;&#160;Integer&#160;&#160;0..65535&#160;&#160;400&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>
me&#160;<br/>
Repeat&#160;Message&#160;Time&#160;(see&#160;<br/>also Chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;‘Channel&#160;<br/>Configuration’)</a>&#160;<br/>
NmAsrCanMsgCycleTime&#160;Network&#160;&#160;Integer&#160;&#160;1..65535&#160;&#160;100&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>NM&#160;Message Cycle&#160;Time&#160;<br/>(see&#160;also&#160;Chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;<br/>‘Channel&#160;Configuration’)</a>&#160;<br/>
NmAsrCanMsgCycleOffs&#160;Node&#160;<br/>
Integer&#160;&#160;0..65535&#160;<br/>
0&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>
et&#160;<br/>
NM&#160;Message&#160;Tx&#160;Offset&#160;<br/>Time&#160;(see&#160;also&#160;Chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#90">6.3.2&#160;‘Channel&#160;<br/>Configuration’)</a>.&#160;<br/>This&#160;attribute&#160;has&#160;to be&#160;set&#160;<br/>less than&#160;<br/>NmAsrCanMsgCycleTime<br/>.&#160;<br/>
NmAsrCanMsgReducedTi&#160;Node&#160;<br/>
Integer&#160;&#160;1..65535&#160;<br/>
50&#160;<br/>
This&#160;attribute&#160;defines&#160;the&#160;<br/>
me&#160;<br/>
NM&#160;Message Node&#160;Specific&#160;<br/>Reduced Cycle&#160;Time&#160;(see&#160;<br/>also&#160;Chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;‘Channel&#160;<br/>Configuration’)</a>.&#160;&#160;<br/>This&#160;attribute&#160;is&#160;node-<br/>specific&#160;and has&#160;to be&#160;set&#160;<br/>greater&#160;than&#160;½&#160;*&#160;<br/>NmAsrCanMsgCycleTime&#160;<br/>but less than&#160;<br/>NmAsrCanMsgCycleTime<br/>.&#160;<br/>
Table&#160;6-1&#160;&#160;<br/>
Database&#160;Attributes&#160;for&#160;CAN&#160;NM&#160;<br/>
<b>6.3&#160;</b><br/>
<b>Configuration&#160;with GENy&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;Network&#160;&#160;Management&#160;&#160;is&#160;&#160;performed&#160;&#160;with&#160;&#160;the&#160;<br/>generation&#160;tool GENy.&#160;<br/>
It&#160;is&#160;strongly&#160;recommend&#160;using&#160;the&#160;database&#160;attributes&#160;listed&#160;in&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#80">r&#160;&#160;6.2&#160;‘Configuration&#160;<br/>in&#160;Data&#160;Base’.</a>&#160;Some&#160;attributes&#160;are&#160;mandatory&#160;for&#160;the&#160;usage&#160;of&#160;CAN&#160;NM.&#160;Please&#160;note&#160;that&#160;<br/>the&#160;&#160;configuration&#160;&#160;items&#160;&#160;gathered&#160;&#160;from&#160;&#160;the&#160;&#160;database&#160;&#160;are&#160;&#160;disabled&#160;&#160;and&#160;&#160;grayed&#160;&#160;and&#160;&#160;cannot&#160;<br/>be&#160;overwritten&#160;by&#160;the&#160;user.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
82&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=83></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-83_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-83_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-83_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-83_4.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;6-1&#160;<br/>
Component&#160;Selection&#160;in&#160;GENy&#160;<br/>
In&#160;&#160;order&#160;&#160;to&#160;&#160;configure&#160;&#160;the&#160;AUTOSAR&#160;&#160;CAN&#160;&#160;Network&#160;&#160;Management&#160;&#160;component&#160;&#160;it&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>activated&#160;on&#160;the&#160;designated&#160;channels:&#160;CanNm.&#160;<br/>
The&#160;&#160;activation&#160;&#160;of&#160;&#160;CAN&#160;&#160;NM&#160;&#160;requires&#160;&#160;the&#160;&#160;activation&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;([6])&#160;&#160;or&#160;&#160;of&#160;&#160;a&#160;<br/>CANbedded&#160;CAN&#160;Driver&#160;on&#160;the&#160;same&#160;channel.&#160;<br/>
The&#160;component&#160;has ECU&#160;specific and&#160;channel specific settings that&#160;have&#160;to&#160;be&#160;customized&#160;<br/>separately.&#160;The&#160;detailed&#160;configuration&#160;is&#160;described&#160;in&#160;the&#160;following&#160;chapters.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Note&#160;that&#160;not&#160;all&#160;parameters&#160;described in&#160;the&#160;following&#160;chapters&#160;may&#160;be&#160;visible or&#160;<br/>
&#160;&#160;available in&#160;your&#160;configuration.&#160;This&#160;depends&#160;mainly&#160;on&#160;the&#160;available features (refer&#160;<br/>
also to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#16">&#160;3.1&#160;‘Overview&#160;of&#160;the&#160;Functional&#160;Scope’</a>)&#160;and&#160;the&#160;OEM&#160;pre-configuration.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
83&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=84></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-84_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-84_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-84_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>6.3.1&#160;</b><br/>
<b>Component Configuration&#160;</b><br/>
&#160;<br/>
Figure&#160;6-2&#160;<br/>
Component&#160;Configuration&#160;CAN&#160;NM&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
84&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=85></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-85_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-85_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>Configuration&#160;options&#160;</b><br/>
<b>Value&#160;</b><br/>
<b>Description&#160;</b><br/>
Common&#160;<br/>
Configuration Variant&#160;<br/>
<b>&gt;&#160;&#160;</b>Variant&#160;1&#160;<br/>
Set&#160;the&#160;AUTOSAR&#160;Configuration Variant&#160;(Variant&#160;1:&#160;<br/>Pre-compile configuration;&#160;Variant&#160;2:&#160;Link-time&#160;<br/>
<b>&gt;&#160;&#160;</b>Variant&#160;2&#160;<br/>
configuration;&#160;Variant&#160;3:&#160;Post-build configuration).&#160;<br/>
<b>&gt;&#160;&#160;</b>Variant&#160;3&#160;<br/>
Version Info&#160;AP<a href="TechnicalReference_Asr_CanNms.html#85">I15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;version information&#160;<br/>functionality.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Dev&#160;Error&#160;Detectio<a href="TechnicalReference_Asr_CanNms.html#85">n15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;error&#160;reporting&#160;to&#160;the&#160;<br/>development&#160;error&#160;detection.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
The&#160;development&#160;error&#160;detection&#160;comprises&#160;<br/>amongst&#160;others&#160;channel&#160;parameter&#160;checks&#160;and&#160;<br/>check&#160;of&#160;initialization upon&#160;every&#160;service call.&#160;<br/>It&#160;is&#160;strongly&#160;recommended&#160;to&#160;disable this&#160;option&#160;in&#160;<br/>production&#160;code.&#160;<br/>
Prod&#160;Error&#160;Detect15&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;error&#160;reporting&#160;to&#160;the&#160;diagnostic&#160;<br/>event&#160;manager&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
User&#160;Config File&#160;<br/>
String&#160;<br/>
Enter&#160;the&#160;path&#160;of&#160;a user&#160;config&#160;file.&#160;<br/>The&#160;user&#160;config&#160;file is pasted&#160;at&#160;the&#160;end&#160;of&#160;the&#160;<br/>configuration&#160;file&#160;CanNm_Cfg.h&#160;during&#160;the&#160;<br/>generation process.&#160;<br/>It&#160;can&#160;be&#160;used&#160;to&#160;manually&#160;customize the&#160;CAN&#160;NM.&#160;<br/>
Post-build configuration16&#160;<br/>
Module Start&#160;Address&#160;<br/>
Memory&#160;<br/>
Set&#160;the&#160;Start&#160;Address&#160;of&#160;the&#160;module’s&#160;post-build&#160;<br/>
Address&#160;<br/>
configuration&#160;(location&#160;in&#160;the&#160;memory).&#160;<br/>
&#160;&#160;NM&#160;Options&#160;<br/>
Bus Synchronization Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;&#160;</a><b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;bus&#160;synchronization (gateway&#160;<br/>functionality).&#160;It&#160;can&#160;only&#160;be&#160;enabled&#160;if&#160;Passive&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Mode is disabled.&#160;<br/>
Node Detection&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;node&#160;detection&#160;support.&#160;It&#160;can&#160;<br/>only&#160;be&#160;enabled&#160;if&#160;Passive Mode is disabled&#160;and&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Node Identifier&#160;is&#160;enabled.&#160;<br/>
Node Id Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;node&#160;identifier&#160;support.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
PDU&#160;Rx&#160;Indication Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;PDU&#160;receive indication&#160;<br/>functionality.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Remote&#160;Sleep Ind&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;remote sleep&#160;indication&#160;<br/>(gateway&#160;functionality).&#160;It&#160;can&#160;only&#160;be&#160;enabled&#160;if&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Passive&#160;Mode is disabled.&#160;<br/>
State&#160;Change&#160;Ind&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;state&#160;change notification&#160;<br/>functionality.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
15&#160;Pre-compile parameter, which should be&#160;pre-configured in link-time configurations&#160;<br/>
16&#160;Only&#160;available&#160;when&#160;post-build configuration&#160;variant&#160;is&#160;selected.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
85&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=86></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-86_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-86_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
User&#160;Data&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;user&#160;data support.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Car&#160;Wup&#160;Rx&#160;Feature&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;&#160;</a><b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;Car&#160;Wake-up&#160;support.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Note&#160;that&#160;this&#160;parameter&#160;just&#160;enables&#160;the&#160;availability&#160;<br/>of&#160;this&#160;feature in&#160;the&#160;code but&#160;the&#160;algorithm&#160;has&#160;to&#160;<br/>be&#160;additionally&#160;activated&#160;on&#160;each channel&#160;<br/>(parameter&#160;‘Car&#160;Wake Up Rx&#160;Enabled’,&#160;see&#160;chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#90">6.3.2&#160;‘Channel&#160;Configuration’</a>).&#160;<br/>Refer&#160;to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#41">&#160;3.22&#160;‘Car&#160;Wake-up’&#160;</a>for&#160;feature&#160;<br/>details.&#160;<br/>
Car&#160;Wup&#160;Filter&#160;Feature&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;Car&#160;Wake-up&#160;Node&#160;ID&#160;Filter&#160;<br/>
Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Note&#160;that&#160;this&#160;parameter&#160;just&#160;enables&#160;the&#160;availability&#160;<br/>of&#160;this&#160;feature in&#160;the&#160;code but&#160;the&#160;algorithm&#160;has&#160;to&#160;<br/>be&#160;additionally&#160;activated&#160;on&#160;each channel&#160;<br/>(parameter&#160;‘Car&#160;Wake Up Filter&#160;Enabled’,&#160;see&#160;<br/>chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;‘Channel&#160;Configuration’</a>).&#160;<br/>
Passive&#160;Mode&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;passive mode.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
&#160;&#160;&#160;&#160;Partial&#160;Networking&#160;<br/>
Pn Feature&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;Partial&#160;Networking&#160;feature&#160;<br/>availability.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Note&#160;that&#160;this&#160;parameter&#160;just&#160;enables&#160;the&#160;availability&#160;<br/>of&#160;this&#160;feature in&#160;the&#160;code but&#160;the&#160;algorithm&#160;has&#160;to&#160;<br/>be&#160;additionally&#160;activated&#160;on&#160;each channel&#160;<br/>(parameter&#160;‘Pn Enabled’,&#160;see&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;<br/>‘Channel&#160;Configuration’</a>).&#160;<br/>Refer&#160;to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#42">&#160;3.23&#160;‘Partial&#160;Networking’&#160;</a>for&#160;feature&#160;<br/>details.&#160;<br/>
Pn&#160;Era&#160;Calc&#160;Feature&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;&#160;</a><b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;Partial&#160;Networking&#160;ERA&#160;<br/>algorithm&#160;availability.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Note&#160;that&#160;this&#160;parameter&#160;just&#160;enables&#160;the&#160;availability&#160;<br/>of&#160;this&#160;feature in&#160;the&#160;code but&#160;the&#160;algorithm&#160;has&#160;to&#160;<br/>be&#160;additionally&#160;activated&#160;on&#160;each channel&#160;<br/>(parameter&#160;‘Pn Era Calc&#160;Enabled’,&#160;see&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;<br/>‘Channel&#160;Configuration’</a>).&#160;<br/>
Pn&#160;Eira Calc&#160;Feature&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;Partial&#160;Networking&#160;EIRA&#160;<br/>
Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
algorithm&#160;availability.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Note&#160;that&#160;this&#160;parameter&#160;just&#160;enables&#160;the&#160;availability&#160;<br/>of&#160;this&#160;feature in&#160;the&#160;code but&#160;the&#160;algorithm&#160;has&#160;to&#160;<br/>be&#160;additionally&#160;activated&#160;(parameter&#160;‘Pn Eira&#160;Calc&#160;<br/>Enabled’,&#160;see&#160;below).&#160;<br/>
Pn Eira Calc&#160;Enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;Partial&#160;Networking&#160;EIRA&#160;<br/>algorithm.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Pn Eira Rx&#160;N-Sdu&#160;Ref&#160;<br/>
Combo&#160;Box&#160;<br/>
Select&#160;the&#160;Name&#160;of&#160;the&#160;Com&#160;PDU&#160;where the&#160;PN&#160;<br/>information&#160;of&#160;the&#160;EIRA&#160;algorithm&#160;is&#160;provided.&#160;<br/>
Pn Reset&#160;Time&#160;[s]&#160;<br/>
0..65.535&#160;<br/>
Configure&#160;the&#160;timeout&#160;value&#160;for&#160;not&#160;repeated&#160;PN&#160;<br/>clusters.&#160;Value&#160;is&#160;the&#160;same&#160;for&#160;EIRA&#160;and&#160;ERA&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
86&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=87></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-87_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-87_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
algorithm.&#160;<br/>
Pn Info&#160;Offset&#160;<br/>
1..7&#160;<br/>
Set&#160;the&#160;offset&#160;where the&#160;PN&#160;information&#160;within the&#160;<br/>NM&#160;PDU&#160;starts.&#160;<br/>
Pn Info&#160;Length&#160;<br/>
0..7&#160;<br/>
Set&#160;the&#160;length&#160;of&#160;the&#160;PN&#160;information within&#160;the&#160;NM&#160;<br/>PDU.&#160;<br/>
&#160;&#160;&#160;&#160;&#160;&#160;Pn Filter&#160;Mask Bytes&#160;<br/>
Pn Filter&#160;Mask Byte 0&#160;Value&#160;<br/>
0x0..0xFF&#160;<br/>
Configure&#160;the&#160;filter&#160;mask&#160;value&#160;for&#160;the&#160;first&#160;PN&#160;<br/>information&#160;byte.&#160;<br/>Note&#160;that&#160;this&#160;parameter&#160;is&#160;only&#160;available if&#160;‘Pn&#160;Info&#160;<br/>Length’&#160;&gt;&#160;0&#160;<br/>
Pn Filter&#160;Mask Byte 1&#160;Value&#160;<br/>
0x0..0xFF&#160;<br/>
Configure&#160;the&#160;filter&#160;mask&#160;value&#160;for&#160;the&#160;second&#160;PN&#160;<br/>information&#160;byte.&#160;<br/>Note&#160;that&#160;this&#160;parameter&#160;is&#160;only&#160;available if&#160;‘Pn&#160;Info&#160;<br/>Length’&#160;&gt;&#160;1&#160;<br/>
Pn Filter&#160;Mask Byte 2&#160;Value&#160;<br/>
0x0..0xFF&#160;<br/>
Configure&#160;the&#160;filter&#160;mask&#160;value&#160;for&#160;the&#160;third&#160;PN&#160;<br/>information&#160;byte.&#160;<br/>Note&#160;that&#160;this&#160;parameter&#160;is&#160;only&#160;available if&#160;‘Pn&#160;Info&#160;<br/>Length’&#160;&gt;&#160;2&#160;<br/>
Pn Filter&#160;Mask Byte 3&#160;Value&#160;<br/>
0x0..0xFF&#160;<br/>
Configure&#160;the&#160;filter&#160;mask&#160;value&#160;for&#160;the&#160;fourth&#160;PN&#160;<br/>information&#160;byte.&#160;<br/>Note&#160;that&#160;this&#160;parameter&#160;is&#160;only&#160;available if&#160;‘Pn&#160;Info&#160;<br/>Length’&#160;&gt;&#160;3&#160;<br/>
Pn Filter&#160;Mask Byte 4&#160;Value&#160;<br/>
0x0..0xFF&#160;<br/>
Configure&#160;the&#160;filter&#160;mask&#160;value&#160;for&#160;the&#160;fifth&#160;PN&#160;<br/>information&#160;byte.&#160;<br/>Note&#160;that&#160;this&#160;parameter&#160;is&#160;only&#160;available if&#160;‘Pn&#160;Info&#160;<br/>Length’&#160;&gt;&#160;4&#160;<br/>
Pn Filter&#160;Mask Byte 5&#160;Value&#160;<br/>
0x0..0xFF&#160;<br/>
Configure&#160;the&#160;filter&#160;mask&#160;value&#160;for&#160;the&#160;sixth&#160;PN&#160;<br/>information&#160;byte.&#160;<br/>Note&#160;that&#160;this&#160;parameter&#160;is&#160;only&#160;available if&#160;‘Pn&#160;Info&#160;<br/>Length’&#160;&gt;&#160;5&#160;<br/>
Pn Filter&#160;Mask Byte 6&#160;Value&#160;<br/>
0x0..0xFF&#160;<br/>
Configure&#160;the&#160;filter&#160;mask&#160;value&#160;for&#160;the&#160;seventh&#160;PN&#160;<br/>information&#160;byte.&#160;<br/>Note&#160;that&#160;this&#160;parameter&#160;is&#160;only&#160;available if&#160;‘Pn&#160;Info&#160;<br/>Length’&#160;&gt;&#160;6&#160;<br/>
&#160;&#160;AMD&#160;Runtime&#160;Measurement&#160;<br/>
AMD&#160;Runtime Measuremen<a href="TechnicalReference_Asr_CanNms.html#85">t15&#160;&#160;</a><b>&gt;&#160;&#160;</b>Enable&#160;<br/>
This&#160;parameter&#160;defines&#160;if&#160;AMD&#160;Runtime&#160;<br/>Measurement&#160;(RTM)&#160;is&#160;enabled&#160;for&#160;this&#160;module.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
&#160;&#160;CAN&#160;NM&#160;Options&#160;<br/>
Bus Load&#160;Reduction&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;&#160;</a><b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;bus load&#160;reduction&#160;<br/>algorithm.&#160;It&#160;can&#160;only&#160;be&#160;enabled&#160;if&#160;Passive Mode&#160;is&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
disabled.&#160;<br/>
Com&#160;Control&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;communication control&#160;service.&#160;<br/>It&#160;can&#160;only&#160;be&#160;enabled&#160;if&#160;Passive&#160;Mode is disabled.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Immediate&#160;Restart&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;immediate&#160;restart.&#160;It&#160;can&#160;only&#160;be&#160;<br/>enabled&#160;if&#160;Passive Mode&#160;is&#160;disabled.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
87&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=88></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-88_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-88_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
Immediate&#160;Txconf&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;immediate&#160;transmission&#160;<br/>confirmation.&#160;It&#160;can&#160;only&#160;be&#160;enabled&#160;if&#160;Passive Mode&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
is&#160;disabled.&#160;<br/>
Repeat&#160;Msg&#160;Ind&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;callback&#160;to&#160;NM&#160;Interface&#160;if&#160;a&#160;<br/>state&#160;change&#160;to&#160;Repeat&#160;Message due&#160;to a&#160;repeat&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
message&#160;bit&#160;or&#160;a&#160;repeat&#160;message&#160;request&#160;occurred.&#160;<br/>
Immediate&#160;Nm&#160;Tx&#160;Feature&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;Immediate&#160;Nm&#160;Transmission&#160;<br/>
Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
feature.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Note&#160;that&#160;this&#160;parameter&#160;just&#160;enables&#160;the&#160;availability&#160;<br/>of&#160;this&#160;feature in&#160;the&#160;code&#160;but&#160;the&#160;algorithm&#160;has&#160;to&#160;<br/>be&#160;additionally&#160;configured on&#160;each&#160;channel&#160;<br/>(parameter&#160;‘Immediate&#160;NM&#160;Transmissions’&#160;and&#160;<br/>‘Immediate Nm&#160;Cycle&#160;Time’,&#160;see&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;<br/>‘Channel&#160;Configuration’</a>).&#160;<br/>Refer&#160;to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#39">&#160;3.20&#160;‘Immediate&#160;Nm&#160;Transmissions’&#160;<br/></a>for&#160;feature&#160;details.&#160;<br/>
Active&#160;Wup&#160;Bit&#160;Feature&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;transmission&#160;of&#160;the&#160;active&#160;<br/>
Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
wake-up&#160;bit&#160;within the&#160;NM&#160;user&#160;data.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Note&#160;that&#160;this&#160;parameter&#160;just&#160;enables&#160;the&#160;availability&#160;<br/>of&#160;this&#160;feature in&#160;the&#160;code but&#160;the&#160;algorithm&#160;has&#160;to&#160;<br/>be&#160;additionally&#160;activated&#160;on&#160;each channel&#160;<br/>(parameter&#160;‘Active&#160;Wake-up&#160;Bit&#160;Enabled’,&#160;see&#160;<br/>chapter<a href="TechnicalReference_Asr_CanNms.html#90">&#160;6.3.2&#160;‘Channel&#160;Configuration’</a>).&#160;<br/>Refer&#160;to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#39">&#160;3.19&#160;‘Active&#160;Wake-up&#160;Handling’&#160;</a>for&#160;<br/>algorithm&#160;details.&#160;<br/>
&#160;&#160;CAN&#160;NM&#160;Extensions&#160;<br/>
Single Channel&#160;Optimizatio<a href="TechnicalReference_Asr_CanNms.html#85">n15&#160;&#160;</a><b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;optimization of&#160;the&#160;code in&#160;<br/>single channel&#160;pre-compile configurations.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Refer&#160;to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#18">&#160;3.1.2.2&#160;‘Single Channel&#160;<br/>Optimization’.</a>&#160;<br/>
Disable&#160;Transmission&#160;Error&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;deactivation of&#160;the&#160;<br/>
Reportin<a href="TechnicalReference_Asr_CanNms.html#85">g15&#160;</a><br/>
transmission&#160;error&#160;reporting.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
If&#160;activated&#160;the&#160;following&#160;errors&#160;are not&#160;reported:&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_E_DEV_NETWORK_TIMEOUT&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_E_NETWORK_TIMEOUT&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_E_CANIF_TRANSMIT_ERROR&#160;<br/>
Ext&#160;Remote&#160;Sleep Indicati<a href="TechnicalReference_Asr_CanNms.html#85">on15&#160;&#160;</a><b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;extended remote&#160;sleep&#160;<br/>indication.&#160;It&#160;can only&#160;be&#160;enabled&#160;if&#160;the ‘Remote&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Sleep Indication’&#160;is&#160;enabled.&#160;<br/>
Limp Home&#160;Indicati<a href="TechnicalReference_Asr_CanNms.html#85">on15,17</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;limp home indication.&#160;It&#160;can&#160;<br/>only&#160;be&#160;enabled&#160;if&#160;Passive Mode is disabled.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Com&#160;User&#160;Data&#160;Enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;feature&#160;‘NM&#160;User&#160;Data&#160;via&#160;<br/>Com’.&#160;It&#160;can&#160;only&#160;be&#160;enabled&#160;if&#160;Passive Mode is&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
disabled.&#160;Refer&#160;to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#34">&#160;3.15&#160;‘NM&#160;User&#160;Data&#160;via&#160;<br/>Com’&#160;</a>for&#160;more information.&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
17&#160;This&#160;configuration&#160;item&#160;is&#160;only&#160;relevant&#160;if&#160;the&#160;Limp Home Indication feature&#160;is&#160;available.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
88&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=89></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-89_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-89_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
Ext&#160;Bus Synchronizatio<a href="TechnicalReference_Asr_CanNms.html#85">n15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;feature&#160;‘Extended Bus&#160;<br/>Synchronization’.&#160;Refer&#160;to chapter<a href="TechnicalReference_Asr_CanNms.html#38">&#160;3.17&#160;‘Extended&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#38">Bus Synchronization’</a>&#160;for&#160;more&#160;information.&#160;<br/>
NM&#160;Gateway&#160;Extension&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;feature&#160;‘NM&#160;Gateway&#160;<br/>
Suppor<a href="TechnicalReference_Asr_CanNms.html#85">t15&#160;</a><br/>
Extension&#160;Support’.&#160;Refer&#160;to chapter<a href="TechnicalReference_Asr_CanNms.html#38">&#160;3.18&#160;‘Gateway&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#38">Extension&#160;Support’&#160;</a>for&#160;further&#160;information.&#160;<br/>
Diagnostic&#160;Gateway&#160;Extension&#160;&#160;<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;feature&#160;‘Diagnostic&#160;Gateway&#160;<br/>
Suppor<a href="TechnicalReference_Asr_CanNms.html#85">t15&#160;</a><br/>
Extension&#160;Support’.&#160;Refer&#160;to chapter<a href="TechnicalReference_Asr_CanNms.html#38">&#160;3.18&#160;‘Gateway&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#38">Extension&#160;Support’&#160;</a>for&#160;further&#160;information.&#160;<br/>
Dem2Det&#160;Enabl<a href="TechnicalReference_Asr_CanNms.html#85">ed15&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;feature&#160;‘Dem2Det&#160;Enabled’.&#160;<br/>Refer&#160;to&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#32">&#160;3.12&#160;‘Error&#160;Handling’&#160;</a>for&#160;further&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
information.&#160;<br/>
Adjust&#160;CanIf&#160;RangeConfig&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;the&#160;feature&#160;‘Adjust&#160;CanIf&#160;<br/>
DLCChe<a href="TechnicalReference_Asr_CanNms.html#85">ck15&#160;</a><br/>
RangeConfig&#160;DLCCheck’.&#160;Refer&#160;to chapter<a href="TechnicalReference_Asr_CanNms.html#28">&#160;3.5.5&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
<a href="TechnicalReference_Asr_CanNms.html#28">‘Support&#160;for&#160;RX&#160;PDUs&#160;with&#160;Different&#160;Lengths’</a>&#160;for&#160;<br/>further&#160;information.&#160;<br/>
Table&#160;6-2&#160;&#160;<br/>
Component&#160;Configuration&#160;CAN&#160;NM&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
89&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=90></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-90_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-90_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-90_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>6.3.2&#160;</b><br/>
<b>Channel&#160;Configuration&#160;</b><br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
90&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=91></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-91_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-91_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-91_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
Figure&#160;6-3&#160;<br/>
Channel&#160;Configuration&#160;CAN&#160;NM&#160;<br/>
<b>Configuration&#160;options&#160;</b><br/>
<b>Value&#160;</b><br/>
<b>Description&#160;</b><br/>
General&#160;Settings&#160;<br/>
Bus System&#160;Type&#160;<br/>
Read Only&#160;<br/>
Bus system&#160;type&#160;for&#160;the&#160;specific&#160;channel.&#160;<br/>
Manufacturer&#160;<br/>
Read Only&#160;<br/>
Manufacturer&#160;according&#160;to the&#160;database.&#160;<br/>
Miscellaneous&#160;<br/>
&#160;&#160;Network&#160;Settings&#160;<br/>
NM&#160;Message Count&#160;<br/>
1..256&#160;<br/>
Set&#160;the&#160;number&#160;of&#160;CAN&#160;Ids that&#160;are&#160;reserved&#160;for&#160;the&#160;<br/>network&#160;management&#160;only.&#160;This&#160;value&#160;determines&#160;<br/>the&#160;filter&#160;mask&#160;value&#160;of&#160;the NM&#160;range&#160;configuration.&#160;<br/>For&#160;a&#160;proper&#160;configuration&#160;this&#160;value&#160;must&#160;be&#160;a&#160;<br/>power&#160;of&#160;2.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
NM&#160;Base&#160;Address&#160;<br/>
0x0..0x1FFF<br/>
Set&#160;the&#160;base&#160;address&#160;of&#160;network&#160;management&#160;ID&#160;<br/>
FFFF&#160;<br/>
range.&#160;This&#160;value&#160;determines&#160;the&#160;range&#160;base&#160;<br/>address&#160;(code)&#160;value&#160;of&#160;the&#160;NM&#160;range&#160;<br/>configurations.&#160;For&#160;a&#160;proper&#160;configuration&#160;this&#160;value&#160;<br/>must&#160;be&#160;a&#160;multiple of&#160;the&#160;parameter’&#160;Nm&#160;Message&#160;<br/>Count’.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
Node Id&#160;<br/>
Read Only&#160;<br/>
Configure&#160;the&#160;source&#160;node&#160;identifier.&#160;This&#160;value&#160;is&#160;<br/>transmitted&#160;within the&#160;NM&#160;message.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Note&#160;that&#160;this&#160;setting&#160;may&#160;be&#160;invisible&#160;<br/>
&#160;&#160;in the&#160;channel&#160;settings&#160;if&#160;you&#160;have a&#160;<br/>
Multiple ECU&#160;configuration.&#160;The&#160;setting&#160;<br/>is&#160;visible instead in&#160;the&#160;identity&#160;specific&#160;<br/>channel&#160;settings&#160;(see&#160;also chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#94">6.3.2.1).</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;&#160;Integration&#160;<br/>
Main Function Period&#160;[ms]&#160;<br/>
1..255&#160;<br/>
Set&#160;the&#160;call&#160;cycle time&#160;value&#160;of&#160;the&#160;main&#160;function&#160;for&#160;<br/>the&#160;respective channel.&#160;The default&#160;value&#160;is&#160;10.&#160;<br/>
&#160;&#160;CAN&#160;Network&#160;Management&#160;Algorithm&#160;<br/>
Msg&#160;Cycle&#160;Time&#160;[ms]&#160;<br/>
1..65535&#160;<br/>
Set&#160;the&#160;cycle&#160;time of&#160;the&#160;NM&#160;message&#160;in the&#160;<br/>periodic&#160;transmission&#160;mode.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
Msg&#160;Timeout&#160;Time&#160;[ms]&#160;<br/>
1..65535&#160;<br/>
Set&#160;the&#160;transmission&#160;timeout&#160;time of&#160;NM&#160;message&#160;in&#160;<br/>ms.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
91&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=92></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-92_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-92_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-92_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-92_4.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
If&#160;there is&#160;no&#160;transmission&#160;confirmation&#160;by&#160;the&#160;CAN&#160;<br/>Interface&#160;within this&#160;timeout,&#160;the&#160;CAN&#160;NM&#160;module&#160;<br/>shall&#160;give an&#160;error&#160;notification.&#160;<br/>
Timeout&#160;Time&#160;[ms]&#160;<br/>
1..65535&#160;<br/>
Configure&#160;the&#160;timeout&#160;for&#160;the&#160;reception&#160;and&#160;<br/>transmission&#160;of&#160;Network&#160;Management&#160;Messages.&#160;<br/>If&#160;in Normal&#160;Operation&#160;State&#160;the&#160;network&#160;node&#160;does&#160;<br/>not&#160;require&#160;the&#160;bus&#160;anymore&#160;and&#160;no&#160;more&#160;NM&#160;<br/>messages&#160;are&#160;received&#160;a transition&#160;to&#160;'Prepare Bus-<br/>Sleep'&#160;is&#160;performed.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
Wait&#160;Bus&#160;Sleep&#160;Time&#160;[ms]&#160;<br/>
0..65535&#160;<br/>
Configure&#160;the&#160;timeout&#160;for&#160;bus&#160;calm&#160;down phase&#160;<br/>(Prepare&#160;Bus-Sleep Mode)&#160;in&#160;ms.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
Repeat&#160;Message&#160;Time&#160;[ms]&#160;<br/>
0..65535&#160;<br/>
Set&#160;the&#160;timeout&#160;for&#160;Repeat&#160;Message&#160;State in&#160;ms.&#160;<br/>The&#160;Repeat&#160;Message&#160;State&#160;is&#160;entered&#160;when&#160;<br/>entering&#160;Network&#160;Mode and also used&#160;for&#160;the&#160;’Node&#160;<br/>Detection’&#160;(refer&#160;to&#160;chapter&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#29">&#160;3.6&#160;‘Node&#160;<br/>Detection’&#160;</a>for&#160;further&#160;information).&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
Msg&#160;Cycle Offset&#160;[ms]&#160;<br/>
0..65535&#160;<br/>
Configure&#160;the&#160;message&#160;transmission&#160;offset&#160;time&#160;in&#160;<br/>the&#160;periodic&#160;transmission&#160;mode&#160;(start&#160;delay).&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Note&#160;that&#160;this&#160;setting&#160;may&#160;be&#160;invisible&#160;<br/>
&#160;&#160;in the&#160;channel&#160;settings&#160;if&#160;you&#160;have&#160;a&#160;<br/>
Multiple ECU&#160;configuration.&#160;The&#160;setting&#160;<br/>is&#160;visible instead in&#160;the&#160;identity&#160;specific&#160;<br/>channel&#160;settings&#160;(see&#160;also chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#94">6.3.2.1).</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;&#160;NM&#160;Options&#160;<br/>
Channel&#160;Active&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;a NM&#160;channel.&#160;If&#160;deactivated&#160;the&#160;<br/>channel&#160;will&#160;be&#160;set&#160;to&#160;Uninitialized.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
&#160;&#160;&#160;&#160;Nm&#160;Message&#160;Structure&#160;<br/>
Pdu&#160;Length&#160;<br/>
0..8&#160;<br/>
Configure&#160;the&#160;length&#160;of&#160;the&#160;NM&#160;message.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The&#160;PDU&#160;Length&#160;should&#160;be&#160;configured&#160;<br/>
<b>&#160;&#160;</b>equally&#160;in all&#160;nodes&#160;within the&#160;same&#160;<br/>
network&#160;(channel).&#160;Background:&#160;The&#160;<br/>CAN&#160;NM&#160;expects&#160;this&#160;length&#160;for&#160;all&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
92&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=93></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-93_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-93_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-93_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
received&#160;messages&#160;unless the&#160;support&#160;<br/>for&#160;RX&#160;PDUs&#160;with different&#160;lengths&#160;is&#160;<br/>active (see&#160;chapter<a href="TechnicalReference_Asr_CanNms.html#28">&#160;3.5.5&#160;‘Support&#160;for&#160;RX&#160;<br/>PDUs&#160;with&#160;Different&#160;Lengths’</a>&#160;for&#160;further&#160;<br/>details).&#160;If&#160;the&#160;support&#160;for&#160;RX&#160;PDUs&#160;with&#160;<br/>different&#160;lengths&#160;is&#160;not&#160;used,&#160;the&#160;range&#160;<br/>filter&#160;in&#160;the&#160;CAN&#160;Interface is configured&#160;<br/>adequately&#160;and NM&#160;messages&#160;with a&#160;<br/>smaller&#160;size will&#160;not&#160;be&#160;received.&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
Pdu&#160;Nid&#160;Position&#160;<br/>
<b>&gt;&#160;&#160;</b>Byte 0&#160;<br/>
Set&#160;the&#160;position&#160;of&#160;the&#160;node&#160;identifier&#160;in the&#160;NM&#160;<br/>message.&#160;This&#160;parameter&#160;depends&#160;on&#160;‘PDU&#160;Length’&#160;<br/>
<b>&gt;&#160;&#160;</b>Byte 1&#160;<br/>
and ‘PDU&#160;Control&#160;Bit&#160;Vector&#160;Position’.&#160;<br/>
<b>&gt;&#160;&#160;</b>Off&#160;<br/>
Pdu&#160;Cbv&#160;Position&#160;<br/>
<b>&gt;&#160;&#160;</b>Byte 0&#160;<br/>
Set&#160;the&#160;position&#160;of&#160;the&#160;control&#160;bit&#160;vector&#160;in&#160;the&#160;NM&#160;<br/>message.&#160;This&#160;parameter&#160;depends&#160;on&#160;‘PDU&#160;Length’&#160;<br/>
<b>&gt;&#160;&#160;</b>Byte 1&#160;<br/>
and ‘PDU&#160;Node Identifier&#160;Position’.&#160;<br/>
<b>&gt;&#160;&#160;</b>Off&#160;<br/>
User&#160;Data&#160;Length&#160;<br/>
Read Only&#160;<br/>
This&#160;parameter&#160;provides&#160;information&#160;about&#160;the&#160;<br/>current&#160;user&#160;data&#160;length.&#160;It&#160;is&#160;determined by&#160;the&#160;<br/>settings&#160;of&#160;‘PDU&#160;Length’,&#160;‘PDU&#160;Node Identifier&#160;<br/>Position’&#160;and ‘PDU&#160;Control&#160;Bit&#160;Vector&#160;Position’.&#160;<br/>
&#160;&#160;&#160;&#160;Remote&#160;Sleep Indication&#160;<br/>
Remote&#160;Sleep&#160;Ind&#160;Time&#160;[ms]&#160;<br/>
1..65535&#160;<br/>
Configure&#160;timeout&#160;for&#160;Remote&#160;Sleep Indication.&#160;<br/>
&#160;&#160;&#160;&#160;Bus Load&#160;Reduction&#160;<br/>
Msg&#160;Reduced&#160;Time&#160;[ms]&#160;<br/>
1..65535&#160;<br/>
Node specific&#160;reduced bus cycle time&#160;[ms]&#160;in&#160;the&#160;<br/>periodic&#160;transmission&#160;mode&#160;with bus&#160;load reduction.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Note&#160;<br/></b>Note&#160;that&#160;this&#160;setting&#160;may&#160;be&#160;invisible&#160;<br/>
&#160;&#160;in the&#160;channel&#160;settings&#160;if&#160;you&#160;have a&#160;<br/>
Multiple ECU&#160;configuration.&#160;The&#160;setting&#160;<br/>is&#160;visible instead in&#160;the&#160;identity&#160;specific&#160;<br/>channel&#160;settings&#160;(see&#160;also chapter&#160;<br/><a href="TechnicalReference_Asr_CanNms.html#94">6.3.2.1).</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Bus Load&#160;Reduction&#160;Active&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/Deactivate&#160;bus&#160;load reduction&#160;usage&#160;for&#160;<br/>this&#160;channel.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
This&#160;option&#160;is&#160;not&#160;configurable if&#160;‘Bus&#160;Load&#160;<br/>Reduction’&#160;is&#160;disabled.&#160;<br/>
&#160;&#160;&#160;&#160;Car&#160;Wake Up&#160;<br/>
Car&#160;Wake Up&#160;Rx&#160;Enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/deactivate&#160;the&#160;Car&#160;Wake-up handling&#160;for&#160;<br/>this&#160;channel.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;&#160;<br/>
Car&#160;Wake Up&#160;Byte Position&#160;<br/>
0..7&#160;<br/>
Set&#160;the&#160;Car&#160;Wake-up&#160;byte&#160;position&#160;within the&#160;NM&#160;<br/>user&#160;data.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
93&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=94></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-94_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-94_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
Car&#160;Wake Up&#160;Bit&#160;Position&#160;<br/>
0..7&#160;<br/>
Set&#160;the&#160;Car&#160;Wake-up&#160;bit&#160;position&#160;within the&#160;‘Car&#160;<br/>Wake&#160;Up Byte’.&#160;<br/>
Car&#160;Wake Up&#160;Filter&#160;Enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/deactivate&#160;the&#160;Car&#160;Wake-up Node&#160;ID&#160;<br/>filtering&#160;for&#160;this&#160;channel.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;&#160;<br/>
Car&#160;Wake Up&#160;Filter&#160;Node ID&#160;<br/>
0..255&#160;<br/>
Configure&#160;the&#160;Car&#160;Wake-up&#160;Node ID&#160;for&#160;this&#160;<br/>channel.&#160;<br/>
&#160;&#160;&#160;&#160;Active&#160;Wake Up&#160;<br/>
Immediate&#160;Nm&#160;Transmissions&#160;<br/>
0..255&#160;<br/>
Configure&#160;the&#160;number&#160;of&#160;NM&#160;messages&#160;which shall&#160;<br/>be&#160;transmitted&#160;with the&#160;Immediate&#160;Nm&#160;Cycle&#160;Time&#160;<br/>upon&#160;Active&#160;Wake-up.&#160;<br/>If&#160;zero&#160;is&#160;configured&#160;the&#160;normal&#160;transmission&#160;<br/>handling&#160;is&#160;performed.&#160;<br/>
Immediate&#160;Nm&#160;Cycle&#160;Time&#160;<br/>
1..65535&#160;<br/>
Configure&#160;the&#160;NM&#160;message&#160;cycle time&#160;which shall&#160;<br/>
[ms]&#160;<br/>
be&#160;used upon&#160;Active&#160;Wake-up.&#160;<br/>
Active&#160;Wake Up&#160;Bit&#160;Enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/deactivate&#160;the&#160;setting&#160;of&#160;the&#160;active&#160;wake-up&#160;<br/>bit&#160;within the&#160;NM&#160;user&#160;data&#160;for&#160;this&#160;channel.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
&#160;&#160;&#160;&#160;Partial&#160;Networking&#160;<br/>
Pn Enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/deactivate&#160;the&#160;Partial&#160;Networking&#160;algorithm&#160;<br/>for&#160;this&#160;channel.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Pn&#160;Era Calc&#160;Enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/deactivate&#160;the&#160;Partial&#160;Networking&#160;ERA&#160;<br/>algorithm&#160;for&#160;this&#160;channel.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Pn&#160;Era Rx&#160;N-Sdu&#160;Ref&#160;<br/>
Combo&#160;Box&#160;<br/>
Select&#160;the&#160;name of&#160;the&#160;Com&#160;PDU&#160;where&#160;the&#160;PN&#160;<br/>information&#160;of&#160;the&#160;ERA&#160;algorithm&#160;is&#160;provided.&#160;<br/>
All&#160;Nm&#160;Messages Keep&#160;Awake&#160;&#160;<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
Activate/deactivate&#160;that&#160;all&#160;NM&#160;messages&#160;keep&#160;the&#160;<br/>channel&#160;awake.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
Pn Handle Multiple Network&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;<br/>
This&#160;parameter&#160;enables/disables the&#160;behavior&#160;<br/>
Requests&#160;<br/>
whether&#160;CanNm_NetworkRequest&#160;calls&#160;have an&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;<br/>
effect&#160;in Network&#160;Mode.&#160;If&#160;disabled&#160;<br/>CanNm_NetworkRequest&#160;is&#160;ignored&#160;in Network&#160;<br/>Mode.&#160;If&#160;enabled&#160;CanNm_NetworkRequest&#160;triggers&#160;<br/>a change&#160;from&#160;Network&#160;Mode&#160;to Repeat&#160;Message.&#160;<br/>
&#160;&#160;CAN&#160;NM&#160;Extensions&#160;<br/>
NM&#160;User&#160;Data&#160;I-PDU&#160;<br/>
Read Only&#160;<br/>
Name&#160;of&#160;the&#160;Com&#160;PDU&#160;where the&#160;NM&#160;user&#160;data&#160;can&#160;<br/>be&#160;set&#160;if&#160;feature&#160;‘Com&#160;User&#160;Data&#160;Enabled’&#160;is&#160;<br/>enabled.&#160;<br/>This&#160;parameter&#160;must&#160;be&#160;part&#160;of&#160;the&#160;database.&#160;It&#160;<br/>cannot&#160;be&#160;configured&#160;manually.&#160;<br/>
Table&#160;6-3&#160;&#160;<br/>
Channel&#160;Configuration&#160;CAN&#160;NM&#160;<br/>
<b>6.3.2.1&#160;</b><br/>
<b>Identity&#160;Specific&#160;Channel&#160;Configuration&#160;</b><br/>
If&#160;&#160;a&#160;&#160;Multiple&#160;&#160;ECU&#160;&#160;Configuration&#160;&#160;(see&#160;&#160;also&#160;&#160;chapte<a href="TechnicalReference_Asr_CanNms.html#33">r&#160;&#160;3.13)&#160;&#160;</a>is&#160;&#160;opened&#160;&#160;in&#160;&#160;GENy,&#160;&#160;the&#160;&#160;settings&#160;<br/>provided&#160;in&#160;the&#160;following&#160;figure&#160;and<a href="TechnicalReference_Asr_CanNms.html#95">&#160;Table&#160;6-4&#160;</a>may&#160;be&#160;configured&#160;for&#160;each&#160;identity.&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
94&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=95></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-95_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-95_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-95_3.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;6-4&#160;<br/>
Identity-Specific&#160;Channel&#160;Configuration&#160;CAN&#160;NM&#160;<br/>
<b>Configuration&#160;options&#160;</b><br/>
<b>Value&#160;</b><br/>
<b>Description&#160;</b><br/>
Miscellaneous&#160;<br/>
&#160;&#160;Network&#160;Settings&#160;<br/>
Node Id&#160;<br/>
Read Only&#160;<br/>
Configure&#160;the&#160;source&#160;node&#160;identifier.&#160;This&#160;value&#160;is&#160;<br/>transmitted&#160;within the&#160;NM&#160;message.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
&#160;&#160;CAN&#160;Network&#160;Management&#160;Algorithm&#160;<br/>
Msg&#160;Cycle&#160;Offset&#160;[ms]&#160;<br/>
0..65535&#160;<br/>
Configure&#160;the&#160;message&#160;transmission&#160;offset&#160;time&#160;in&#160;<br/>the&#160;periodic&#160;transmission&#160;mode&#160;(start&#160;delay).&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
&#160;&#160;&#160;&#160;Bus Load&#160;Reduction&#160;<br/>
Msg&#160;Reduced&#160;Time&#160;[ms]&#160;<br/>
1..65535&#160;<br/>
Node&#160;specific&#160;reduced bus cycle time&#160;[ms]&#160;in&#160;the&#160;<br/>periodic&#160;transmission&#160;mode&#160;with bus&#160;load reduction.&#160;<br/>Value&#160;is&#160;set&#160;automatically&#160;and&#160;is&#160;read-only&#160;if&#160;<br/>provided by&#160;the&#160;database.&#160;<br/>
Table&#160;6-4&#160;&#160;<br/>
Identity-Specific&#160;Channel&#160;Configuration&#160;CAN&#160;NM&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
95&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=96></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-96_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-96_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>6.3.3&#160;</b><br/>
<b>Timing Restrictions&#160;</b><br/>
The&#160;&#160;following&#160;&#160;table&#160;&#160;contains&#160;&#160;timing&#160;&#160;constraints&#160;&#160;that&#160;&#160;are&#160;&#160;recommended&#160;&#160;to&#160;&#160;ensure&#160;&#160;that&#160;&#160;the&#160;<br/>corresponding&#160;algorithms&#160;will&#160;work correctly:&#160;<br/>
<b>Timing&#160;Parameter&#160;</b><br/>
<b>Restrictions&#160;</b><br/>
Msg&#160;Cycle&#160;Offset&#160;<br/>
&lt;&#160;Msg&#160;Cycle&#160;Time&#160;<br/>
Msg&#160;Timeout&#160;Time&#160;<br/>
&lt;&#160;Msg&#160;Cycle&#160;Time&#160;<br/>&lt;&#160;Msg&#160;Reduced&#160;Time&#160;if&#160;Bus Load&#160;Reduction&#160;Active is enabled&#160;<br/>
Timeout&#160;Time&#160;<br/>
&gt;&gt;&#160;Msg&#160;Cycle&#160;Time&#160;<br/>
Repeat&#160;Message&#160;Time&#160;<br/>
=&#160;0&#160;if&#160;Passive Mode&#160;Enabled&#160;is&#160;enabled&#160;<br/>
Msg&#160;Reduced&#160;Time&#160;<br/>
&gt;=&#160;(&#160;Msg&#160;Cycle&#160;Time&#160;/&#160;2&#160;)&#160;<br/>&lt;&#160;Msg&#160;Cycle&#160;Time&#160;<br/>
Remote&#160;Sleep&#160;Indication&#160;Time&#160;<br/>
&gt;&#160;NM&#160;Message Cycle&#160;Time&#160;<br/>
Pn Reset&#160;Time&#160;<br/>
&gt;&#160;Msg&#160;Cycle&#160;Time&#160;<br/>&lt;&#160;Timeout&#160;Time&#160;<br/>
Table&#160;6-5&#160;&#160;<br/>
CAN&#160;NM&#160;Timing&#160;Restrictions&#160;<br/>
Note&#160;that&#160;all&#160;timers should&#160;be&#160;integer&#160;multiples of&#160;the&#160;‘Main&#160;Function&#160;Period’.&#160;<br/>
<b>6.3.4&#160;</b><br/>
<b>NM&#160;Message&#160;Structure&#160;Configuration Notes&#160;</b><br/>
It&#160;&#160;is&#160;&#160;possible&#160;&#160;to&#160;&#160;enable&#160;&#160;user&#160;&#160;data,&#160;&#160;source&#160;&#160;node&#160;&#160;identifier&#160;&#160;and&#160;&#160;control&#160;&#160;bit&#160;&#160;vector&#160;&#160;within&#160;&#160;the&#160;<br/>message&#160;layout&#160;(channel&#160;configuration)&#160;without&#160;having&#160;the&#160;corresponding&#160;feature&#160;enabled&#160;<br/>in&#160;&#160;the&#160;component&#160;&#160;configuration.&#160;&#160;In&#160;such&#160;case&#160;no&#160;API&#160;is&#160;available&#160;&#160;to&#160;write&#160;or&#160;read&#160;the&#160;NM&#160;<br/>message&#160;bytes&#160;and&#160;the&#160;default&#160;values&#160;will&#160;be&#160;transmitted&#160;(0x00&#160;for&#160;source&#160;node&#160;identifier&#160;<br/>and&#160;control&#160;bit vector,&#160;0xFF for user data&#160;bytes).&#160;<br/>
&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
96&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=97></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-97_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-97_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>7&#160;&#160;Glossary&#160;and&#160;Abbreviations&#160;</b><br/>
Also&#160;refer to&#160;[8]&#160;for a&#160;list&#160;of&#160;common&#160;abbreviations and&#160;terms.&#160;<br/>
<b>7.1&#160;</b><br/>
<b>Glossary&#160;</b><br/>
<b>Term&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Confirmation&#160;</b><br/>
Notification by&#160;the&#160;data&#160;link layer&#160;on&#160;asynchronous&#160;successful&#160;<br/>transmission&#160;of&#160;a&#160;CAN&#160;message&#160;<br/>
<b>Identifier&#160;</b><br/>
Identifies&#160;a CAN&#160;message&#160;<br/>
<b>Indication&#160;</b><br/>
Notification by&#160;the&#160;data&#160;link layer&#160;on&#160;asynchronous&#160;reception&#160;of&#160;a&#160;CAN&#160;<br/>message&#160;<br/>
<b>Message&#160;</b><br/>
One&#160;or&#160;more&#160;signals&#160;are&#160;assigned&#160;to&#160;each&#160;message.&#160;<br/>
<b>Signal&#160;</b><br/>
Signals&#160;describe&#160;the&#160;significance&#160;of&#160;the&#160;individual&#160;data&#160;segments&#160;within&#160;a&#160;<br/>message.&#160;Typically&#160;&#160;bits,&#160;&#160;bytes&#160;&#160;or&#160;&#160;words&#160;&#160;are&#160;&#160;used&#160;&#160;for&#160;&#160;data&#160;&#160;segments&#160;&#160;but&#160;<br/>individual&#160;bit&#160;combinations&#160;are&#160;also&#160;possible.&#160;In&#160;the&#160;CAN&#160;database,&#160;each&#160;<br/>data&#160;segment&#160;is&#160;assigned&#160;a&#160;symbolic&#160;name,&#160;a&#160;value&#160;range,&#160;a&#160;conversion&#160;<br/>formula and a&#160;physical&#160;unit,&#160;as&#160;well&#160;as a&#160;list&#160;of&#160;receiving&#160;nodes.&#160;<br/>
Table&#160;7-1&#160;&#160;<br/>
Glossary&#160;<br/>
&#160;<br/>
<b>7.2&#160;</b><br/>
<b>Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>API&#160;</b><br/>
<b>A</b>pplication&#160;<b>P</b>rogramming&#160;<b>I</b>nterface<b>&#160;</b><br/>
<b>AUTOSAR&#160;</b><br/>
<b>Aut</b>omotive&#160;<b>O</b>pen&#160;<b>S</b>ystem&#160;<b>Ar</b>chitecture&#160;<br/>
<b>CAN&#160;</b><br/>
<b>C</b>ontroller&#160;<b>A</b>rea&#160;<b>N</b>etwork&#160;<br/>
<b>CCL&#160;</b><br/>
<b>C</b>ommunication&#160;<b>C</b>ontrol&#160;<b>L</b>ayer&#160;<br/>
<b>ComM&#160;</b><br/>
<b>C</b>ommunication&#160;<b>M</b>anager&#160;<br/>
<b>CRI&#160;</b><br/>
Partial&#160;Network&#160;<b>C</b>luster&#160;<b>R</b>equest&#160;<b>I</b>nformation&#160;<br/>
<b>DET&#160;</b><br/>
<b>D</b>evelopment&#160;<b>E</b>rror&#160;<b>T</b>racer&#160;<br/>
<b>DEM&#160;</b><br/>
<b>D</b>iagnostic&#160;<b>E</b>vent&#160;<b>M</b>anager&#160;<br/>
<b>DLC&#160;</b><br/>
<b>D</b>ata&#160;<b>L</b>ength&#160;<b>C</b>ode&#160;(Number&#160;of&#160;data bytes&#160;of&#160;a CAN&#160;message)&#160;<br/>
<b>DLL&#160;</b><br/>
<b>D</b>ata&#160;<b>l</b>ink&#160;<b>l</b>ayer&#160;<br/>
<b>ECU&#160;</b><br/>
<b>E</b>lectronic&#160;<b>C</b>ontrol&#160;<b>U</b>nit&#160;<br/>
<b>EIRA&#160;</b><br/>
<b>E</b>xternal&#160;<b>I</b>nternal&#160;<b>R</b>equests&#160;<b>A</b>ggregated&#160;<br/>
<b>ERA&#160;</b><br/>
<b>E</b>xternal&#160;<b>R</b>equests&#160;<b>A</b>ggregated&#160;<br/>
<b>ID&#160;</b><br/>
<b>Id</b>entifier&#160;(of&#160;a&#160;CAN&#160;message)&#160;<br/>
<b>IL&#160;</b><br/>
<b>I</b>nteraction&#160;<b>L</b>ayer&#160;<br/>
<b>ISR&#160;</b><br/>
<b>I</b>nterrupt&#160;<b>S</b>ervice&#160;<b>R</b>outine&#160;<br/>
<b>KL15&#160;</b><br/>
<b>Kl</b>emme&#160;<b>15&#160;(German)&#160;–&#160;Clamp&#160;15:&#160;Ignition&#160;On/Off</b>&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
97&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=98></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-98_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-98_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>KL30&#160;</b><br/>
<b>Kl</b>emme&#160;<b>30&#160;(German)&#160;–&#160;Clamp&#160;30:&#160;Battery&#160;voltage</b>&#160;<br/>
<b>KL31&#160;</b><br/>
<b>Kl</b>emme&#160;<b>31&#160;(German)&#160;–&#160;Clamp 31:&#160;Ground&#160;(GND)</b>&#160;<br/>
<b>MISRA&#160;</b><br/>
<b>M</b>otor&#160;<b>I</b>ndustry&#160;<b>S</b>oftware&#160;<b>R</b>eliability&#160;<b>A</b>ssociation&#160;<br/>
<b>NM&#160;</b><br/>
<b>N</b>etwork&#160;<b>M</b>anagement&#160;&#160;<br/>
<b>PDU&#160;</b><br/>
<b>P</b>rotocol<b>&#160;D</b>ata<b>&#160;U</b>nit<b>&#160;</b><br/>
<b>PN&#160;</b><br/>
<b>P</b>artial&#160;<b>N</b>etwork&#160;/&#160;<b>P</b>artial&#160;<b>N</b>etworking&#160;<br/>
<b>RAM&#160;</b><br/>
<b>R</b>andom&#160;<b>A</b>ccess&#160;<b>M</b>emory&#160;<br/>
<b>RI&#160;</b><br/>
<b>R</b>eference&#160;<b>I</b>mplementation&#160;<br/>(Reference&#160;Implementation&#160;of&#160;the&#160;CAN-Driver&#160;High&#160;Level&#160;part)&#160;<br/>
<b>ROM&#160;</b><br/>
<b>R</b>ead&#160;<b>O</b>nly&#160;<b>M</b>emory&#160;<br/>
<b>SchM&#160;</b><br/>
<b>Sch</b>edule&#160;<b>M</b>anager&#160;(BSW&#160;Scheduler)&#160;<br/>
Table&#160;7-2&#160;&#160;<br/>
Abbreviations&#160;<br/>
&#160;<br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
98&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name=99></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-99_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_CanNm-99_2.png"/><br/>
Technical Reference&#160;MICROSAR CAN Network Management&#160;&#160;<br/>
&#160;<br/>
<b>8&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>&#160;<br/>&gt;&#160; &#160;News&#160;<br/>&gt;&#160; &#160;Products&#160;<br/>&gt;&#160; &#160;Demo&#160;software&#160;<br/>&gt;&#160; &#160;Support&#160;<br/>&gt;&#160; &#160;Training&#160;data&#160;<br/>&gt;&#160; &#160;Addresses&#160;<br/>&#160;<br/><b>www.vector.com&#160;</b><br/>
2013,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;4.18.00&#160;<br/>
99&#160;/&#160;99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.4&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#12">1 Component History</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#13">2 Introduction</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#13">2.1 Naming Conventions</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#13">2.2 Architecture Overview</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#13">2.2.1 Architecture of AUTOSAR Software</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#14">2.2.2 Architecture of AUTOSAR Network Management</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#16">3 Functional Description</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#16">3.1 Overview of the Functional Scope</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#16">3.1.1 Deviations Against AUTOSAR 3.2.2</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#16">3.1.1.1 Initialization</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.2 PDU ID Used as Argument for CanNm_TxConfirmation</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.3 Dependencies between Configuration Parameters</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.4 Coordinator Synchronization Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.5 NM User Data via Com</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.6 Active Wake-up Bit Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#17">3.1.1.7 Redundant BSWMD Parameters</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#18">3.1.1.8 Unsupported Features</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#18">3.1.2 Additions/ Extensions</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.1 Link-Time Support for Channels</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.2 Single Channel Optimization</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.3 Memory Initialization</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.4 Error Reporting to Diagnostic Event Manager</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#18">3.1.2.5 Disable Transmission Error Reporting</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.6 Limp Home Indication</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.7 Extended Remote Sleep Indication</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.8 Multiple ECU Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.9 QNX Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.10 Extended Bus Synchronization</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.11 Gateway Extension Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.12 Dem2Det Enabled</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.13 Message Reception with Different PDU Lengths</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#19">3.1.2.14 Deactivation of Partial Networking during Run-Time</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#20">3.1.2.15 Features Provided Beyond the AUTOSAR Standard</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#20">3.1.3 Limitations</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#20">3.1.3.1 Ranges of Timers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#21">3.2 Network Management Mechanism</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#22">3.3 Passive Mode</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#22">3.4 Operation Modes and States</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#23">3.4.1 Network Mode</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#24">3.4.1.1 Repeat Message State</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#24">3.4.1.2 Normal Operation State</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#24">3.4.1.3 Ready Sleep State</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#24">3.4.2 Prepare Bus-Sleep Mode</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#25">3.4.3 Bus-Sleep Mode</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#25">3.4.4 Wake-up Registration</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#26">3.4.5 User Data Handling</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#26">3.5 Network Management Message Transmission and Reception</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#26">3.5.1 AUTOSAR CAN Interface</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#26">3.5.2 PDU Message Layout</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#27">3.5.3 Message Transmissions</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#28">3.5.4 Bus Load Reduction</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#28">3.5.5 Support for RX PDUs with Different Lengths</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#29">3.6 Node Detection</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#29">3.7 NM PDU Receive Indication</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#29">3.8 Communication Control</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#30">3.9 Gateway Functionality</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#30">3.9.1 Remote Sleep Indication and Cancellation</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#30">3.9.2 Extended Remote Sleep Indication and Cancellation</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#30">3.9.3 Bus Synchronization</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#30">3.10 Limp Home Indication and Cancellation</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#31">3.11 Coordinator Synchronization Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#32">3.12 Error Handling</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#32">3.12.1 Development Error Detection</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#32">3.12.1.1 Det_ReportError</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#32">3.12.1.2 Error Codes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#32">3.12.2 Diagnostic Event Manager</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#33">3.12.2.1 Dem_ReportErrorStatus</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#33">3.12.2.2 Error Codes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#33">3.13 Multiple ECU Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#34">3.14 Multiple Configuration Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#34">3.15 NM User Data via Com</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#35">3.15.1 Configuration Preconditions in an AUTOSAR ECU Configuration</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#37">3.15.1.1 Caveats for Multiple ECU Support</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#37">3.15.2 Configuration Preconditions in a DBC Based Configuration</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#37">3.16 QNX Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#38">3.17 Extended Bus Synchronization</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#38">3.18 Gateway Extension Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#39">3.19 Active Wake-up Handling</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#39">3.20 Immediate Nm Transmissions</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#40">3.21 Immediate Restart Enabled</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#41">3.22 Car Wake-up</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#41">3.22.1 Rx-Path</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#41">3.22.2 Tx-Path</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#42">3.23 Partial Networking</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#42">3.23.1 Availability of Partial Network Request Information</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#42">3.23.2 Transmission of the CRI Bit in the NM User Data</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#42">3.23.3 Filter Algorithm for Received NM Messages</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#43">3.23.4 Aggregation of Requested Partial Networks</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#43">3.23.5 Spontaneous Sending of NM Messages</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#44">3.23.5.1 Using Com Transmission on Change Mechanism</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#44">3.23.5.2 Using NM Request and Immediate Nm Transmission</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#44">3.23.6 Deactivation of Partial Networking during Run-Time</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#44">3.24 Usage of PduInfoType</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#45">4 Integration</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#45">4.1 Files</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#46">4.2 Include Structure</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#46">4.3 Version Changes</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#46">4.4 Initialization</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#47">4.5 Main Functions</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#48">4.6 Critical Sections</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#48">4.7 Critical Section Codes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#50">5 API Description</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#50">5.1 API Categories</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#50">5.2 Data Types</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#50">5.3 Global Variables</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#50">5.4 Global Constants</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#50">5.4.1 AUTOSAR Specification Version</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#51">5.4.2 Component Versions</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#51">5.4.3 Vendor and Module ID</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#52">5.5 Services Provided by CAN NM</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#52">5.5.1 Administrative Functions</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#52">5.5.1.1 CanNm_Init: Initialization of CAN NM</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#53">5.5.1.2 CanNm_MainFunction: Channel Specific Main Functions of CAN NM</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#54">5.5.2 Service Functions of CAN NM</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#54">5.5.2.1 CanNm_GetVersionInfo: Version Information API</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#55">5.5.2.2 CanNm_GetState: Get the State of the Network Management</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#56">5.5.2.3 CanNm_PassiveStartUp: Wake up Network Management</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#57">5.5.2.4 Wake-up Registration</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#57">5.5.2.4.1 CanNm_NetworkRequest: Request the Network</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#58">5.5.2.4.2 CanNm_NetworkRelease: Release the Network</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#59">5.5.2.5 Communication Control Service</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#59">5.5.2.5.1 CanNm_DisableCommunication: Disable NM Message Transmission</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#60">5.5.2.5.2 CanNm_EnableCommunication: Enable NM Message Transmission</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#61">5.5.2.6 User Data Handling</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#61">5.5.2.6.1 CanNm_SetUserData: Set User Data</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#62">5.5.2.6.2 CanNm_GetUserData: Get User Data</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#63">5.5.2.6.3 CanNm_GetPduData: Get NM Pdu Data</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#64">5.5.2.7 Node Detection</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#64">5.5.2.7.1 CanNm_RepeatMessageRequest: Set Repeat Message Request Bit</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#65">5.5.2.7.2 CanNm_GetNodeIdentifier: Get Source Node Identifier</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#66">5.5.2.7.3 CanNm_GetLocalNodeIdentifier: Get Local Source Node Identifier</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#67">5.5.2.8 Bus Synchronization</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#67">5.5.2.8.1 CanNm_RequestBusSynchronization: Synchronization of Networks</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#68">5.5.2.9 Remote Sleep Indication</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#68">5.5.2.9.1 CanNm_CheckRemoteSleepIndication: Check for Remote Sleep Indication</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#69">5.5.2.10 NM Message Transmission Request</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#69">5.5.2.10.1 CanNm_Transmit: Spontaneous NM Message Transmission</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#70">5.5.2.11 Partial Networking</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#70">5.5.2.11.1 CanNm_ConfirmPnAvailability: Notification for activating the PN filter functionality</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#71">5.5.3 Vector extensions</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#71">5.5.3.1 CanNm_InitMemory: Memory Initialization</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#72">5.5.3.2 CanNm_SetCoordBits: Set Coordination Bits in the CBV</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#73">5.5.3.3 CanNm_CheckLimpHomeIndication: Check the Limp Home Status</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#74">5.5.3.4 CanNm_SetDiagGwReqId: Diagnostic Gateway ID Request</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#74">5.5.3.5 CanNm_DisablePNActivationState: Disable Partial Networking</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#75">5.6 Services Used by CAN NM</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#75">5.7 Callbacks Provided by CAN NM</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#75">5.7.1 Callback Functions from CAN Interface</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#75">5.7.1.1 CanNm_RxIndication: NM Message Indication</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#77">5.7.1.2 CanNm_TxConfirmation: NM Message Confirmation Function</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#77">5.8 Callback Functions used by CAN NM</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#77">5.8.1 Service Callback Functions of CAN NM</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#78">5.8.2 Additional Service Callback Functions of CAN NM</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#78">5.8.2.1 Callbacks for Limp Home Indication</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#78">5.8.2.2 Callbacks for Coordination Extension</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#78">5.8.2.3 Callbacks for Gateway Extension Support</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#78">5.8.2.4 Callbacks for Partial Networking</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#79">5.8.2.5 Generator Compatibility Error</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#80">6 Configuration</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#80">6.1 Configuration Variants</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#80">6.2 Configuration in Data Base</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#82">6.3 Configuration with GENy</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#84">6.3.1 Component Configuration</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#90">6.3.2 Channel Configuration</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#94">6.3.2.1 Identity Specific Channel Configuration</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#96">6.3.3 Timing Restrictions</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#96">6.3.4 NM Message Structure Configuration Notes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#97">7 Glossary and Abbreviations</a>
<ul>
<li><a href="TechnicalReference_Asr_CanNms.html#97">7.1 Glossary</a></li>
<li><a href="TechnicalReference_Asr_CanNms.html#97">7.2 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_CanNms.html#99">8 Contact</a></li>
</ul>
<hr/>
</body>
</html>
