---
title: TechnicalReference_Asr_Dems
linkTitle: TechnicalReference_Asr_Dems
weight: 55
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-1_1.png"/><br/>
&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/><b>MICROSAR Diagnostic Event Manager&#160;<br/>(DEM)&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>Vector&#160;<br/>Version 2.2.0&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
P. Speidel,&#160;A. Ditte, S. Hübner&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-2_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>1&#160;&#160;Document Information&#160;</b><br/>
<b>1.1&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
P. Stöhr&#160;<br/>
2008-04-08&#160;<br/>
1.0&#160;<br/>
Created for OEM “Vector” base of&#160;<br/>TechnicalReference_DEM_&lt;OEM&gt;.doc&#160;<br/>
P. Stöhr&#160;<br/>
2008-06-18&#160;<br/>
1.0.1&#160;<br/>
Updated to&#160;AUTOSAR&#160;Release 3&#160;<br/>
P. Stöhr&#160;<br/>
2008-06-19&#160;<br/>
1.0.2&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#3">Added reference&#160;<i>[8]</i>&#160;</a><br/>
P. Stöhr&#160;<br/>
2008-06-27&#160;<br/>
1.0.3&#160;<br/>
Modified description of&#160;configuration &#160;<br/>
P. Stöhr&#160;<br/>
2009-01-08&#160;<br/>
2.0.10&#160;<br/>
Modified include structure, added chapter NvRAM&#160;<br/>Demand, added FreezeFrame descriptions, updated&#160;<br/>description&#160;of configuration, added description&#160;of&#160;<br/>scheduling&#160;DEM&#160;and&#160;DCM&#160;<br/>
P. Stöhr&#160;<br/>
2009-02-16&#160;<br/>
2.0.13&#160;<br/>
Added internal OccurrenceCounter implementation&#160;<br/>
A. Ditte&#160;<br/>
2009-04-14&#160;<br/>
2.0.14&#160;<br/>
Added description for event de-bouncing&#160;<br/>Added&#160;DEM_E_INV_TIMER_SLOT_VAL&#160;in chapter&#160;<a href="TechnicalReference_Asr_Dems.html#21"><i>4.6.1</i>&#160;</a><br/>
S. Hübner&#160;<br/>
2009-08-21&#160;<br/>
2.1.2&#160;<br/>
Update R7, DEM 2.08.00&#160;<br/>Added Variant Handling&#160;(Single Identity/VSG&#160;mode)&#160;<br/>
B. Freiberger&#160;&#160;2009-11-11&#160;<br/>
2.1.3&#160;<br/>
Add detailed description&#160;of&#160;AUTOSAR&#160;APIs&#160;<br/>
P. Speidel&#160;<br/>
2010-03-03&#160;<br/>
2.1.4&#160;<br/>
Add information to “post-build settings” description,&#160;<br/>Add&#160;ApiId of Xxx_DemGetExtededDtataRecford in&#160;<br/><a href="TechnicalReference_Asr_Dems.html#21">chapter&#160;<i>4.6.1</i>,&#160;<br/></a>Update caller context information,&#160;<br/>Updated indicator description (configuration of&#160;<br/>IndicatorBit is now possible in CANdela and GENy)&#160;<br/>
S. Hübner&#160;<br/>
2010-08-23&#160;<br/>
2.1.5&#160;<br/>
Release Dem in config&#160;variant link-time, only&#160;<br/>
S. Hübner&#160;<br/>
2010-12-01&#160;<br/>
2.2.0&#160;<br/>
Due sleep/wakeup constraints, no check any more for&#160;<br/>NV-Block status in Dem 2.14.00, se<a href="TechnicalReference_Asr_Dems.html#16">e chapter&#160;<i>4.2</i></a><i>&#160;</i>for&#160;<br/>mandatory configuration/initialization.&#160;<br/>GENy (Diag_AsrDem.dll 3.3.0.0) now separates&#160;<br/>Internal/External Events (Event Destination) from&#160;<br/>creation of&#160;PortInterface (Event Kind). Reworked&#160;<br/><a href="TechnicalReference_Asr_Dems.html#97">chapter&#160;8.1.1,&#160;</a><a href="TechnicalReference_Asr_Dems.html#113">8.2.12.5&#160;and&#160;</a><a href="TechnicalReference_Asr_Dems.html#125">10.1&#160;</a><br/>
Table 1-1&#160;&#160;&#160;History&#160;of the&#160;Document&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
2&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-3_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>1.2&#160;</b><br/>
<b>Reference Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;AUTOSAR - Specification of Diagnostics Event&#160;Manager&#160;<br/>
V2.2.1&#160;<br/>
(AUTOSAR_SWS_DEM.pdf)&#160;<br/>
[2]&#160;&#160;AUTOSAR&#160;– Specification of Development Error&#160;Tracer&#160;<br/>
V2.2.0&#160;<br/>
(AUTOSAR_SWS_DET.pdf) &#160;<br/>
[3]&#160;&#160;AUTOSAR&#160;– Specification of Diagnostic Communication Manager&#160;<br/>
V3.0.0&#160;<br/>
(AUTOSAR_SWS_DCM.pdf)&#160;<br/>
[4]&#160;&#160;AUTOSAR&#160;– Specification of NVRAM Manager&#160;<br/>
V2.2.0&#160;<br/>
(AUTOSAR_SWS_NVRAMManager.pdf)&#160;<br/>
[5]&#160;&#160;AUTOSAR&#160;– Specification of Standard&#160;Types&#160;<br/>
V1.2.0&#160;<br/>
(AUTOSAR_SWS_StandardTypes.pdf)&#160;<br/>
[6]&#160;AUTOSAR_BasicSoftwareModules.pdf&#160;<br/>
V1.0.0&#160;<br/>
[7]&#160;&#160;ISO 14229-1:2006 Road vehicles –&#160;Unified diagnostic services (UDS) –&#160;Part 1:&#160;&#160;-&#160;<br/>
Specification and Requirements&#160;<br/>
[8]&#160;&#160;Vector internal PostBuild_GeneralProcedure.pdf&#160;<br/>
V1.x&#160;<br/>
[9]&#160;&#160;Application&#160;Note &#160;AN-ISC-8-1118, Vector GmbH&#160;<br/>
V1.0&#160;<br/>
MICROSAR BSW Compatibility Check&#160;<br/>
Table 1-2&#160;&#160;&#160;Reference Documents&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
3&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-4_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_Asr_Dems.html#2"><b>1</b>&#160;&#160;<b>Document Information.....................................................................................................&#160;2</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#2">1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#2">History...............................................................................................................&#160;2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#3">1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#3">Reference Documents&#160;......................................................................................&#160;3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#12"><b>2</b>&#160;&#160;<b>Component History........................................................................................................&#160;12</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#13"><b>3</b>&#160;&#160;<b>Introduction&#160;....................................................................................................................&#160;13</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#13">3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#13">Architecture&#160;Overview.....................................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#15"><b>4</b>&#160;&#160;<b>Functional Description&#160;..................................................................................................&#160;15</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#15">4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#15">Features..........................................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#16">4.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#16">Initialization&#160;.....................................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#17">4.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#17">States..............................................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#18">4.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#18">Main Functions&#160;...............................................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#20">4.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#20">Event De-bouncing&#160;.........................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#20">4.5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#20">Via Counter Based&#160;Algorithm..........................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#20">4.5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#20">Via Time&#160;Based&#160;Algorithm...............................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#21">4.6&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#21">Error Handling.................................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#21">4.6.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#21">Development Error Reporting&#160;.........................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#28">4.6.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#28">Parameter Checking&#160;.......................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#31">4.6.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#31">Production Code&#160;Error&#160;Reporting&#160;...................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32"><b>5</b>&#160;&#160;<b>Integration.......................................................................................................................&#160;32</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32">5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32">Scope of Delivery............................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32">5.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32">Static Files&#160;......................................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32">5.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32">Dynamic Files&#160;.................................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#33">5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#33">Include Structure.............................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#34">5.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#34">Compiler&#160;Abstraction and Memory&#160;Mapping...................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#35">5.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#35">Critical Sections&#160;..............................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#35">5.4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#35">Startup Phase&#160;.................................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#36">5.4.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#36">Call of Callback Functions&#160;..............................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#36">5.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#36">Call Context&#160;....................................................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#37">5.6&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#37">Scheduling&#160;of DEM and&#160;DCM.........................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#37">5.7&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#37">NvRAM Demand.............................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39"><b>6</b>&#160;&#160;<b>API Description&#160;..............................................................................................................&#160;39</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">6.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">Type Definitions&#160;..............................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">6.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">Services Provided by DEM&#160;.............................................................................&#160;39&#160;</a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
4&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-5_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#39">6.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">Dem_GetVersionInfo&#160;......................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">6.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">Interface ECU State&#160;Manager&#160;Ù&#160;DEM&#160;...........................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">6.2.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">Dem_PreInit....................................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#41">6.2.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#41">Dem_Init&#160;.........................................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#41">6.2.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#41">Dem_Shutdown&#160;..............................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#42">6.2.2.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#42">Dem_InitDiagnosticVariant..............................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#44">6.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#44">Interface SW-Components via RTE&#160;Ù&#160;DEM&#160;..................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#44">6.2.3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#44">Dem_SetEventStatus......................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#45">6.2.3.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#45">Dem_ResetEventStatus..................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#46">6.2.3.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#46">Dem_PrestoreFreezeFrame&#160;...........................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#47">6.2.3.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#47">Dem_ClearPrestoredFreezeFrame&#160;................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#47">6.2.3.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#47">Dem_SetOperationCycleState........................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#49">6.2.3.6&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#49">Dem_GetEventStatus&#160;.....................................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#50">6.2.3.7&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#50">Dem_GetEventFailed&#160;.....................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#50">6.2.3.8&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#50">Dem_GetEventTested.....................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#52">6.2.3.9&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#52">Dem_GetDTCOfEvent&#160;....................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#52">6.2.3.10&#160;&#160;Dem_SetValueByOemId&#160;.................................................................................&#160;52&#160;<br/>6.2.3.11&#160;&#160;Dem_SetEnableCondition&#160;..............................................................................&#160;52&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#53">6.2.3.12&#160;&#160;Dem_GetFaultDetectionCounter&#160;....................................................................&#160;53&#160;<br/>6.2.3.13&#160;&#160;Dem_GetIndicatorStatus.................................................................................&#160;53&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#55">6.2.3.14&#160;&#160;Dem_GetOccurrenceCounter&#160;.........................................................................&#160;55&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#56">6.2.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#56">Interface BSW-Components&#160;Ù&#160;DEM&#160;.............................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#56">6.2.4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#56">Dem_ReportErrorStatus&#160;.................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#57">6.2.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#57">Interface DCM&#160;Ù&#160;DEM...................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#57">6.2.5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#57">Access DTCs and Status Information&#160;.............................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#58">6.2.5.1.1&#160;&#160;Dem_SetDTCFilter&#160;.........................................................................................&#160;58&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#59">6.2.5.1.2&#160;&#160;Dem_SetDTCFilterForRecords.......................................................................&#160;59&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#60">6.2.5.1.3&#160;&#160;Dem_SetViewFilter&#160;.........................................................................................&#160;60&#160;<br/>6.2.5.1.4&#160;&#160;Dem_GetStatusOfDTC&#160;...................................................................................&#160;60&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#61">6.2.5.1.5&#160;&#160;Dem_GetDTCStatusAvailabilityMask..............................................................&#160;61&#160;<br/>6.2.5.1.6&#160;&#160;Dem_GetNumberOfFilteredDTC&#160;....................................................................&#160;61&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#62">6.2.5.1.7&#160;&#160;Dem_GetNextFilteredDTC..............................................................................&#160;62&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#63">6.2.5.1.8&#160;&#160;Dem_GetDTCByOccurrenceTime&#160;..................................................................&#160;63&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#64">6.2.5.1.9&#160;&#160;Dem_GetViewIDOfDTC&#160;..................................................................................&#160;64&#160;<br/>6.2.5.1.10&#160;Dem_GetNextFilteredRecord&#160;.........................................................................&#160;64&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#65">6.2.5.1.11&#160;Dem_GetNextFilteredDTCAndFDC................................................................&#160;65&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#66">6.2.5.1.12&#160;Dem_GetNextFilteredDTCAndSeverity&#160;..........................................................&#160;66&#160;<br/>6.2.5.1.13&#160;Dem_GetTranslationType&#160;...............................................................................&#160;66&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#67">6.2.5.1.14&#160;Dem_GetSeverityOfDTC&#160;................................................................................&#160;67&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#68">6.2.5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#68">Access Extended Data Records and FreezeFrame Data&#160;...............................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#68">6.2.5.2.1&#160;&#160;Dem_DisableDTCRecordUpdate....................................................................&#160;68&#160;</a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
5&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-6_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#68">6.2.5.2.2&#160;&#160;Dem_EnableDTCRecordUpdate&#160;....................................................................&#160;68&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#69">6.2.5.2.3&#160;&#160;Dem_GetDTCOfFreezeFrameRecord&#160;............................................................&#160;69&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#70">6.2.5.2.4&#160;&#160;Dem_GetFreezeFrameDataByDTC................................................................&#160;70&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#71">6.2.5.2.5&#160;&#160;Dem_GetFreezeFrameDataIdentifierByDTC&#160;..................................................&#160;71&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#72">6.2.5.2.6&#160;&#160;Dem_GetSizeOfFreezeFrame&#160;........................................................................&#160;72&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#73">6.2.5.2.7&#160;&#160;Dem_GetExtendedDataRecordByDTC...........................................................&#160;73&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#74">6.2.5.2.8&#160;&#160;Dem_GetSizeOfExtendedDataRecordByDTC................................................&#160;74&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#75">6.2.5.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#75">Clear DTC Information....................................................................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#75">6.2.5.3.1&#160;&#160;Dem_ClearDTC&#160;..............................................................................................&#160;75&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#76">6.2.5.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#76">Control DTC Storage&#160;......................................................................................&#160;76&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#77">6.2.5.4.1&#160;&#160;Dem_DisableDTCStorage&#160;..............................................................................&#160;77&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#78">6.2.5.4.2&#160;&#160;Dem_EnableDTCStorage&#160;...............................................................................&#160;78&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#79">6.2.5.4.3&#160;&#160;Dem_DisableEventStatusUpdate....................................................................&#160;79&#160;<br/>6.2.5.4.4&#160;&#160;Dem_EnableEventStatusUpdate&#160;....................................................................&#160;79&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#81">6.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#81">Services Used by DEM...................................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#81">6.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#81">Callback Functions&#160;.........................................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#81">6.4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#81">Dem_NvDataInit&#160;.............................................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#82">6.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#82">Configurable Interfaces...................................................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#82">6.5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#82">Notifications&#160;....................................................................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#83">6.5.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#83">Rte_Call_Dem_&lt;ConfiguredName&gt;_InitMonitorForEvent..............................&#160;83&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#84">6.5.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#84">Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged&#160;...........................&#160;84&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#86">6.5.1.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#86">Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged&#160;.............................&#160;86&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#86">6.5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#86">Callout Functions&#160;............................................................................................&#160;86&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#87">6.5.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#87">Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier&#160;.............&#160;87&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">6.5.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">Rte_Call_Dem_&lt;ConfiguredName&gt;_GetExtendedDataRecord&#160;.....................&#160;88&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">6.6&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">Service Ports&#160;..................................................................................................&#160;88&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">6.6.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">Client Server&#160;Interface&#160;....................................................................................&#160;88&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">6.6.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">Provide Ports on DEM Side&#160;............................................................................&#160;88&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#89">6.6.1.1.1&#160;&#160;DiagnosticMonitor&#160;...........................................................................................&#160;89&#160;<br/>6.6.1.1.2&#160;&#160;OperationCycle&#160;...............................................................................................&#160;89&#160;<br/>6.6.1.1.3&#160;&#160;ValueByOemId&#160;................................................................................................&#160;89&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#90">6.6.1.1.4&#160;&#160;EnableCondition&#160;.............................................................................................&#160;90&#160;<br/>6.6.1.1.5&#160;&#160;IndicatorStatus&#160;................................................................................................&#160;90&#160;<br/>6.6.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#90">Require Ports on DEM&#160;Side............................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#90">6.6.1.2.1&#160;&#160;Notification CallbackInitMonitorForEvent........................................................&#160;90&#160;<br/>6.6.1.2.2&#160;&#160;Notification CallbackInitMonitorForFunction&#160;...................................................&#160;90&#160;<br/>6.6.1.2.3&#160;&#160;Notification CallbackEventStatusChange&#160;.......................................................&#160;90&#160;<br/>6.6.1.2.4&#160;&#160;Notification CallbackDTCStatusChange&#160;.........................................................&#160;90&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#91">6.6.1.2.5&#160;&#160;Callout Function CallbackGetDataValueByDataID{DataId}.............................&#160;91&#160;<br/>6.6.1.2.6&#160;&#160;Callout Function CallbackGetExtendedDataRecord{RecordNumber}&#160;............&#160;91&#160;<br/>6.6.1.2.7&#160;&#160;Callout Function CallbackGetFaultDetectCounter&#160;..........................................&#160;91&#160;</a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
6&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-7_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#92"><b>7</b>&#160;&#160;<b>Additional Features........................................................................................................&#160;92</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#92">7.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#92">Multi-Identity Support......................................................................................&#160;92&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#92">7.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#92">Functionality....................................................................................................&#160;92&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#92">7.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#92">Single-Identity Mode&#160;.......................................................................................&#160;92&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#93">7.1.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#93">Configuration in CANdela&#160;...............................................................................&#160;93&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#93">7.1.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#93">Configuration in GENy&#160;....................................................................................&#160;93&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#94">7.1.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#94">Vehicle System Group (VSG)&#160;Mode&#160;...............................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#94">7.1.3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#94">Configuration in CANdela&#160;...............................................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#96">7.1.3.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#96">Configuration in GENy&#160;....................................................................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#97"><b>8</b>&#160;&#160;<b>Configuration..................................................................................................................&#160;97</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#97">8.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#97">Configuration with CANdelaStudio..................................................................&#160;97&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#97">8.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#97">DTC Settings&#160;..................................................................................................&#160;97&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#99">8.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#99">Freeze Frame&#160;Types (Snapshot Records)......................................................&#160;99&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#99">8.1.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#99">Extended Records&#160;..........................................................................................&#160;99&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#99">8.1.3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#99">OccurrenceCounter&#160;........................................................................................&#160;99&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#101">8.1.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#101">Pre de-bounce algorithms.............................................................................&#160;101&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#101">8.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#101">Configuration with GENy&#160;..............................................................................&#160;101&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">8.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">Start the Configuration&#160;..................................................................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">8.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">Import CDD...................................................................................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">8.2.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">Single Identity Mode&#160;.....................................................................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#103">8.2.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#103">Vehicle System Group (VSG)&#160;Mode&#160;.............................................................&#160;103&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#104">8.2.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#104">Automatic Configuration&#160;via CANdelaStudio Files........................................&#160;104&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#105">8.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#105">Tree View......................................................................................................&#160;105&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#106">8.2.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#106">Main Configuration Window..........................................................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#107">8.2.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#107">Common&#160;.......................................................................................................&#160;107&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#107">8.2.6&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#107">Software Component&#160;Template.....................................................................&#160;107&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#108">8.2.7&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#108">Postbuild Settings&#160;.........................................................................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#108">8.2.8&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#108">Miscellaneous&#160;...............................................................................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#109">8.2.9&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#109">BSW Error&#160;Buffer&#160;..........................................................................................&#160;109&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#109">8.2.10&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#109">DTC Groups..................................................................................................&#160;109&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#110">8.2.11&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#110">NvRam Block IDs...........................................................................................110&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#110">8.2.12&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#110">Manual Configuration.....................................................................................110&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#111">8.2.12.1&#160;&#160;Operation Cycles Window&#160;.............................................................................111&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#112">8.2.12.2&#160;&#160;Data Object Window&#160;......................................................................................112&#160;<br/>8.2.12.3&#160;&#160;Extended Data Records.................................................................................112&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#113">8.2.12.4&#160;&#160;Indicator Window&#160;...........................................................................................113&#160;<br/>8.2.12.5&#160;&#160;Event Configuration Window&#160;.........................................................................113&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#118">8.2.12.5.1&#160;DTC Settings&#160;.................................................................................................118&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#119">8.2.12.5.2&#160;Event Pre-Debouncing...................................................................................119&#160;<br/>8.2.12.5.3&#160;Snapshot Records (FreezeFrames)...............................................................119&#160;</a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
7&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-8_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#120">8.2.12.5.4&#160;Extended Data Records................................................................................&#160;120&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#121">8.2.12.5.5&#160;Indicators&#160;......................................................................................................&#160;121&#160;<br/>8.2.12.5.6&#160;TriggerOnEvent Callback Functions&#160;.............................................................&#160;121&#160;<br/>8.2.12.5.7&#160;TriggerOnDtc Callback Functions&#160;.................................................................&#160;121&#160;<br/>8.2.13&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#121">Software Component&#160;Template.....................................................................&#160;121&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122"><b>9</b>&#160;&#160;<b>AUTOSAR Standard&#160;Compliance................................................................................&#160;122</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">Deviations&#160;.....................................................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">APIs and Features not Supported&#160;................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">AUTOSAR&#160;Defined&#160;APIs that Differ&#160;in this Implementation&#160;..........................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">Service Dem_ClearDTC&#160;...............................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">Service Dem_SetEventStatus.......................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">Service Dem_ResetEventStatus...................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.2.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">Service Dem_SetOperationCycleState.........................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.2.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">Service Dem_ReportErrorStatus...................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.2.6&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">Interface Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged&#160;............&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">9.1.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#122">Require Ports not Supported&#160;........................................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">9.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">Additions/ Extensions&#160;...................................................................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">9.2.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">Development Error Reporting – Include Structure&#160;........................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">9.2.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">Development Error Reporting – Internal Debug Codes&#160;................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">9.2.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">Service Dem_GetOccurrenceCounter&#160;..........................................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">9.2.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">Name Description of Configurable Interfaces (Notifications)&#160;........................&#160;123&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">9.2.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">Interface&#160;<br/>Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier&#160;...........&#160;123&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">9.2.6&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">Port Names&#160;Length Limitation.......................................................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">9.2.7&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#123">Version Information.......................................................................................&#160;123&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#124">9.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#124">Limitations.....................................................................................................&#160;124&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#124">9.3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#124">Limits&#160;Checked During&#160;Configuration&#160;...........................................................&#160;124&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#125"><b>10</b>&#160;&#160;<b>Glossary&#160;and&#160;Abbreviations........................................................................................&#160;125</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#125">10.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#125">Glossary........................................................................................................&#160;125&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#126">10.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#126">Abbreviations&#160;................................................................................................&#160;126&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#127"><b>11</b>&#160;&#160;<b>Contact&#160;..........................................................................................................................&#160;127</b>&#160;<br/></a>&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
8&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-9_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Illustrations&#160;</b><br/>
<a href="TechnicalReference_Asr_Dems.html#13">Figure&#160;&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#13">AUTOSAR architecture&#160;..............................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#14">Figure&#160;&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#14">Interfaces to&#160;Adjacent Modules of the DEM&#160;...............................................&#160;14&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#17">Figure&#160;&#160;4-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#17">DEM States&#160;................................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#20">Figure&#160;&#160;4-2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#20">Event De-bouncing via counter based algorithm&#160;.......................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#21">Figure&#160;&#160;4-3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#21">Event De-bouncing via time based algorithm.............................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#33">Figure&#160;&#160;5-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#33">Include Structure&#160;........................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#93">Figure&#160;&#160;7-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#93">DEM single identity mode&#160;..........................................................................&#160;93&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#94">Figure&#160;&#160;7-2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#94">DEM Vehicle System&#160;Group (VSG)&#160;mode..................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#95">Figure&#160;&#160;7-3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#95">Defining VSGs in CANdelaStudio&#160;..............................................................&#160;95&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#95">Figure&#160;&#160;7-4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#95">Assigning VSGs to a DTC in CANdelaStudio.............................................&#160;95&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#100">Figure&#160;&#160;8-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#100">OccurrenceCounter..................................................................................&#160;100&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#101">Figure&#160;&#160;8-2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#101">This CDD supports&#160;the internal Occurrence Counter...............................&#160;101&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#101">Figure&#160;&#160;8-3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#101">This CDD does NOT&#160;support the internal Occurrence Counter&#160;...............&#160;101&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">Figure&#160;&#160;8-4&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">Switching DCM/DEM in&#160;GENy to single-identity&#160;mode&#160;............................&#160;102&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#103">Figure&#160;&#160;8-5&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#103">Select the CDD and the variant in the CDD&#160;.............................................&#160;103&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#103">Figure&#160;&#160;8-6&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#103">Switching DCM in GENy to VSG&#160;mode....................................................&#160;103&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#104">Figure&#160;&#160;8-7&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#104">Select the CDD and the variant in the CDD&#160;.............................................&#160;104&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#105">Figure&#160;&#160;8-8&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#105">Tree View&#160;.................................................................................................&#160;105&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#106">Figure&#160;&#160;8-9&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#106">Main Configuration Window&#160;.....................................................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#110">Figure&#160;&#160;8-10&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#110">Manual Configuration of&#160;the DEM&#160;via Main Configuration Window&#160;..........110&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#111">Figure&#160;&#160;8-11&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#111">Manual Configuration of&#160;the DEM&#160;via Right-Mouse-Button in&#160;Tree View..111&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#111">Figure&#160;&#160;8-12&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#111">Operation Cycles Window.........................................................................111&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#112">Figure&#160;&#160;8-13&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#112">Data Object Window&#160;.................................................................................112&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#112">Figure&#160;&#160;8-14&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#112">ExtendedData Records&#160;.............................................................................112&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#113">Figure&#160;&#160;8-15&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#113">Indicator Window.......................................................................................113&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#114">Figure&#160;&#160;8-16&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#114">Event Configuration Window.....................................................................114&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#116">Figure&#160;&#160;8-17&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#116">Configurable Options of an Event&#160;.............................................................116&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#120">Figure&#160;&#160;8-18&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#120">Create New&#160;Snapshot Record&#160;.................................................................&#160;120&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#120">Figure&#160;&#160;8-19&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#120">Snapshot Record Window........................................................................&#160;120&#160;</a><br/>
&#160;<br/>
<b>Tables&#160;</b><br/>
<a href="TechnicalReference_Asr_Dems.html#2">Table&#160;&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#2">History of the Document...............................................................................&#160;2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#3">Table&#160;&#160;1-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#3">Reference Documents&#160;.................................................................................&#160;3&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#12">Table&#160;&#160;2-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#12">Component History&#160;....................................................................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#15">Table&#160;&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#15">Supported SWS features&#160;...........................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#16">Table&#160;&#160;4-2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#16">Not Supported SWS Features....................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#27">Table&#160;&#160;4-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#27">Mapping of Service IDs to Services and Corresponding Errors.................&#160;27&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#27">Table&#160;&#160;4-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#27">Mapping of additional Service IDs to Services and Corresponding Errors&#160;27&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#27">Table&#160;&#160;4-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#27">Errors Reported to DET&#160;.............................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#28">Table&#160;&#160;4-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#28">Errors Reported to DET&#160;– Internal Debug Codes.......................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#30">Table&#160;&#160;4-7&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#30">Development Error Reporting:&#160;Assignment of Checks to Services&#160;............&#160;30&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32">Table&#160;&#160;5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#32">Static Files&#160;of Delivery................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#33">Table&#160;&#160;5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#33">Generated (Dynamic) Files of Delivery&#160;......................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#34">Table&#160;&#160;5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#34">Compiler&#160;Abstraction and Memory&#160;Mapping&#160;..............................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">Table&#160;&#160;6-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#39">Dem_GetVersionInfo..................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#40">Table&#160;&#160;6-2&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#40">Dem_PreInit&#160;...............................................................................................&#160;40&#160;</a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
9&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-10_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#41">Table&#160;&#160;6-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#41">Dem_Init.....................................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#42">Table&#160;&#160;6-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#42">Dem_Shutdown..........................................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#44">Table&#160;&#160;6-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#44">Dem_InitDiagnosticVariant.........................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#45">Table&#160;&#160;6-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#45">Dem_SetEventStatus&#160;.................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#45">Table&#160;&#160;6-7&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#45">Dem_ResetEventStatus&#160;.............................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#46">Table&#160;&#160;6-8&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#46">Dem_PrestoreFreezeFrame&#160;......................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#47">Table&#160;&#160;6-9&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#47">Dem_ClearPrestoredFreezeFrame............................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#48">Table&#160;&#160;6-10&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#48">Dem_SetOperationCycleState&#160;...................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#50">Table&#160;&#160;6-11&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#50">Dem_GetEventStatus.................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#50">Table&#160;&#160;6-12&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#50">Dem_GetEventFailed.................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#51">Table&#160;&#160;6-13&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#51">Dem_GetEventTested&#160;................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#52">Table&#160;&#160;6-14&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#52">Dem_GetDTCOfEvent&#160;...............................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#53">Table&#160;&#160;6-15&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#53">Dem_GetFaultDetectionCounter................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#54">Table&#160;&#160;6-16&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#54">Dem_GetIndicatorStatus&#160;............................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#55">Table&#160;&#160;6-17&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#55">Dem_GetOccurrenceCounter&#160;....................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#56">Table&#160;&#160;6-18&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#56">Dem_ReportErrorStatus.............................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#59">Table&#160;&#160;6-19&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#59">Dem_SetDTCFilter.....................................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#59">Table&#160;&#160;6-20&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#59">Dem_SetDTCFilterForRecords&#160;..................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#61">Table&#160;&#160;6-21&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#61">Dem_GetStatusOfDTC...............................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#61">Table&#160;&#160;6-22&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#61">Dem_GetDTCStatusAvailabilityMask&#160;.........................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#62">Table&#160;&#160;6-23&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#62">Dem_GetNumberOfFilteredDTC................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#62">Table&#160;&#160;6-24&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#62">Dem_GetNextFilteredDTC&#160;.........................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#63">Table&#160;&#160;6-25&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#63">Dem_GetDTCByOccurrenceTime..............................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#64">Table&#160;&#160;6-26&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#64">Dem_GetViewIDOfDTC&#160;.............................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#65">Table&#160;&#160;6-27&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#65">Dem_GetNextFilteredRecord.....................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#65">Table&#160;&#160;6-28&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#65">Dem_GetNextFilteredDTCAndFDC&#160;...........................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#66">Table&#160;&#160;6-29&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#66">Dem_GetNextFilteredDTCAndSeverity......................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#67">Table&#160;&#160;6-30&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#67">Dem_GetTranslationType&#160;..........................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#68">Table&#160;&#160;6-31&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#68">Dem_GetSeverityOfDTC............................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#68">Table&#160;&#160;6-32&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#68">Dem_DisableDTCRecordUpdate&#160;...............................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#69">Table&#160;&#160;6-33&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#69">Dem_EnableDTCRecordUpdate................................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#70">Table&#160;&#160;6-34&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#70">Dem_GetDTCOfFreezeFrameRecord&#160;.......................................................&#160;70&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#71">Table&#160;&#160;6-35&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#71">Dem_GetFreezeFrameDataByDTC&#160;...........................................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#72">Table&#160;&#160;6-36&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#72">Dem_GetFreezeFrameDataIdentifierByDTC&#160;.............................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#73">Table&#160;&#160;6-37&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#73">Dem_GetSizeOfFreezeFrame&#160;...................................................................&#160;73&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#74">Table&#160;&#160;6-38&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#74">Dem_GetExtendedDataRecordByDTC&#160;......................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#75">Table&#160;&#160;6-39&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#75">Dem_GetSizeOfExtendedDataRecordByDTC&#160;...........................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#76">Table&#160;&#160;6-40&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#76">Dem_ClearDTC..........................................................................................&#160;76&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#77">Table&#160;&#160;6-41&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#77">Dem_DisableDTCStorage..........................................................................&#160;77&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#78">Table&#160;&#160;6-42&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#78">Dem_EnableDTCStorage...........................................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#79">Table&#160;&#160;6-43&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#79">Dem_DisableEventStatusUpdate...............................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#80">Table&#160;&#160;6-44&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#80">Dem_EnableEventStatusUpdate................................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#81">Table&#160;&#160;6-45&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#81">Services Used by the DEM&#160;........................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#82">Table&#160;&#160;6-46&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#82">Dem_NvDataInit.........................................................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#83">Table&#160;&#160;6-47&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#83">Rte_Call_Dem_&lt;ConfiguredName&gt;_InitMonitorForEvent&#160;.........................&#160;83&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#85">Table&#160;&#160;6-48&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#85">Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged.......................&#160;85&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#86">Table&#160;&#160;6-49&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#86">Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged&#160;........................&#160;86&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#87">Table&#160;&#160;6-50&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#87">Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier.........&#160;87&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">Table&#160;&#160;6-51&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#88">Rte_Call_Dem_&lt;ConfiguredName&gt;_GetExtendedDataRecord&#160;................&#160;88&#160;</a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
10&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-11_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#89">Table&#160;&#160;6-52&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#89">DiagnosticMonitor&#160;......................................................................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#89">Table&#160;&#160;6-53&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#89">OperationCycle&#160;..........................................................................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#90">Table&#160;&#160;6-54&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#90">IndicatorStatus&#160;...........................................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#90">Table&#160;&#160;6-55&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#90">CallbackInitMonitorForEvent&#160;......................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#90">Table&#160;&#160;6-56&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#90">CallbackEventStatusChange......................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#91">Table&#160;&#160;6-57&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#91">CallbackDTCStatusChange&#160;.......................................................................&#160;91&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#91">Table&#160;&#160;6-58&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#91">CallbackGetDataValueByDataID{DataId}...................................................&#160;91&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#91">Table&#160;&#160;6-59&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#91">CallbackGetExtendedDataRecord{RecordNumber}&#160;..................................&#160;91&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#98">Table&#160;&#160;8-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#98">Equivalence of DTC Settings in CANdelaStudio and GENy&#160;......................&#160;98&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#125">Table&#160;&#160;10-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#125">Glossary&#160;...................................................................................................&#160;125&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#126">Table&#160;&#160;10-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Dems.html#126">Abbreviations&#160;...........................................................................................&#160;126&#160;</a><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
11&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-12_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>2&#160;&#160;Component History&#160;</b><br/>
The component history gives an overview of the important milestones that are supported in&#160;<br/>the different versions of the component.&#160;<br/>
<b>Component Version&#160;&#160;New&#160;Features&#160;<br/></b>[ 01.xx.yy ]&#160;&#160;<br/>
Evaluation version based&#160;on&#160;AUTOSAR release 2.1 (V2.1.1) of&#160;<br/>Specification of Diagnostics Event&#160;Manager&#160;<br/>
[ 02.xx.yy ]&#160;<br/>
Evaluation version based&#160;on&#160;AUTOSAR release 3 (V2.2.1) of&#160;<br/>Specification of Diagnostics Event&#160;Manager&#160;<br/>
[ 02.05.yy ]&#160;<br/>
1st&#160;Release&#160;Version&#160;<br/>
Table&#160;2-1&#160;&#160;&#160;Component History&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
12&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-13_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-13_2.jpg"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-13_3.jpg"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-13_4.jpg"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-13_5.jpg"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>3&#160;&#160;Introduction&#160;</b><br/>
This document describes the functionality,&#160;API and configuration&#160;of the&#160;AUTOSAR BSW&#160;<br/>module Diagnostic Event Manager (DEM)&#160;<a href="TechnicalReference_Asr_Dems.html#3">as specified in&#160;[1]</a>.&#160;<br/>&#160;<br/>
<b>Supported AUTOSAR&#160;Release<a href="TechnicalReference_Asr_Dems.html#13">*</a></b><b>:&#160;</b><br/>
3&#160;<br/>
<b>Supported Configuration Variants:&#160;</b><br/>
link-time (library)&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Vendor ID:&#160;</b><br/>
DEM_VENDOR_ID&#160;30&#160;<br/>
decimal&#160;<br/>
(=&#160;Vector-Informatik,&#160;<br/>according to&#160;HIS)&#160;<br/>
<b>Module ID:&#160;</b><br/>
DEM_MODULE_ID &#160;&#160;<br/>
54 decimal&#160;<br/>
(according to ref.&#160;<a href="TechnicalReference_Asr_Dems.html#3">[6]</a>)&#160;<br/>
* For the precise&#160;AUTOSAR Release 3.x please&#160;see the&#160;release specific&#160;documentation.&#160;<br/>&#160;<br/>The DEM&#160;is responsible for processing and storing diagnostic events (both DTCs and&#160;<br/>events reported by other BSW modules)&#160;and associated environmental data.&#160;<br/>
<b>3.1&#160;</b><br/>
<b>Architecture Overview&#160;</b><br/>
The following figure shows where the DEM is&#160;located in the&#160;AUTOSAR architecture.&#160;<br/>
&#160;<br/>
Figure 3-1&#160;&#160;AUTOSAR architecture&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
13&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_1.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_2.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_3.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_4.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_5.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_6.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_7.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_8.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_9.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_10.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_11.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_12.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_13.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_14.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_15.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_16.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_17.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_18.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_19.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_20.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_21.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_22.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_23.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_24.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_25.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_26.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_27.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_28.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_29.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_30.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_31.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_32.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_33.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_34.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_35.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_36.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_37.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_38.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_39.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_40.png"/><br/>
<img class="yflip" src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-14_41.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
The next figure shows the interfaces&#160;to adjacent modules of the DEM.&#160;These interfaces&#160;<br/><a href="TechnicalReference_Asr_Dems.html#39">are described in chapter&#160;6</a>. &#160;<br/>&#160;<br/>&#160;<br/>
<b>cmp&#160;Dem_ReportErrorStatus</b><br/>
<b>SW-C&#160;/&#160;Indicator-SW-C</b><br/>
l»<br/>
o<br/>
a<br/>n<br/>
aI<br/>
ec<br/>
o<br/>
o<br/>
at<br/>
R<br/>a<br/>
ent<br/>
yD<br/>
at<br/>
«opti<br/>
hange<br/>
ange<br/>
B<br/>
D<br/>
tionC<br/>
Ev<br/>
C<br/>
h<br/>
or<br/>
lue<br/>
ec<br/>
F<br/>
C<br/>
us<br/>
a<br/>
et<br/>
us<br/>
tor<br/>
tio<br/>
at<br/>
tD<br/>
taV<br/>
tended<br/>
St<br/>
tat<br/>
oni<br/>
unc<br/>
S<br/>
a<br/>
aul<br/>
D<br/>
Ex<br/>
F<br/>
tM<br/>
ent<br/>
C<br/>
itF<br/>
T<br/>
et<br/>
et<br/>
et<br/>
Ini<br/>
n<br/>_I<br/>
_Ev<br/>
_D<br/>
_G<br/>
_G<br/>
_<br/>
_G<br/>
e&gt;<br/>
e&gt;<br/>
e&gt;<br/>
e&gt;<br/>
e&gt;<br/>
e&gt;<br/>
e&gt;<br/>
m<br/>
m<br/>
am<br/>
am<br/>
am<br/>
am<br/>
a<br/>
am<br/>
am<br/>
ra<br/>
te<br/>
N<br/>
N<br/>
N<br/>
F<br/>
e<br/>
tat<br/>
edN<br/>
edN<br/>
ed<br/>
ed<br/>
edN<br/>
edN<br/>
ed<br/>
ze<br/>
m<br/>
S<br/>
n<br/>
oun<br/>
ur<br/>
ur<br/>
s<br/>
e<br/>
a<br/>
s<br/>
igur<br/>
igur<br/>
igur<br/>
igur<br/>
tu<br/>
re<br/>
Fr<br/>
t<br/>
Id<br/>
tio<br/>
igur<br/>
fig<br/>
fig<br/>
F<br/>
tu<br/>
ycle<br/>
d<br/>
n<br/>
nf<br/>
ta<br/>
d<br/>
ze<br/>
C<br/>
e<br/>
em<br/>
ndi<br/>
ctionC<br/>
ta<br/>
on<br/>
on<br/>
onf<br/>
onf<br/>
onf<br/>
onf<br/>
led<br/>
e<br/>
re<br/>
st<br/>
ve<br/>
O<br/>
o<br/>
e<br/>
co<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
tatus<br/>
tS<br/>
e<br/>
ion<br/>
tatus<br/>
rS<br/>
n<br/>
ai<br/>F<br/>
e<br/>
eC<br/>
et<br/>
to<br/>
_&lt;<br/>
_&lt;<br/>
_&lt;<br/>
_&lt;<br/>
_&lt;<br/>
_&lt;<br/>
_&lt;<br/>
tS<br/>
Fr<br/>
sto<br/>
at<br/>
tS<br/>
tT<br/>
OfE<br/>
n<br/>
ve<br/>
n<br/>
tD<br/>
re<br/>
re<br/>
n<br/>
C<br/>
ueBy<br/>
abl<br/>
ul<br/>
ica<br/>
em<br/>
em<br/>
em<br/>
em<br/>
em<br/>
em<br/>
em<br/>
ve<br/>
tE<br/>
rP<br/>
per<br/>
ve<br/>
vent<br/>
ve<br/>
T<br/>
al<br/>
n<br/>
a<br/>
d<br/>
D<br/>
D<br/>
D<br/>
E<br/>
se<br/>
sto<br/>
a<br/>
O<br/>
tE<br/>
E<br/>
tE<br/>
tD<br/>
V<br/>
E<br/>
F<br/>
tIn<br/>
l_<br/>
l_<br/>
l_<br/>
l_D<br/>
l_D<br/>
l_D<br/>
l_D<br/>
re<br/>
le<br/>
e<br/>
et<br/>
e<br/>
et<br/>
et<br/>
al<br/>
al<br/>
al<br/>
al<br/>
al<br/>
al<br/>
al<br/>
Set<br/>
Re<br/>
P<br/>
C<br/>
G<br/>
G<br/>
Ge<br/>
Ge<br/>
_<br/>
S<br/>
_<br/>
_<br/>
_Set<br/>
_<br/>
_G<br/>
_<br/>
_<br/>
_<br/>
_Set<br/>
_G<br/>
_<br/>
_C<br/>
_C<br/>
_C<br/>
m<br/>
m<br/>
m<br/>
m_<br/>
m<br/>
m<br/>
m<br/>
m<br/>
m<br/>
te_C<br/>
te_C<br/>
te_C<br/>
te<br/>
te<br/>
te_C<br/>
te<br/>
e<br/>
e<br/>
em<br/>
e<br/>
em<br/>
e<br/>
e<br/>
e<br/>
em<br/>
em<br/>
e<br/>
R<br/>
R<br/>
R<br/>
R<br/>
R<br/>
R<br/>
R<br/>
D<br/>
De<br/>
De<br/>
D<br/>
D<br/>
D<br/>
D<br/>
D<br/>
D<br/>
D<br/>
D<br/>
D<br/>
D<br/>
<b>DEM</b><br/>
Dem_SetDTCFilter<br/>
<b>BSW</b><br/>
Dem_ReportErrorStatus<br/>
<b>DCM</b><br/>
Dem_SetDTCFilterForRecord<br/>
Dem_SetViewFilter<br/>
NvM_SetRamBlockStatus<br/>
Dem_GetStatusOfDTC<br/>
<b>NVRAM</b><br/>
Dem_NvDataInit<br/>
Dem_GetDTCStatusAvailabilityMas<br/>
Dem_GetNumberOfFilteredDT<br/>
Dem_ShutDown<br/>
Dem_GetNextFilteredDTC<br/>
Dem_Init<br/>
<b>ECU-SM</b><br/>
Dem_GetDTCByOccurrenceTiim<br/>
Dem_PreInit<br/>
Dem_GetViewIDOfDTC<br/>
Dem_GetNextFilteredRecord<br/>
<b>Det</b><br/>
Det_ReportError<br/>
«optional»<br/>
Dem_GetNextFilteredDTCAndFD<br/>
Dem_GetTranslationType<br/>
Dem_GetSeverityOfDTC<br/>
SchM_Enter_Dem<br/>
Dem_DisableDTCRecordUpdat<br/>
<b>SchM</b><br/>
SchM_Exit_Dem<br/>
Dem_EnableDTCRecordUpdate<br/>
Dem_GetDTCOfFreezeFrameRecor<br/>
Dem_GetFreezeFrameDataByDT<br/>
EcuM_GeneratorCompatibilityErro<br/>
«optional»<br/>
<b>EcuM</b><br/>
Dem_GetFreezeFrameDataIdentifierByDT<br/>
Dem_GetSizeOfFreezeFrame<br/>
Dem_GetExtendedDataRecordByDT<br/>
Dem_GetSizeOfExtendedDataRecordByDT<br/>
Dem_GetVersionInfo<br/>
Dem_ClearDTC<br/>
Dem_DisableDTCStorage<br/>
Dem_EnableDTCStorage<br/>
Dem_DisableEventStatusUpdat<br/>
Dem_EnableEventStatusUpdat<br/>
&#160;<br/>
Figure 3-2&#160;&#160;Interfaces to&#160;Adjacent Modules of the DEM&#160;<br/>
Applications do not access the services of the BSW modules directly.&#160;They use the service&#160;<br/>ports provided by the BSW modules via the RTE.&#160;The service ports provided by the DEM&#160;<br/><a href="TechnicalReference_Asr_Dems.html#88">are listed in chapter&#160;<i>6.6</i></a><a href="TechnicalReference_Asr_Dems.html#3">&#160;and are defined in&#160;[1]</a>.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
14&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-15_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>4&#160;&#160;Functional Description&#160;</b><br/>
<b>4.1&#160;</b><br/>
<b>Features&#160;</b><br/>
Vector’s DEM solution is based on&#160;<a href="TechnicalReference_Asr_Dems.html#3">[1].&#160;<br/></a>The &#34;supported&#34; and &#34;not supported&#34; features are presented in the following two tables.&#160;<br/>For further information of not suppor<a href="TechnicalReference_Asr_Dems.html#122">ted features also see chapter&#160;9</a>.&#160;<br/>The current implementation offers all basic features of the DEM specification. Some of the&#160;<br/>optional features (e.g. event combination or&#160;OBD) are still not well defined and therefore&#160;<br/>not supported – refer to the following table for more details.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#3">The following features described in&#160;[1]</a>&#160;are supported:&#160;<br/>
<b>Supported Features&#160;<br/></b>All non-optional features&#160;described in<a href="TechnicalReference_Asr_Dems.html#3">&#160;[1], except features described belo</a>w&#160;<br/>
Table 4-1&#160;&#160;&#160;Supported SWS&#160;features&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#3">The following features described in&#160;[1]</a>&#160;are not supported:&#160;<br/>
<b>Not Supported Features&#160;<br/></b>Event combination&#160;<br/>The event combination is not supported.&#160;<br/>Event mapping&#160;<br/>The mapping of events to DTCs is “1 to 1” or “1 to 0” and not&#160;“n to 1”&#160;or&#160;“1 to n”.&#160;<br/>OBD support&#160;<br/>The OBD support is postponed by&#160;AUTOSAR to&#160;AUTOSAR&#160;phase II.&#160;<br/>Mirror / secondary memory support&#160;<br/>Mirror memory solutions are typically manufacturer specific,&#160;for this implementation no support of&#160;<br/>secondary and/or mirror memory is required.&#160;<br/>NvRAM-Manager interface&#160;<br/>There are pending discussions&#160;about the NvRAM manager interface, due to an incomplete SWS&#160;<br/>specification. Final solution is postponed to&#160;AUTOSAR phase II.&#160;<br/>Vector’s&#160;solution&#160;awaits&#160;an&#160;updated RAM&#160;mirror&#160;before&#160;Dem_Init()&#160;is called and&#160;an automatic&#160;<br/>NvRAM update by the system shut down sequence via&#160;NvM_WriteAll()&#160;after&#160;<br/>Dem_Shutdown()&#160;call.&#160;<br/>
Dem_SetValueByOemId&#160;<br/>This optional&#160;API is not supported by Vector specific DEM (it is implemented, but returns always&#160;<br/>E_NOT_OK).&#160;<br/>Dem_SetEnableCondition&#160;<br/>This optional&#160;API is not supported by Vector specific DEM (it is implemented, but returns always&#160;<br/>E_NOT_OK). &#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
15&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-16_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-16_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Not Supported Features&#160;<br/></b>CallbackInitMonitorForFunction&#160;<br/>To initialize&#160;monitors the&#160;AUTOSAR&#160;API CallbackInitMonitorForEvent is used.&#160;Therefore the&#160;<br/>~ForFunction callback is not supported by Vector DEM.&#160;<br/>ViewId&#160;<br/>Dem_SetViewFilter is not supported&#160;by Vector DEM.&#160;<br/>CallbackGetFaultDetectCounter&#160;<br/>The FaultDetectionCounter is implemented in the DEM.&#160;Therefore there is no need to support&#160;<br/>this API.&#160;<br/>Synchronous execution&#160;<br/>AUTOSAR recommends&#160;a synchronous execution of&#160;all event based functions.&#160;To keep the call&#160;<br/>context of these functions, the actions are&#160;logged&#160;synchronously but are executed cyclically&#160;<br/>during&#160;Dem_MainFunction()<a href="TechnicalReference_Asr_Dems.html#18">&#160;(see&#160;4.4</a>&#160;for more details).&#160;<br/>External event de-bouncing&#160;<br/>The external de-bouncing according&#160;AUTOSAR&#160;can not be implemented&#160;in DEM, because the&#160;<br/>callback to retrieve the fault detection counter from the application is not&#160;compatible with the&#160;<br/>RTE. (see http://www.autosar.org/bugzilla/show_bug.cgi?id=34183)&#160;<br/>The counter&#160;based de-bouncing can&#160;be used instead. If the qualification starts, the fault detection&#160;<br/>counter has&#160;to be update&#160;only once with ‘prepassed’&#160;or ‘prefailed’. If the event monitor internal&#160;<br/>de-bouncing&#160;algorithm qualifies the&#160;event, it is always possible to pass that result to the DEM&#160;<br/>with the parameter ‘passed’&#160;or ‘failed’.&#160;<br/>
Table 4-2&#160;&#160;Not Supported SWS Features&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>For supporting Vehicle System Group (VSG)&#160;Mode (see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#92"><i>7.1&#160;Multi-Identity&#160;</i></a><br/>
<b>&#160;&#160;</b><a href="TechnicalReference_Asr_Dems.html#92"><i>Support</i></a><i>&#160;</i>and chapter<a href="TechnicalReference_Asr_Dems.html#94"><i>&#160;7.1.3</i></a><i>&#160;<a href="TechnicalReference_Asr_Dems.html#94">Vehicle&#160;System&#160;Group (VSG) Mode</a></i>) together with ECU-C&#160;<br/>
file format to store the configuration, the use of Vector’s&#160;DCM is&#160;mandatory.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Initialization&#160;</b><br/>
The DEM st<a href="TechnicalReference_Asr_Dems.html#3">artup behavior conforms to&#160;[1]. &#160;</a><br/>
The function&#160;Dem_PreInit()&#160;shall be used during the startup phase to prepare the&#160;<br/>internal states of the DEM.<a href="TechnicalReference_Asr_Dems.html#16">1&#160;</a><br/>
The function&#160;Dem_Init()&#160;shall be used during the startup phase of the ECU after the&#160;<br/>NvRAM Manager has finished the&#160;restoration of NvRAM data.&#160;<br/>&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
1&#160;In multiple identity mode (see&#160;chapter&#160;<i>7.1</i>) the active&#160;configuration must be&#160;chosen before calling&#160;<br/>Dem_PreInit by using the&#160;additional&#160;API&#160;Dem_InitDiagnosticVariant(). Details in&#160;chapter&#160;<i>6.2.2.2&#160;<br/>Dem_Init</i>&#160;and&#160;in chapter&#160;&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
16&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-17_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-17_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-17_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>If a new pre-compile configuration is&#160;used, the NvRAM&#160;must be initialized&#160;externally&#160;<br/>
<b>&#160;&#160;</b>e.g. via&#160;Dem_NvDataInit().&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
SW-Components including Monitor Functions are initialized afterwards.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Starting with DEM 2.14.00 you must take special&#160;care that the&#160;NvRAM block(s) were&#160;<br/>
<b>&#160;&#160;</b>either correctly restored from a previously&#160;stored&#160;state or you (resp. the NvM)&#160;must call&#160;<br/>
the corresponding initialization function before calling&#160;Dem_Init().&#160;<br/>
<b>Starting the Dem with corrupt or uninitialized&#160;data&#160;will trigger undefined&#160;<br/>behaviour.&#160;</b><br/>
The Dem will&#160;not check&#160;any more the block’s&#160;NvM_GetErrorStatus()&#160;as this might&#160;<br/>result in unintentional data clearing&#160;when there were NV write problems during ECU&#160;<br/>sleep/wakeup sequence.&#160;<br/>
For important information please refer to chapter&#160;<a href="TechnicalReference_Asr_Dems.html#81"><i>6.4.1</i></a><i>&#160;<a href="TechnicalReference_Asr_Dems.html#81">Dem_NvDataInit</i>&#160;and&#160;<br/></a><a href="TechnicalReference_Asr_Dems.html#110"><i>8.2.11&#160;NvRam Block IDs</i>&#160;</a><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.3&#160;</b><br/>
<b>States&#160;</b><br/>
Dem_PreInit()<br/>
DEM_<br/>
Dem_Init()<br/>
Dem_Main<br/>
Dem_<br/>
DEM_IsEnabled<br/>
DEM_IsEnabled<br/>
DEM_<br/>
IsUninitialized<br/>
Function()<br/>
AndRunning<br/>
Shutdown()<br/>
IsDisabled<br/>
Dem_Init()<br/>
(Re)Start/Dem_PreInit()<br/>
&#160;<br/>
Figure 4-1&#160;&#160;DEM States&#160;<br/>
After the (re)start of&#160;the ECU or the call of&#160;Dem_PreInit()&#160;the DEM&#160;&#160;is in state&#160;<br/>DEM_IsUnitialized. In this state, only BSW errors can be reported via&#160;<br/>Dem_ReportErrorStatus(). &#160;<br/>
During initialization via&#160;Dem_Init()&#160;&#160;the DEM switches to the state&#160;DEM_IsEnabled.&#160;<br/>The DTC storage is activated and the first task of&#160;Dem_MainFunction()&#160;is to execute&#160;<br/>(and empty)&#160;the BSW queue.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
17&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-18_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-18_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
Thus, normal operation mode (DEM_IsEnabledAndRunning) is started, until&#160;<br/>Dem_Shutdown()&#160;will finalize all pending operations in&#160;the DEM&#160;and deactivate the DTC&#160;<br/>storage (Dem_IsDisabled). &#160;<br/>
<b>4.4&#160;</b><br/>
<b>Main Functions&#160;</b><br/>
The function&#160;Dem_MainFunction()&#160;is used to process all DEM internal functions. It&#160;<br/>shall be called periodically, e.g., every 10ms as cyclic task by the&#160;AUTOSAR Schedule&#160;<br/>Manager.&#160;<br/>
All actions of event based&#160;APIs (e.g.&#160;Dem_SetEventStatus()&#160;and&#160;<br/>Dem_SetOperationCycleState()) are logged synchronously to the BSW event queue&#160;<br/>and are executed during the next&#160;Dem_MainFunction()&#160;call.&#160;Thereby the logged&#160;<br/>sequence will be kept except for first call of the main function. In&#160;this case stored operation&#160;<br/>cycle changes will be brought forward to avoid that possibly reported BSW errors&#160;<br/>(Dem_ReportErrorStatus()) are discarded due their OperationCycle being&#160;<br/>DEM_CYCLE_STATE_END (default value after startup) and thus prohibiting the setting of&#160;<br/>the events.&#160;<br/>The number&#160;of actions to be queued is&#160;limited by the configurable values Bsw Error Buffer Size and &#160;Add&#160;<br/>Error Buffer Size &#160;<br/>The number&#160;of actions to be queued is&#160;limited by the configurable values&#160;Bsw&#160;Error Buffer Size&#160;and&#160;<br/>Add Error Buffer Size&#160;(see<a href="TechnicalReference_Asr_Dems.html#109">&#160;8.2.9&#160;</a>for more details).&#160;<br/>
<i><b>Functions logged in queue&#160;(state: DEM_IsEnabled):&#160;<br/></b></i>Dem_ReportErrorStatus()&#160;<br/>Dem_SetEventStatus()&#160;<br/>Dem_ClearDTC()&#160;<br/>Dem_EnableDTCStorage() &#160;<br/>
<i><b>Logged in queue for Operation cycles:&#160;<br/></b></i>Dem_SetOperationCycleState()&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To notify the application&#160;that the queue is full and the&#160;API could not be added &#160;<br/>
&#160;&#160;- for&#160;the&#160;APIs&#160;Dem_SetEventStatus(), Dem_ResetEventStatus()&#160;and&#160;<br/>
Dem_SetOperationCycleState()an additional return value is implemented: &#160;<br/>Without&#160;<br/>
RTE:&#160;<br/>
DEM_E_QUEUE_OVERFLOW&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; (0x0F)&#160;<br/>
With RTE:&#160;&#160;&#160;&#160;RTE_E_DiagnosticMonitor_DEM_E_QUEUE_OVERFLOW&#160;&#160;(15u)&#160;<br/>&#160;&#160; &#160; &#160; RTE_E_OperationCycle_DEM_E_QUEUE_OVERFLOW&#160;<br/>
&#160;&#160;(15u)&#160;<br/>
-&#160;the&#160;value&#160;DEM_DTC_PENDING&#160;is returned for the&#160;APIs&#160;Dem_ClearDTC()&#160;and&#160;<br/>
Dem_EnableDTCStorage(). So it is not necessary to implement an additional&#160;<br/>return value for these&#160;APIs which are&#160;called by the DCM. &#160;<br/>
a development error will be reported for the&#160;API&#160;Dem_ReportErrorStatus():&#160;<br/>ErrorId:&#160;&#160;&#160;&#160;&#160;&#160;&#160;DEM_E_QUEUE_OVERFLOW&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(0x0F)&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
18&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-19_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-19_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The return value and the&#160;development error DEM_E_QUEUE_OVERFLOW are&#160;<br/>
&#160;&#160;extensions to&#160;AUTOSAR.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
19&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-20_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>4.5&#160;</b><br/>
<b>Event De-bouncing&#160;</b><br/>
For event de-bouncing the DEM&#160;supports two different mechanisms which are described&#160;<br/>below<a href="TechnicalReference_Asr_Dems.html#97">. . Please refer to chapter&#160;8.1.1</a><a href="TechnicalReference_Asr_Dems.html#119">&#160;and&#160;8.2.12.5.2</a>&#160;for configuration details.&#160;<br/>&#160;<br/>
<b>4.5.1&#160;</b><br/>
<b>Via Counter Based Algorithm&#160;</b><br/>
Depended on the configured de-bounce step size, the DEM must&#160;be triggered actively&#160;<br/>multiple times by application, until an event&#160;will be qualified as passed or failed.&#160;The step&#160;<br/>sizes for count up and count down may have different values.&#160;An&#160;event will be qualified as&#160;<br/>‘failed’, if the fault detection counter reaches the value 127. If the value -128 will be&#160;<br/>reached the event will be&#160;qualified as ‘passed’.&#160;<a href="TechnicalReference_Asr_Dems.html#20">Figure 4-2</a>&#160;gives an overview of event de-<br/>bouncing by fault detection counter.&#160;<br/>&#160;<br/>
EventId<br/>
Failed<br/>
Passed<br/>
Debounce<br/>
TimeoutSlot<br/>
Threshold<br/>
Threshold&#160;/&#160;<br/>
Algorithm<br/>
Index<br/>
Fault Detection<br/>
/ StepUp<br/>
Step&#160;Down<br/>
Counter<br/>
#1<br/>
100<br/>
200<br/>
time<br/>
0<br/>
#2<br/>
32<br/>
16<br/>
count<br/>
0<br/>
#3<br/>
100<br/>
100<br/>
time<br/>
1<br/>
#4<br/>
2<br/>
4<br/>
count<br/>
0<br/>
~<br/>
~<br/>
reports<br/>
SetEvent(#2,&#160;<br/>
SetEvent(#2,&#160;<br/>
SetEvent(#4,&#160;<br/>
SetEvent(#2,&#160;<br/>
SetEvent(#4,&#160;<br/>
prefailed)&#160;<br/>
prefailed)&#160;<br/>
SetEvent(#2,&#160;<br/>
prefailed)&#160;<br/>
prefailed)&#160;<br/>
prepassed)&#160;<br/>
SetEvent(#4,&#160;<br/>
SetEvent(#4,&#160;<br/>
prefailed)&#160;<br/>
prepassed)&#160;<br/>
prepassed)&#160;<br/>
Fault Detection<br/>
Fault Detection<br/>
Fault&#160;Detection&#160;Fault Detection<br/>
Fault Detection<br/>
Fault Detection<br/>
Counter<br/>
Counter<br/>
Counter<br/>
Counter<br/>
Counter<br/>
Counter<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
EventId&#160;#4&#160;is<br/>
0<br/>
32<br/>
32<br/>
64<br/>
96<br/>
127<br/>
qualified&#160;as&#160;<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
<b>failed</b><br/>
2<br/>
2<br/>
-2<br/>
-6<br/>
-10<br/>
-10<br/>
&#160;<br/>
Figure 4-2&#160;&#160;Event De-bouncing via counter based algorithm&#160;<br/>
<b>4.5.2&#160;</b><br/>
<b>Via Time Based Algorithm&#160;</b><br/>
Time based de-bounced events must be triggered only once by application to set a&#160;<br/>qualification direction.&#160;The&#160;event will be qualified after the configured de-bounce time has&#160;<br/>been elapsed. Multiple triggers for the same&#160;event and same qualification direction won’t&#160;<br/>have any effects. &#160;<br/>If an event which was&#160;reported as&#160;‘prefailed’&#160;and has&#160;not been qualified yet will be reported&#160;<br/>again as ‘prepassed’, the timer will be&#160;reloaded with the corresponding&#160;de-bounce timer&#160;<br/>value. Hence, once an event&#160;was reported the timer can only be stopped with “clear DTC”&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
20&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-21_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
or “restart of Operation cycle”.&#160;<a href="TechnicalReference_Asr_Dems.html#21">Figure 4-3&#160;gives an overview of the time bas</a>ed de-bounce&#160;<br/>mechanism.&#160;<br/>
EventId<br/>
Failed<br/>
Passed<br/>
Debounce<br/>
TimeoutSlot<br/>
Threshold<br/>
Threshold&#160;/&#160;<br/>
Algorithm<br/>
Index<br/>
Event&#160;Timeout<br/>
Fault&#160;Detection<br/>
/ StepUp<br/>
Step&#160;Down<br/>
Slot&#160;Table<br/>
Counter<br/>
#1<br/>
100<br/>
200<br/>
time<br/>
0<br/>
#2<br/>
32<br/>
16<br/>
count<br/>
0<br/>
#3<br/>
100<br/>
100<br/>
time<br/>
1<br/>
#4<br/>
100<br/>
200<br/>
time<br/>
2<br/>
Timer<br/>
Timer<br/>
Timer<br/>
Timer<br/>
Timer<br/>
Timer<br/>
17<br/>
18<br/>
19<br/>
118<br/>
219<br/>
220<br/>
~<br/>
~<br/>
DEM&#160;cyclic&#160;task<br/>
~<br/>
~<br/>
reports<br/>
SetEvent(#4,&#160;<br/>
SetEvent(#1,&#160;<br/>
SetEvent(#4,&#160;<br/>
prefailed)&#160;<br/>
prefailed)&#160;<br/>
prepassed)&#160;<br/>
Event&#160;Timeout<br/>
Event&#160;Timeout<br/>
Event&#160;Timeout<br/>
Event&#160;Timeout<br/>
Event&#160;Timeout<br/>
Slot&#160;Table<br/>
Slot&#160;Table<br/>
Slot&#160;Table<br/>
Slot&#160;Table<br/>
Slot&#160;Table<br/>
0<br/>
118<br/>
118<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
117<br/>
117<br/>
219<br/>
219<br/>
0<br/>
Fault&#160;Detection<br/>
Fault&#160;Detection<br/>
Fault&#160;Detection<br/>
Fault&#160;Detection<br/>
Fault&#160;Detection<br/>
Counter<br/>
Counter<br/>
Counter<br/>
Counter<br/>
Counter<br/>
EventId&#160;#1 is<br/>
0<br/>
1<br/>
1<br/>
127<br/>
127<br/>
qualified&#160;as&#160;<br/><b>failed</b><br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
0<br/>
EventId&#160;#4 is<br/>
1<br/>
1<br/>
-1<br/>
-1<br/>
-128<br/>
qualified&#160;as&#160;<br/><b>passed</b><br/>
&#160;<br/>
Figure 4-3&#160;&#160;Event De-bouncing&#160;via time based algorithm&#160;<br/>
<b>4.6&#160;</b><br/>
<b>Error Handling&#160;</b><br/>
<b>4.6.1&#160;</b><br/>
<b>Development Error Reporting&#160;</b><br/>
Development errors are reported to DET&#160;using the service&#160;Det_ReportError(), when&#160;<br/>the pre-compile parameter&#160;DEM_DEV_ERROR_DETECT&#160;is set to&#160;STD_ON.&#160;<br/>
This parameter is preconfigured and automatically generated into Dem_Cfg.h. If activated,&#160;<br/>the file Dem.c will include the file Det.h to get&#160;the necessary prototype for above function&#160;<br/><a href="TechnicalReference_Asr_Dems.html#3">(see&#160;[2]</a>&#160;for more details).&#160;<br/>This include is an extension to&#160;AUTOSAR’s code/header&#160;file structure.&#160;<br/>
The reported&#160;ModuleId&#160;is&#160;DEM_MODULE_ID&#160;(54 dec).&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
21&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-22_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
The reported service IDs identify the services which are described in&#160;<a href="TechnicalReference_Asr_Dems.html#39">6.2</a>. The&#160;following&#160;<br/>table presents the service IDs, the related services and corresponding errors:&#160;<br/>
<b>Servi</b><br/>
<b>Service&#160;</b><br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ce ID&#160;</b><br/>
0x00&#160;Dem_GetVersionInfo&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address for out parameter&#160;<br/>
ADDRESS&#160;<br/>
versioninfo&#160;invalid&#160;<br/>
0x01&#160;&#160;Dem_PreInit&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
Vehicle System Group (VSG) mode: &#160;<br/>
CONFIG&#160;<br/>
no configuration defined&#160;at all – given&#160;<br/>parameter is invalid&#160;<br/>
0x02&#160;&#160;Dem_Init&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
Invalid config:&#160;Dem_PBCfg.c&#160;was&#160;<br/>
CONFIG&#160;<br/>
compiled with&#160;different size&#160;for type&#160;<br/>Dem_EventIdType (typedef'd by RTE)&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid config:&#160;Dem_PBCfg.c&#160;was&#160;<br/>
DATA&#160;<br/>
generated for a different DEM version&#160;<br/>
0x03&#160;&#160;Dem_Shutdown&#160;<br/>
-&#160;-&#160;<br/>
-&#160;<br/>
0x04&#160;Dem_SetEventStatus&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;or invalid&#160;<br/>
DATA&#160;<br/>
EventStatus&#160;<br/>
&#160;&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
&#160;&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
0x05&#160;&#160;Dem_ResetEventStatus&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
&#160;<br/>
&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
0x06&#160;&#160;Dem_PrestoreFreezeFrame&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
EventId&#160;is not configured&#160;for&#160;<br/>
CONFIG&#160;<br/>
prestoring FreezeFrame&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
0x07&#160;&#160;Dem_ClearPrestoredFreezeFrame&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
EventId&#160;is not configured&#160;for&#160;<br/>
CONFIG&#160;<br/>
prestoring FreezeFrame&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
22&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-23_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Servi</b><br/>
<b>Service&#160;</b><br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ce ID&#160;</b><br/>
0x08&#160;&#160;Dem_SetOperationCycleState&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
OperationCycleId&#160;is&#160;not&#160;<br/>
CONFIG&#160;<br/>
configured&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;CycleState&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x0A&#160;&#160;Dem_GetEventStatus&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
&#160;&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
0x0B&#160;&#160;Dem_GetEventFailed&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
&#160;&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
0x0C&#160;&#160;Dem_GetEventTested&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;<br/>
CONFIG&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
&#160;&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
0x0D&#160;&#160;Dem_GetDTCOfEvent&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;or DTC number not&#160;<br/>
CONFIG&#160;<br/>
configured&#160;for&#160;EventId&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
&#160;&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
0x0E&#160;&#160;Dem_GetSeverityOfDTC&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
ADDRESS&#160;<br/>
DTCSeverity&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x0F&#160;&#160;Dem_ReportErrorStatus&#160;<br/>
0x0F&#160;DEM_E_QUEUE_&#160;<br/>
API service&#160;call could not be added to&#160;<br/>
OVERFLOW&#160;<br/>
the action queue (overflow) &#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventStatus&#160;or&#160;EventId&#160;&#160;<br/>
DATA&#160;<br/>
&#160;&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
23&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-24_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Servi</b><br/>
<b>Service&#160;</b><br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ce ID&#160;</b><br/>
0x13&#160;&#160;Dem_SetDTCFilter&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
Invalid argument(s)&#160;<br/>
&#160;&#160;&#160;<br/>
CONFIG&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x14&#160;&#160;Dem_SetViewFilter&#160;<br/>
-&#160;-&#160;<br/>
-&#160;<br/>
0x15&#160;&#160;Dem_GetStatusOfDTC&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCOrigin&#160;<br/>
CONFIG&#160;<br/>
&#160;<br/>
&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
ADDRESS&#160;<br/>
DTCStatus&#160;invalid&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x16&#160;&#160;Dem_GetDTCStatusAvailabilityMask&#160;0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
ADDRESS&#160;<br/>
DTCStatusMask&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x17&#160;&#160;Dem_GetNumberOfFilteredDTC&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
ADDRESS&#160;<br/>
NumberOfFilteredDTC&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x18&#160;&#160;Dem_GetNextFilteredDTC&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;DTC&#160;or&#160;<br/>
ADDRESS&#160;<br/>
DTCStatus&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x19&#160;&#160;Dem_GetDTCByOccurrenceTime&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;DTC&#160;invalid&#160;<br/>
ADDRESS&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCRequest&#160;or&#160;DTCKind&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x1A&#160;&#160;Dem_DisableDTCRecordUpdate&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x1B&#160;&#160;Dem_EnableDTCRecordUpdate&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x1C&#160;&#160;Dem_GetDTCOfFreezeFrame&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;DTC&#160;invalid<br/>
Record&#160;<br/>
ADDRESS&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCOrigin&#160;or&#160;DTCKind&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x1D&#160;&#160;Dem_GetFreezeFrameDataByDTC&#160;&#160;0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
ADDRESS&#160;<br/>
DestBuffer&#160;or inout parameter&#160;<br/>BufSize&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCOrigin&#160;or&#160;DTCKind&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
24&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-25_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Servi</b><br/>
<b>Service&#160;</b><br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ce ID&#160;</b><br/>
0x1E&#160;&#160;Dem_GetFreezeFrameDataIdentifier&#160;0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
ByDTC&#160;<br/>
ADDRESS&#160;<br/>
ArraySize&#160;or&#160;DataId&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCOrigin&#160;or&#160;DTCKind&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x1F&#160;&#160;Dem_GetSizeOfFreezeFrame&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
ADDRESS&#160;<br/>
SizeOfFreezeFrame&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCOrigin&#160;or&#160;DTCKind&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x20&#160;&#160;Dem_GetExtendedDataRecordBy&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
DTC&#160;<br/>
ADDRESS&#160;<br/>
DestBuffer&#160;or inout parameter&#160;<br/>BufSize&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCOrigin&#160;or&#160;DTCKind&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x21&#160;&#160;Dem_GetSizeOfExtendedData&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;<br/>
RecordByDTC&#160;<br/>
ADDRESS&#160;<br/>
SizeOfExtendedDataRecord&#160;<br/>invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCOrigin&#160;or&#160;DTCKind&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x22&#160;&#160;Dem_ClearDTC&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCOrigin&#160;or&#160;DTCKind&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x24&#160;&#160;Dem_DisableDTCStorage&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCKind&#160;or&#160;DTCGroup&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x25&#160;&#160;Dem_EnableDTCStorage&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCKind&#160;or&#160;DTCGroup&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x26&#160;&#160;Dem_DisableEventStatusUpdate&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCKind&#160;or&#160;DTCGroup&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x27&#160;&#160;Dem_EnableEventStatusUpdate&#160;<br/>
0x12&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;DTCKind&#160;or&#160;DTCGroup&#160;<br/>
DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
25&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-26_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Servi</b><br/>
<b>Service&#160;</b><br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ce ID&#160;</b><br/>
0x29&#160;&#160;Dem_GetIndicatorStatus&#160;<br/>
0x93&#160;DEM_E_TOO_&#160;<br/>
Too many indicators&#160;configured&#160;(&gt;&#160;<br/>
MANY_INDICATOR&#160;65534) &#160;<br/>_IDS&#160;<br/>
0x36&#160;&#160;Dem_GetViewIDOfDTC&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;ViewId&#160;<br/>
ADDRESS&#160;<br/>
invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x37&#160;&#160;Callback&#160;<br/>
0x30&#160;DEM_E_NODATAAV&#160;Configured&#160;function&#160;<br/>
GetExtendedDataRecord<i>{record-</i><br/>
AILABLE&#160;<br/>
Xxx_DemGetExtendedDataRecord<br/>
<i>Number}</i>&#160;<br/>
<i>{recordNumber}</i>()&#160;returned&#160;<br/>E_NOT_OK&#160;and DEM fills the record&#160;<br/>with dummy value&#160;0xFF&#160;<br/>
0x38&#160;&#160;Dem_SetValueByOemId&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address for out parameter&#160;<br/>
ADDRESS&#160;<br/>
DataValue&#160;invalid&#160;<br/>
0x39&#160;&#160;Dem_SetEnableCondition&#160;<br/>
-&#160;-&#160;<br/>
-&#160;<br/>
0x3A&#160;&#160;Dem_GetNextFilteredRecord&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;DTC&#160;or&#160;<br/>
ADDRESS&#160;<br/>
SnapshotRecord&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x3B&#160;&#160;Dem_GetNextFilteredDTCAndFDC&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;DTC&#160;or&#160;<br/>
ADDRESS&#160;<br/>
DTCFaultDetectionCounter&#160;<br/>invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x3C&#160;&#160;Dem_GetTranslationType&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x3D&#160;&#160;Dem_GetNextFilteredDTCAnd&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address&#160;for out parameter&#160;DTC,&#160;<br/>
Severity&#160;<br/>
ADDRESS&#160;<br/>
DTCStatus, DTCSeverity&#160;or&#160;<br/>DTCFunctionalUnit&#160;invalid&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0x3E&#160;&#160;Dem_GetFaultDetectionCounter&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;<br/>
CONFIG&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
&#160;&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
EventId&#160;is&#160;not active in current&#160;<br/>configuration&#160;<br/>
0x3F&#160;&#160;Dem_SetDTCFilterForRecords&#160;<br/>
0x11&#160;DEM_E_PARAM_&#160;<br/>
Address for out parameter&#160;<br/>
ADDRESS&#160;<br/>
NumberOfFilteredRecords&#160;invalid<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
26&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-27_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Servi</b><br/>
<b>Service&#160;</b><br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ce ID&#160;</b><br/>
0x55&#160;&#160;Dem_MainFunction&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode: a&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
module called&#160;API&#160;<br/>Dem_SetEventStatus()&#160;or &#160;API&#160;<br/>Dem_ReportErrorStatus()&#160;<br/>with an&#160;EventId, which is&#160;not active&#160;<br/>in current configuration&#160;<br/>
Table 4-3&#160;&#160;&#160;Mapping of Service IDs to&#160;Services and Corresponding Errors&#160;<br/>
The reported service IDs identify the services which are described in&#160;<a href="TechnicalReference_Asr_Dems.html#39">6.2</a>. The&#160;following&#160;<br/>table presents the service IDs of&#160;APIs not defined by&#160;AUTOSAR, the related services and&#160;<br/>corresponding errors:&#160;<br/>
<b>Servi</b><br/>
<b>Service&#160;</b><br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ce ID&#160;</b><br/>
0xE1&#160;&#160;Dem_GetOccurrenceCounter&#160;<br/>
0x10&#160;DEM_E_PARAM_&#160;<br/>
Invalid&#160;EventId&#160;<br/>
CONFIG&#160;<br/>
&#160;<br/>
&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM&#160;<br/>module has been initialized&#160;<br/>
0xFE&#160;&#160;Dem_InitDiagnosticVariant&#160;<br/>
0x96&#160;DEM_E_NOT_IN_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;<br/>
ACTIVE_VARIANT&#160;<br/>
API&#160;was called&#160;twice or&#160;API&#160;was&#160;called&#160;<br/>after calling&#160;Dem_PreInit()&#160;<br/>
Table 4-4&#160;&#160;&#160;Mapping of additional Service IDs to Services and Corresponding Errors&#160;<br/>
The errors reported to DET&#160;are described in the following table:&#160;<br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x10&#160;&#160;DEM_E_PARAM_CONFIG&#160;<br/>
API service&#160;called with&#160;wrong parameter&#160;– configuration error&#160;<br/>
0x11&#160;<br/>
DEM_E_PARAM_ADDRESS&#160;<br/>
API service&#160;called with invalid address&#160;<br/>
0x12&#160;&#160;DEM_E_PARAM_DATA&#160;<br/>
API service&#160;called with&#160;wrong parameter&#160;– invalid value&#160;<br/>
0x13&#160;DEM_E_PARAM_LENGTH&#160;<br/>
API&#160;<br/>
service&#160;<br/>
called&#160;<br/>
with&#160;wrong parameter&#160;– invalid length&#160;<br/>
0x20&#160;DEM_E_UNINIT&#160;<br/>
API service&#160;called before the DEM module has been initialized<br/>
0x30&#160;&#160;DEM_E_NODATAAVAILABLE&#160;<br/>
No valid data&#160;available by the SW-C&#160;<br/>
0x96&#160;&#160;DEM_E_NOT_IN_ACTIVE_&#160;<br/>
Vehicle System Group (VSG) mode:&#160;EventId&#160;is&#160;not active in&#160;<br/>
VARIANT&#160;<br/>
current configuration&#160;<br/>
Table 4-5&#160;&#160;&#160;Errors Reported&#160;to DET&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
27&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-28_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
Internal debug codes of the DEM use the range&#160;0x80…0x9F to report errors to the DET:&#160;<br/>
<b>Error Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x82&#160;DEM_E_DTC_NOT_FOUND&#160;<br/>
No DTC found for&#160;EventId&#160;<br/>
0x83&#160;DEM_E_ERASING_EMPTY_STACK&#160;<br/>
No&#160;<br/>
entry&#160;<br/>
found in chrono&#160;stack / primary memory&#160;<br/>
0x86&#160;DEM_E_INV_CSTACK_REF&#160;<br/>
Invalid&#160;<br/>
chrono stack&#160;/ primary memory reference&#160;<br/>
0x89&#160;DEM_E_INV_SFN&#160;<br/>
EventId&#160;beyond configured&#160;range&#160;<br/>
0x8F&#160;DEM_E_INV_SNAPSHOT_NUM&#160;<br/>
Snapshot record number&#160;/ freeze frame&#160;record&#160;<br/>number beyond configured&#160;range&#160;<br/>
0x90&#160;&#160;DEM_E_ZEROPTR_SOURCE&#160;<br/>
Source address for moving&#160;data NULL&#160;<br/>
0x91&#160;&#160;DEM_E_ZEROPTR_TARGET&#160;<br/>
Target address for moving&#160;data NULL&#160;<br/>
0x92&#160;Dem_E_TOO_MANY_DIDS_FOR_EVENT&#160;Number&#160;<br/>
of DIDs&#160;for event exceeds&#160;maximum&#160;<br/>
0x93&#160;DEM_E_TOO_MANY_INDICATOR_IDS&#160;&#160;Too many indicators&#160;configured&#160;<br/>0x95&#160;DEM_E_INV_TIMER_SLOT_VAL&#160;<br/>
Invalid timer slot value for&#160;the timer based de-bounce&#160;<br/>algorithm&#160;<br/>
Table 4-6&#160;&#160;&#160;Errors Reported&#160;to DET&#160;– Internal Debug Codes&#160;<br/>
<b>4.6.1.1&#160;</b><br/>
<b>Parameter Checking &#160;</b><br/>
AUTOSAR requires that&#160;API functions check&#160;the validity&#160;of their parameters.&#160;The checks in&#160;<br/><a href="TechnicalReference_Asr_Dems.html#30">Table 4-7</a>&#160;are internal parameter checks of the&#160;API functions.&#160;AUTOSAR standard requires&#160;<br/>to en-/disable the complete parameter checking via the parameter&#160;<br/>DEM_DEV_ERROR_DETECT.&#160;<br/>
&#160;<br/>The following table shows which parameter&#160;checks are performed on which services:&#160;<br/>
<b>Check&#160;</b><br/>
&#160;<br/>
tatus&#160;<br/>
fset&#160;<br/>
&#160;<br/>
entId&#160;<br/>
ig.Dem_&#160;<br/>
ig.Dem_&#160;<br/>
ferOf<br/>
&#160;<br/>
zationS<br/>
s&#160;<br/>
ycleId&#160;<br/>
tatus&#160;<br/>
eofEv<br/>
Conf<br/>
der&#160;<br/>
Conf<br/>
FBuf<br/>
C<br/>
<b>Service&#160;</b><br/>
tatu<br/>
railer&#160;<br/>
ninfo&#160;<br/>
tate&#160;<br/>
gLea<br/>
gT<br/>
reF<br/>
entId&#160;<br/>
lockS<br/>
e&#160;<br/>
cleS<br/>
Dem_Initiali<br/>
Ev<br/>
EventS<br/>
versio<br/>
nvB<br/>
Dem_Siz<br/>
Typ<br/>
Dem_PB<br/>
PBCf<br/>
Dem_PB<br/>
PBCf<br/>
Presto<br/>
Operation<br/>
Cy<br/>
Dem_GetVersionInfo&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_PreInit&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_Init&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_Shutdown&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_SetEventStatus&#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_ResetEventStatus&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_PrestoreFreezeFrame&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_ClearPrestoredFreezeFrame&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_SetOperationCycleState&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
Dem_GetEventStatus&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetEventFailed&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
28&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-29_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Check&#160;</b><br/>
&#160;<br/>
tatus&#160;<br/>
fset&#160;<br/>
&#160;<br/>
entId&#160;<br/>
ig.Dem_&#160;<br/>
ig.Dem_&#160;<br/>
ferOf<br/>
&#160;<br/>
zationS<br/>
s&#160;<br/>
ycleId&#160;<br/>
tatus&#160;<br/>
eofEv<br/>
Conf<br/>
der&#160;<br/>
Conf<br/>
FBuf<br/>
C<br/>
<b>Service&#160;</b><br/>
tatu<br/>
railer&#160;<br/>
ninfo&#160;<br/>
tate&#160;<br/>
gLea<br/>
gT<br/>
reF<br/>
entId&#160;<br/>
lockS<br/>
e&#160;<br/>
cleS<br/>
Dem_Initiali<br/>
Ev<br/>
EventS<br/>
versio<br/>
nvB<br/>
Dem_Siz<br/>
Typ<br/>
Dem_PB<br/>
PBCf<br/>
Dem_PB<br/>
PBCf<br/>
Presto<br/>
Operation<br/>
Cy<br/>
Dem_GetEventTested&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Check&#160;</b><br/>
&#160;<br/>
tatus&#160;<br/>
ction&#160;<br/>
&#160;<br/>
ete<br/>
&#160;<br/>
D<br/>
&#160;<br/>
zationS<br/>
verity&#160;<br/>
s&#160;<br/>
gin&#160;<br/>
erity<br/>
rFault<br/>
<b>Service&#160;</b><br/>
tatu<br/>
nd&#160;<br/>
ev<br/>
alue&#160;<br/>
nter&#160;<br/>
entId&#160;<br/>
aV<br/>
Dem_Initiali<br/>
Ev<br/>
EventS<br/>
DTCKi<br/>
DTCOri<br/>
DTCS<br/>
DTC&#160;<br/>
Dat<br/>
indicatorRef&#160;<br/>
FilterWithSe<br/>
FilterFo<br/>
Cou<br/>
Dem_GetDTCOfEvent&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_SetValueByOemId&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_SetEnableCondition&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetFaultDetectionCounter&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetIndicatorStatus&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_ReportErrorStatus&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_SetDTCFilter&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
rd<br/>
<b>Check&#160;</b><br/>
co<br/>
C&#160;<br/>
&#160;<br/>
tatus&#160;<br/>
Re<br/>
DT<br/>
&#160;<br/>
k&#160;<br/>
&#160;<br/>
as<br/>
cord&#160;<br/>
&#160;<br/>
zationS<br/>
st<br/>
M<br/>
Re<br/>
<b>Service&#160;</b><br/>
nd&#160;<br/>
gin&#160;<br/>
que<br/>
tatus&#160;<br/>
erOfFiltered<br/>
tatus<br/>
erOfFiltered<br/>
Id&#160;<br/>
shot<br/>
ew<br/>
Dem_Initiali<br/>
DTC&#160;<br/>
DTCKi<br/>
DTCOri<br/>
DTCS<br/>
DTCRe<br/>
Numb<br/>
s&#160;<br/>
DTCS<br/>
Numb<br/>
Vi<br/>
Snap<br/>
Dem_SetDTCFilterForRecords&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_SetViewFilter&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetStatusOfDTC&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetDTCStatusAvailabilityMask&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetNumberOfFilteredDTC&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetNextFilteredDTC&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetDTCByOccurrenceTime&#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetViewIDOfDTC&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
Dem_GetNextFilteredRecord&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
29&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-30_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-30_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Check&#160;</b><br/>
un<br/>
&#160;<br/>
tatus&#160;<br/>
Co<br/>
&#160;<br/>
ection<br/>
zationS<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
et<br/>D<br/>
gin&#160;<br/>
erity<br/>
erity<br/>
fer&#160;<br/>
<b>Service&#160;</b><br/>
nd&#160;<br/>
tatus&#160;<br/>
ev<br/>
ev<br/>
e&#160;<br/>
stBuf<br/>
Dem_Initiali<br/>
DTC&#160;<br/>
DTCKi<br/>
DTCOri<br/>
DTCS<br/>
DTCFault<br/>
ter&#160;<br/>
DTCS<br/>
DTCFunctionalUnit&#160;<br/>
DTCS<br/>
De<br/>
BufSiz<br/>
Dem_GetNextFilteredDTCAndFDC&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetNextFilteredDTCAndSeverit<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
y&#160;<br/>Dem_GetTranslationType&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetSeverityOfDTC&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_DisableDTCRecordUpdate&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_EnableDTCRecordUpdate&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetDTCOfFreezeFrameRecord&#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetFreezeFrameDataByDTC&#160;<br/>
 &#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
<b>Check&#160;</b><br/>
ec<br/>
&#160;<br/>
tatus&#160;<br/>
aR<br/>
&#160;<br/>
Frame&#160;<br/>
edDat<br/>
&#160;<br/>
zationS<br/>
ze<br/>
nd<br/>
e&#160;<br/>
ree<br/>
fer&#160;<br/>
<b>Service&#160;</b><br/>
nd&#160;<br/>
gin&#160;<br/>
tatus&#160;<br/>
e&#160;<br/>
ySiz<br/>
aId&#160;<br/>
stBuf<br/>
Dem_Initiali<br/>
DTCKi<br/>
DTCOri<br/>
DTCS<br/>
Arra<br/>
Dat<br/>
SizeOfF<br/>
De<br/>
BufSiz<br/>
SizeOfExte<br/>
ord&#160;<br/>
DTCGroup&#160;<br/>
Dem_GetFreezeFrameDataIdentifierB<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
yDTC&#160;<br/>Dem_GetSizeOfFreezeFrame&#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_GetExtendedDataRecordByDT<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
C&#160;<br/>Dem_GetSizeOfExtendedDataRecord<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
ByDTC&#160;<br/>Dem_ClearDTC&#160;<br/>
 &#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Dem_DisableDTCStorage&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
Dem_EnableDTCStorage&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
Dem_DisableEventStatusUpdate&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
Dem_EnableEventStatusUpdate&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
Table 4-7&#160;&#160;&#160;Development Error Reporting:&#160;Assignment of Checks to Services&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Using the DEM&#160;APIs with disabled DET&#160;and invalid parameters may result in an&#160;<br/>
<b>&#160;&#160;</b>undefined behavior.&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
30&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-31_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-31_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>4.6.2&#160;</b><br/>
<b>Production Code Error Reporting&#160;</b><br/>
DEM does not report any production code related errors.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Production&#160;errors in general are errors which shall be saved&#160;through the&#160;DEM by&#160;<br/>
&#160;&#160;definition. Errors of DEM itself occurring during normal operation are not&#160;saved.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
31&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-32_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>5&#160;&#160;Integration&#160;</b><br/>
This chapter gives necessary information for&#160;the integration of the MICROSAR DEM into&#160;<br/>an application environment of an ECU.&#160;<br/>
<b>5.1&#160;</b><br/>
<b>Scope of Delivery&#160;</b><br/>
The delivery of the DEM contains the files which are descri<a href="TechnicalReference_Asr_Dems.html#32">bed in the chapters&#160;5.1.1</a>&#160;and&#160;<br/><a href="TechnicalReference_Asr_Dems.html#32">5.1.2</a>.&#160;<br/>
<b>5.1.1&#160;</b><br/>
<b>Static Files&#160;</b><br/>
<b>File Name&#160;</b><br/>
<b>Description&#160;</b><br/>
Dem.c&#160;<br/>
This is the source file of&#160;the DEM. It&#160;contains the&#160;main functionality of the DEM.&#160;<br/>
Dem.h&#160;<br/>
This is the header file of&#160;the DEM. It&#160;provides the DEM&#160;API functions to other&#160;<br/>modules.&#160;<br/>
Dem_Types.h&#160;&#160;This is a&#160;header file of the DEM. It contains all DEM data types.&#160;<br/>
Table 5-1&#160;&#160;&#160;Static Files of Delivery&#160;<br/>
&#160;<br/>
<b>5.1.2&#160;</b><br/>
<b>Dynamic Files&#160;</b><br/>
The dynamic files are generated by&#160;the configuration tool GENy.&#160;<br/>
<b>File Name&#160;</b><br/>
<b>Description&#160;</b><br/>
Dem_PBcfg.c&#160;<br/>
This is a&#160;source file of the generated part of the DEM. It contains the post-build&#160;<br/>configuration of the DEM.&#160;<br/>
Dem_PBcfg.h&#160;<br/>
This is a&#160;header file of the generated part of the DEM. It contains the post-build&#160;<br/>time configurable parameters.&#160;<br/>
Dem_Lcfg.c&#160;<br/>
This is a&#160;source file of the generated part of the DEM. It contains the link-time&#160;<br/>configuration of the DEM.&#160;<br/>
Dem_Lcfg.h&#160;<br/>
This is a&#160;header file of the generated part of the DEM. It contains the link-time&#160;<br/>configurable&#160;parameters.&#160;<br/>
Dem_Cbk.h&#160;<br/>
This is a&#160;header file of the generated part of the DEM. It contains prototypes of&#160;<br/>callback functions offered by other components (replacement for DEM's&#160;ClientPort&#160;<br/>when no RTE available).&#160;<br/>&#160;<br/>
-&#160;&#160;Only generated when RTE is&#160;<b>not</b>&#160;part of the configuration -&#160;<br/>
&#160;<br/>
Dem_swc.arxml&#160;&#160;This file&#160;is used for the&#160;RTE generation. It contains the information to get&#160;<br/>
prototypes of callback functions offered by other components.&#160;<br/>&#160;<br/>
- Only generated when RTE is part of the configuration -&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
32&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-33_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>File Name&#160;</b><br/>
<b>Description&#160;</b><br/>
Dem_Cfg.h&#160;<br/>
This is a&#160;header file of the generated part of the DEM. It contains the DEM&#160;<br/>precompiled parameters.&#160;<br/>
Dem_IntErrId.h&#160;<br/>
This is a&#160;header file of the generated part of the DEM. It contains the BSW event Id&#160;<br/>symbols.&#160;<br/>
Dem_IntEvtId.h&#160;<br/>
This is a&#160;header file of the generated part of the DEM. It contains the SW_C event&#160;<br/>Id symbols.&#160;<br/>
Table 5-2&#160;&#160;&#160;Generated (Dynamic) Files of Delivery&#160;<br/>
&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Include Structure &#160;</b><br/>
<b>dm&#160;DEM&#160;3.0 Include Structure</b><br/>
<b>FiM.h {R3.0}</b><br/>
«include»<br/>
<b>Dem&#160;.c</b><br/>
«include»<br/>
<b>EcuM_&#160;Cbk.h</b><br/>
«include»<br/>
«include»<br/>
<b>SchM_&#160;Dem.h</b><br/>
<b>Nv&#160;M.h&#160;{R3.0}</b><br/>
Legend:<br/>
«include»<br/>
* &#160;&#160; generated&#160;file<br/>
«include»<br/>
{DEM_DEV_ERROR_DETECT}<br/>
{}&#160; constraint<br/>
MemMap.h&#160;is&#160;included&#160;by:<br/>
<b>MemMap.h&#160;{R3.0}</b><br/>
dem.c,&#160;dem_lcfg.c,&#160;dem_pbcfg.c,<br/>
«include»<br/>
<b>Det.h</b><br/>
dem_types.h, dem_lcfg.h,&#160;<br/>dem_pbcfg.h<br/>
«include»<br/>
<b>Std_Types.h</b><br/>
«include»<br/>
«include»<br/>
choose&#160;by&#160;preconfig:<br/>
<b>Dem_IntE&#160;rrId.h&#160;*</b><br/>
#define&#160;DEM_USE_RTE&#160;STD_ON<br/>#define&#160;DEM_USE_RTE&#160;STD_OFF<br/>
<b>Dem_Cfg.h *</b><br/>
«include»<br/>
<b>notes</b><br/>
<i>BSW&#160;event ID&#160;symbols</i><br/>
{with&#160;RTE<br/>
«include»<br/>
«include»<br/>
(for&#160;consistency check)}<br/>
{with&#160;DEM_CONFIGURATIO_VARIANT2&#160;<br/>
<b>Dem&#160;.h</b><br/>
(post-build)}<br/>
«include»<br/>
«include»<br/>
<b>Dem_IntE&#160;v&#160;tId.h&#160;*</b><br/>
{without RTE}:<br/>
<b>Dem_Types.h</b><br/>
«include»<br/>
additionally&#160;contains&#160;#defines&#160;and&#160;<br/>typedefs&#160;equivalent&#160;to&#160;Rte_Type.h<br/>
<b>notes</b><br/>
«include»<br/>
<i>other&#160;event&#160;ID&#160;symbols</i><br/>
{with&#160;RTE}<br/>
<b>Rte_Type.h&#160;*</b><br/>
<b>Dem_Lc&#160;fg.h&#160;*</b><br/>
<b>Dem_PBc&#160;fg.c&#160;*</b><br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»«include»&#160;«include»<br/>
<b>Rte_De&#160;m.h&#160;*</b><br/>
{with&#160;RTE}<br/>
«include»<br/>
<b>Dem_Lc&#160;fg.c&#160;*</b><br/>
<b>Dem_PBc&#160;fg.h *</b><br/>
«include»<br/>
{without&#160;RTE}<br/>
«include»<br/>
<b>Dem_Cbk.h *</b><br/>
<b>notes</b><br/>
<i>Callback Prototypes&#160;for<br/>(external)&#160;ServerPorts&#160;<br/>used&#160;by&#160;DEM</i><br/>
&#160;<br/>
Figure 5-1&#160;&#160;Include Structure&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
33&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-34_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>5.3&#160;</b><br/>
<b>Compiler Abstraction and Memory&#160;Mapping &#160;</b><br/>
The objects (e.g. variables, functions, constants) are declared by compiler&#160;independent&#160;<br/>definitions – the compiler abstraction definitions. Each compiler abstraction definition is&#160;<br/>assigned to a memory section.&#160;<br/>The following table contains the memory&#160;section names and the compiler abstraction&#160;<br/>definitions defined for the DEM and illustrates their assignment among each other.&#160;<br/>
&#160;<br/>
<b>Compiler Abstraction</b><br/>
AST<br/>
<b>Definitions</b><br/>
<b>&#160;</b><br/>
INIT_F<br/>
TA&#160;<br/>
&#160;<br/>
O<br/>
OINIT&#160;<br/>
N<br/>
N<br/>
&#160;<br/>
DE&#160;<br/>
R_<br/>
R&#160;<br/>
R_<br/>
NST&#160;<br/>
A<br/>
A<br/>
A<br/>
CO<br/>
CO<br/>
<b>Memory&#160;Mapping&#160;</b><br/>
<b>Sections&#160;</b><br/>
DEM_<br/>
DEM_V<br/>
DEM_V<br/>
DEM_V<br/>
DEM_<br/>
DEM_APPL_CONST&#160;<br/>
DEM_APPL_DA<br/>
DEM_PBCFG&#160;<br/>
DEM_START_SEC_CODE&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_CODE&#160;<br/>
DEM_START_SEC_CONST_LCFG&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_CONST_LCFG&#160;<br/>
DEM_START_SEC_PBCONST&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
DEM_STOP_SEC_PBCONST&#160;<br/>
DEM_START_SEC_CONST_8BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_CONST_8BIT&#160;<br/>
DEM_START_SEC_CONST_32BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_CONST_32BIT&#160;<br/>
DEM_START_SEC_CONST_UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_CONST_UNSPECIFIED&#160;<br/>
DEM_START_SEC_VAR_8BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_VAR_8BIT&#160;<br/>
DEM_START_SEC_VAR_FAST_8BIT&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_VAR_FAST_8BIT&#160;<br/>
DEM_START_SEC_VAR_NOINIT_8BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_VAR_NOINIT_8BIT&#160;<br/>
DEM_START_SEC_VAR_NOINIT_16BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_VAR_NOINIT_16BIT&#160;<br/>
DEM_START_SEC_VAR_NOINIT_UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
DEM_STOP_SEC_VAR_NOINIT_UNSPECIFIED&#160;<br/>
DEM_START_SEC_VAR_SAVED_ZONE0_UNSPECIFIED<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
 &#160;<br/>
&#160;<br/>
DEM_STOP_SEC_VAR_SAVED_ZONE0_UNSPECIFIED&#160;<br/>
Table 5-3&#160;&#160;&#160;Compiler&#160;Abstraction and Memory&#160;Mapping&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
34&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-35_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-35_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>5.4&#160;</b><br/>
<b>Critical Sections&#160;</b><br/>
To&#160;protect internal data structures against&#160;unwanted modification, the DEM uses “Critical&#160;<br/>Sections” for blocking concurrent&#160;access.&#160;Typically the function&#160;Dem_EnterCritical()&#160;<br/>disables interrupt or the task switching and&#160;Dem_LeaveCritical()&#160;re-enables it again.&#160;<br/>
Dependent&#160;on the customer’s requirements,&#160;the delivery uses one of the following&#160;<br/>methods to handle the critical sections (the evaluation bundle has&#160;implemented&#160;AUTOSAR&#160;<br/>Schedule Manager). Look in file Dem.c section “INCLUDES” for your solution.&#160;<br/>
-&#160;&#160;Vector standard library (VStdLib.h is included)&#160;<br/>-&#160;&#160;AUTOSAR Schedule Manager&#160;(SchM_Dem.h is included)&#160;<br/>-&#160;&#160;Disable interrupts in CAN-Driver (can.h is included)&#160;<br/>
There are two issues you should take special care with the critical sections: first the startup&#160;<br/>phase of the ECU, when the implementation of the EnterCritical/LeaveCritical functions&#160;<br/>must be operable i.e. the component implementing them (e.g.&#160;AUTOSAR Schedule&#160;<br/>Manager) must be already started. Second, when the DEM uses callback functions (e.g.&#160;<br/>Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged()), as these callbacks&#160;<br/>are triggered inside the critical section.&#160;<br/>&#160;<br/>
<b>5.4.1&#160;</b><br/>
<b>Startup Phase&#160;</b><br/>
In&#160;AUTOSAR’s “STARTUP_1” phase DEM’s pre-init function&#160;Dem_PreInit()&#160;is called&#160;<br/>before starting the OS. Now DEM is able to collect events from other SW-C modules via&#160;<br/>Dem_ReportErrorStatus()&#160;and store them in a queue.&#160;This queue is protected against&#160;<br/>concurrent access by using a critical section.&#160;<br/>This critical section must be&#160;handled specially.&#160;A&#160;typical implementation for EnterCritical()&#160;<br/>uses methods of the OS (semaphore, mutex, interrupt blocking,&#160;…) but at this time during&#160;<br/>startup the OS isn’t initialized and is not running yet!&#160;<br/>Most times, this is no problem as there is&#160;no task switch possible and the interrupts are&#160;<br/>disabled (until in STARTUP_2 phase&#160;Dem_Init()&#160;is called and the queue is switched&#160;<br/>off), so the function&#160;Dem_ReportErrorStatus()&#160;and therefore the contained critical&#160;<br/>section can never be interrupted. In this case you could use an empty implementation for&#160;<br/>the Enter/LeaveCritical function.&#160;<br/>But your startup may differ, thus this critical section handling is implemented as&#160;<br/>Dem_EnterCritical_PreInit() / Dem_LeaveCritical_PreInit() and when&#160;<br/>using the&#160;AUTOSAR Schedule Manager&#160;these macros are mapped to the&#160;<br/>DEM_EXCLUSIVE_AREA_1. &#160;<br/>All other critical section handling is implemented as&#160;Dem_EnterCritical() /&#160;<br/>Dem_LeaveCritical()&#160;and when using the&#160;AUTOSAR Schedule Manager these&#160;<br/>macros are mapped to the&#160;DEM_EXCLUSIVE_AREA_0.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Check your startup sequence and take special care for the correct handling of critical&#160;<br/>
<b>&#160;&#160;</b>sections between&#160;Dem_PreInit()&#160;and&#160;Dem_Init().&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
35&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-36_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-36_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>5.4.2&#160;</b><br/>
<b>Call of Callback Functions&#160;</b><br/>
When calling&#160;Dem_SetEventStatus()&#160;the DEM updates the status of the event during&#160;<br/>the next call of&#160;Dem_MainFunction(). It uses the configured (callback-) functions to get&#160;<br/>the environmental data to fill&#160;the extended data&#160;and snapshot record. Finally,&#160;the DEM&#160;<br/>calls configured (callback-) functions to notify the status change to other components.&#160;A&#160;<br/>similar sequence is executed when events are deleted or a new operation cycle is started&#160;<br/>– thereby after signalling the status change (as written above) some configured callbacks&#160;<br/>are used to trigger InitMonitor functions.&#160;<br/>It is almost always fatal to call these callback&#160;functions with disabled interrupts, e.g. inside&#160;<br/>a critical section.&#160;Therefore&#160;the critical section is left&#160;before the callback and re-entered&#160;<br/>afterwards. Meanwhile the data&#160;is protected against modification by blocking the status&#160;<br/>update (see&#160;<a href="TechnicalReference_Asr_Dems.html#79">API&#160;Dem_DisableEventStatusUpdate()&#160;chapter&#160;6.2.5.4.3</a>).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Neither call&#160;DEM&#160;API functions directly nor indirectly from inside callback functions,&#160;<br/>
<b>&#160;&#160;</b>which are triggered by the DEM itself.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Call Context&#160;</b><br/>
The DEM uses critical sections (see c<a href="TechnicalReference_Asr_Dems.html#35">hapter&#160;5.4</a>) to protect against&#160;simultaneous&#160;<br/>modification of internal data structures.&#160;<br/>The DEM uses many callback functions of other&#160;modules when collecting its data. E.g. for&#160;<br/>setting an event, it will call (potentially several times – dependent on the configuration)&#160;<br/>Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier()&#160;and&#160;<br/>Rte_Call_Dem_&lt;ConfiguredName&gt;_GetExtendedDataRecord()&#160;and&#160;<br/>Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged()&#160;and afterwards&#160;<br/>Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged().&#160;<br/>
All these&#160;callback&#160;calls&#160;will run&#160;in the call context of&#160;the caller of&#160;<br/>Dem_SetEventStatus()!&#160;<br/>
If one of the callbacks&#160;would directly or indirectly call&#160;Dem_SetEventStatus()&#160;again, we&#160;<br/>get an recursive call tree, that might&#160;cause a deadlock situation – dependent on the&#160;<br/>implementation of the protection of critical sections.&#160;<br/>To&#160;protect against this, the action to store&#160;data is executed during the next call of&#160;<br/>Dem_MainFunction()&#160;as described in chapter&#160;<a href="TechnicalReference_Asr_Dems.html#18">4.4.&#160;</a><br/>
To&#160;get data consistency of DEM and user data&#160;without globally&#160;disabling of interrupts, you&#160;<br/>must &#160;<br/>
<b>&gt;&#160;&#160;</b>not call DEM functions from inside a callback function, which was triggered from DEM,&#160;<br/>
<b>&gt;&#160;&#160;</b>not call different&#160;APIs that&#160;will access the same EventId.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
36&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-37_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-37_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-37_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Do link each&#160;Diagnostic&#160;Monitor only once to one&#160;client&#160;<br/>
<b>&#160;&#160;</b>You must not call different operations&#160;of a Diagnostic Monitor port interface&#160;<i>for the&#160;</i><br/>
<i>same event</i>&#160;simultaneously.&#160;<br/>You must not call the&#160;same operation of a Diagnostic Monitor port interface&#160;<i>for the&#160;<br/>same event</i>&#160;simultaneously.&#160;<br/>You must not use any operation of a&#160;Diagnostic&#160;Monitor port interface for&#160;an event that&#160;<br/>is modified&#160;by a BSW&#160;module using&#160;API Dem_ReportErrorStatus.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>5.6&#160;</b><br/>
<b>Scheduling of DEM and DCM&#160;</b><br/>
To&#160;get the data for the external tester responses, the DCM accesses&#160;APIs of the DEM.&#160;To&#160;<br/>avoid simultaneous data&#160;access, the DCM must not interrupt&#160;Dem_MainFunction().&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Possible implementation:&#160;<br/>
&#160;<br/>
-&#160;Configure&#160;<br/>
Dcm_StateTask()&#160;to the same priority as&#160;Dem_MainFunction()&#160;<br/>
and make sure, they cannot interrupt each other (e.g. use cooperative tasks or&#160;<br/>put both functions as&#160;sequence in a&#160;common SchM task)&#160;<br/>
Optionally: Configure&#160;Dcm_TimerTask()&#160;with higher priority&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
The&#160;API functions of the interface DCM – DEM&#160;must be&#160;called always from same context.&#160;<br/>Do not change between interrupt context / task&#160;context …&#160;This constraint will be always&#160;<br/>fulfilled if you’re using&#160;DCM from Vector.&#160;<br/>
<b>5.7&#160;</b><br/>
<b>NvRAM Demand&#160;</b><br/>
All data which shall be&#160;stored in the NvRAM&#160;are handled with the object&#160;Dem_NvData&#160;of&#160;<br/>the struct&#160;Dem_NonVolatileDataType.&#160;To&#160;get NvRAM demand (data structure size) of&#160;<br/>the DEM, temporarily add&#160;sizeof(Dem_NvData)&#160;to the source and read value after&#160;<br/>compilation (compiler and&#160;configuration dependent).&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
37&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-38_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-38_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Info&#160;<br/></b>There are pending discussions about the NVRAM&#160;manager interface, due to an&#160;<br/>
&#160;&#160;incomplete&#160;SWS specification. Final solution&#160;is postponed to&#160;AUTOSAR&#160;phase II.&#160;<br/>
Vector’s&#160;solution expects&#160;an updated RAM&#160;mirror before Dem_Init() is called, see&#160;<br/>chapter&#160;<a href="TechnicalReference_Asr_Dems.html#16">4.2&#160;and an auto</a>matic NVRAM updated after Dem_Shutdown() call<a href="TechnicalReference_Asr_Dems.html#38">2</a>&#160;(In&#160;<br/>Dem_Shutdown() the DEM&#160;marks its NvRAM Block IDs as 'Modified' by calling&#160;API&#160;<br/>NvM_SetRamBlockStatus().&#160;The following system shutdown sequence now will save&#160;<br/>the data by calling NvM_WriteAll().).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
2&#160;As specified&#160;by Dem170 and Dem102&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
38&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-39_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-39_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6&#160;&#160;API Description&#160;</b><br/>
<a href="TechnicalReference_Asr_Dems.html#14">For an interfaces overview see&#160;Figure 3-2</a>.&#160;<br/>
<b>6.1&#160;</b><br/>
<b>Type Definitions&#160;</b><br/>
<a href="TechnicalReference_Asr_Dems.html#3">The types defined by the DEM are described in&#160;[1]</a>. &#160;<br/>
<b>6.2&#160;</b><br/>
<b>Services Provided by&#160;DEM&#160;</b><br/>
The DEM&#160;API consists of services, which are realized by function calls.&#160;<br/>
<b>6.2.1&#160;</b><br/>
<b>Dem_GetVersionInfo&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Dem_GetVersionInfo</b>(&#160;<br/>&#160; &#160;Std_VersionInfoType * &#160;versioninfo&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x00&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
versioninfo&#160;<br/>
Pointer to where to store the version information of this module.&#160;<br/>
<b>Return code&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Functional Description&#160;</b><br/>
Returns the version information of this module.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-1&#160;<br/>
Dem_GetVersionInfo&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>In the description of this&#160;API in&#160;<a href="TechnicalReference_Asr_Dems.html#3">[1]</a>&#160;the parameter&#160;instanceID&#160;is missing.&#160;The&#160;<br/>
&#160;&#160;<a href="TechnicalReference_Asr_Dems.html#3">definition in&#160;[5]&#160;include</a>s&#160;this parameter.&#160;The implementation uses the definition in&#160;<a href="TechnicalReference_Asr_Dems.html#3">[5].&#160;</a><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>6.2.2&#160;</b><br/>
<b>Interface ECU State Manager&#160;</b>Ù<b>&#160;DEM&#160;</b><br/>
<b>6.2.2.1&#160;</b><br/>
<b>Dem_PreInit&#160;</b><br/>
For a description of the purpose and the argument<a href="TechnicalReference_Asr_Dems.html#3">s of the function, see&#160;[1].&#160;</a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
39&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-40_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
For supporting Multi Identity Mode (see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#94"><i>7.1.3&#160;Vehicle System Group (VSG) Mode</i>)&#160;<br/></a>the&#160;API was modified:&#160;<br/>
<b>Prototype&#160;<br/></b>Single Identity Mode&#160;<br/>
void&#160;<b>Dem_PreInit</b>&#160;(&#160;<br/>)&#160;<br/>
Multi Identity Mode &#160; &#160;or&#160;&#160; &#160;GENy setting: “Dem_PreInit() has config parameter”&#160;<br/>
void&#160;<b>Dem_PreInit</b>&#160;(&#160;<br/>&#160; const Dem_ConfigType * &#160;ActiveConfig&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x01&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
ActiveConfig&#160;<br/>
Pointer to one of the configuration sets&#160;declared in Dem_Lcfg.h.&#160;<br/>(The definition&#160;of the configurations is&#160;in Dem_Lcfg.c)&#160;<br/>
<b>Return code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional Description&#160;</b><br/>
If multiple configuration variants are supported, the&#160;base&#160;configuration variant parameter is expected by&#160;<br/>this&#160;API.&#160;The base variant&#160;object is declared in the&#160;Dem_Lcfg.h file in section “<b>Config Sets</b>”. Its actual&#160;<br/>name depends&#160;on your&#160;CDD settings.&#160;<br/>
&#160;<br/>
The multi identity (VSG) mode will be&#160;active only if&#160;the generated switch&#160;<br/>DEM_SUPPORT_VARIANT_HANDLING&#160;in (generated) file&#160;Dem_Cfg.h is set to&#160;STD_ON.&#160;<br/>
&#160;<br/>
If multiple identity (VSG) mode is active, this&#160;API&#160;must be called with&#160;the generated&#160;ConfigSet parameter&#160;<br/>declared in Dem_Lcfg.h file, e.g.:&#160;<br/>
Dem_PreInit(&amp;CommonDiagnostics);&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>To&#160;ease the development and permit the switch between single (or&#160;no) CDD variant and multiple CDD&#160;<br/>
variant without&#160;API change, GENy offers the checkbox “<i>Dem_PreInit() has config parameter</i>”.&#160;<br/>By activating this checkbox, you will always get the&#160;<i>Multi Identity Mode&#160;</i>API. When using Single Identity&#160;<br/>the parameter is mandatory but silently ignored.&#160;<br/>
<b>&gt;&#160;&#160;</b>You can not change the active configuration any more after calling&#160;Dem_PreInit&#160;until next ECU power-<br/>
on boot (or any reset&#160;situation).&#160;<br/>The active&#160;configuration consists&#160;of the&#160;base variant (chosen with&#160;Dem_PreInit(…)) and optional,&#160;<br/>additional variants&#160;(chosen&#160;prior&#160;with&#160;Dem_InitDiagnosticVariant(…), see ch<a href="TechnicalReference_Asr_Dems.html#42">apter&#160;6.2.2.4).&#160;</a><br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Only within disabled global&#160;interrupt call&#160;context&#160;<br/>
Table 6-2&#160;<br/>
Dem_PreInit&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
40&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-41_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.2.2&#160;&#160;Dem_Init&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Dem_Init</b>&#160;(&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x02&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Functional Description&#160;</b><br/>
Initializes&#160;this module.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>The&#160;Dem assumes, that all&#160;non-volatile&#160;data was&#160;restored&#160;(or initialized)&#160;before calling Dem_Init().&#160;<br/>
Typically this&#160;is automatically done during the startup&#160;of the ECU.&#160;Please see ch<a href="TechnicalReference_Asr_Dems.html#16">apter&#160;<i>4.2</i>&#160;for an&#160;<br/></a>overview and&#160;chapter<a href="TechnicalReference_Asr_Dems.html#81">&#160;<i>6.4</i></a>&#160;for correct&#160;configuration.&#160;<br/>
<b>&gt;&#160;&#160;</b>If enabled Dem_Init()&#160;will use some&#160;patterns (“magic&#160;numbers”) to evaluate, if the non-volatile&#160;data&#160;<br/>
blocks of the Dem are initialized&#160;and&#160;completely restored. If not, the Dem&#160;will trigger the initialization of&#160;<br/>the buffers itself, see&#160;Dem_NvData…()&#160;callbacks in chapter&#160;<a href="TechnicalReference_Asr_Dems.html#81"><i>6.4</i>.&#160;</a><br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-3&#160;&#160;&#160;Dem_Init&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#3">See&#160;[4]</a>&#160;for more details of the NvM&#160;APIs.&#160;<br/>
<b>6.2.2.3&#160;</b><br/>
<b>Dem_Shutdown&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Dem_Shutdown</b>&#160;(&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x03&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Functional Description&#160;</b><br/>
Shutdowns this module.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
41&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-42_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-4&#160;&#160;&#160;Dem_Shutdown&#160;<br/>
During shutdown, the DEM calls&#160;NvM_SetRamBlockStatus()&#160;to change the state of the&#160;<br/>NvRAM BlockIDs which have been modified.&#160;The system shutdown sequence will save the&#160;<br/>labelled data by calling&#160;NvM_WriteAll().&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#3">See&#160;[4]</a>&#160;for more details of the NvM&#160;APIs. Configurat<a href="TechnicalReference_Asr_Dems.html#110">ion see chapter&#160;8.2.11.&#160;</a><br/>
<b>6.2.2.4&#160;</b><br/>
<b>Dem_InitDiagnosticVariant&#160;</b><br/>
Multi-Identity Support is a Vector extension for DCM and DEM&#160;to support multiple variants&#160;<br/>in an ECU. On startup, all events of the basic variant are&#160;available plus additional the&#160;<br/>configured events (DTCs) of&#160;0-30 additional variants.&#160;<br/>
Before calling&#160;Dem_PreInit(), the additional variants&#160;are selected by calling&#160;<br/>Dem_InitDiagnosticVariant().&#160;&#160;<br/>
&#160;<br/>
<b>Prototype&#160;<br/></b>Multi Identity Mode &#160; &#160;or&#160;&#160; &#160;GENy setting: “Dem_PreInit() has config parameter”&#160;<br/>
void&#160;<b>Dem_InitDiagnosticVariant</b>&#160;(&#160;<br/>&#160; uint32 &#160;activeCfg&#160;<br/>)&#160;<br/>
<b>Parameter&#160;</b><br/>
activeCfg&#160;<br/>
A&#160;bit-mapped value where each set&#160;bit represents an active&#160;diagnostic&#160;<br/>configuration.&#160;<br/>
<b>Return code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
42&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-43_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Functional Description&#160;</b><br/>
If a combination of multiple&#160;diagnostic&#160;configurations&#160;is&#160;supported, the application can activate, additionally&#160;<br/>to the base variant, any combination of the other&#160;diagnostic configurations&#160;that are available. &#160;<br/>
All configured&#160;configuration&#160;variant parameter values&#160;are located in&#160;the Dem_Lcfg.h file in section&#160;<br/>“<b>Multiple Variant Initialization</b>”, with the naming&#160;convention:&#160;<br/>DEM_CFGVARIANT_<i>&lt;VARIANT_QUALIFIER&gt;</i>. If you&#160;use a&#160;CDD file for the DEM configuration, then the&#160;<br/>variant qualifiers are the qualifier of the vehicle&#160;system groups&#160;defined in the CDD file.&#160;<br/>
&#160;<br/>
Note: &#160;<br/>
<b>If the base&#160;variant only&#160;shall be supported,&#160;you can omit the&#160;call of this&#160;API. DEM always&#160;sets the&#160;<br/>base variant,&#160;when calling&#160;Dem_PreInit(…)&#160;later&#160;with argument value ‘CommonDiagnostics’.&#160;</b><br/>
<b>Usage Example:&#160;<br/></b>#include&#160;&#34;Dem_Lcfg.h&#34;&#160;<br/>
<b>&#160;</b><br/>
void&#160;SysStartupPhase1(void)&#160;<br/>
{&#160;<br/>
&#160;&#160;/* Compose supported diagnostic configurations */&#160;<br/>
&#160; uint32 demAddVariantMask = 0L; &#160;<br/>
&#160;<br/>
&#160;&#160;if&#160;(<i>&lt;EcuFeatureA_enabled&gt;</i>)&#160;<br/>
&#160; {&#160;<br/>
&#160; &#160; demAddVariantMask |= DEM_CFGVARIANT_<i>&lt;CDD_VSG_FEATRUREA&gt;</i>;&#160;<br/>
&#160; }&#160;<br/>
&#160;<br/>
&#160;&#160;if&#160;(<i>&lt;EcuFeatureB_enabled&gt;</i>)&#160;<br/>
&#160; {&#160;<br/>
&#160; &#160; demAddVariantMask |= DEM_CFGVARIANT_<i>&lt;CDD_VSG_FEATRUREB&gt;</i>;&#160;<br/>
&#160; }&#160;<br/>
&#160;&#160;/* Set additional variants */&#160;<br/>
&#160;&#160;<b>Dem_InitDiagnosticVariant</b>(demAddVariantMask);&#160;<br/>
&#160; ...&#160;<br/>
&#160;&#160;/* PreInit DEM now with base variant */&#160;<br/>
&#160;&#160;<b>Dem_PreInit</b>(&amp;<i>&lt;DemConfigSet from Dem_Lcfg.h&gt;</i>);&#160;<br/>
}<b>&#160;</b><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
43&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-44_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Must be&#160;called prior Dem_PreInit(…)&#160;API.&#160;<br/>
<b>&gt;&#160;&#160;</b>Can only be called once.&#160;A&#160;second&#160;call is&#160;ignored.&#160;<br/>
<b>&gt;&#160;&#160;</b>You can not change the active configuration any more after calling&#160;Dem_PreInit()&#160;until next&#160;ECU&#160;<br/>
power-on boot&#160;(or any reset situation).&#160;<br/>
With a reset, the following&#160;sequence&#160;will be executed:&#160;<br/>
1.&#160;<br/>
Compiler&#160;startup code or&#160;Dem_InitMemory()&#160;is called.&#160;<br/>
2.&#160;<br/>
Dem_InitDiagnosticVariant(…)&#160;is called&#160;<br/>
3.&#160;<br/>
Dem_PreInit(…)&#160;is called&#160;<br/>
Call context&#160;<br/>
<b>&gt;&#160;&#160;</b>Only within disabled global&#160;interrupt call&#160;context.&#160;<br/>
Table 6-5&#160;&#160;&#160;Dem_InitDiagnosticVariant&#160;<br/>
<b>6.2.3&#160;</b><br/>
<b>Interface SW-Components via RTE&#160;</b>Ù<b>&#160;DEM&#160;</b><br/>
<b>6.2.3.1&#160;</b><br/>
<b>Dem_SetEventStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_SetEventStatus</b>&#160;(&#160;<br/>&#160; Dem_EventIdType &#160;EventId,&#160;<br/>&#160; uint8 &#160; &#160; &#160; &#160; &#160; &#160;EventStatus&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x04&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned EventId.&#160;The EventId is configured&#160;in&#160;<br/>the DEM.&#160;<br/>
Min.: 1 (0: Indication of no&#160;Event)&#160;<br/>
Max.: Result&#160;of configuration of EventId’s&#160;in DEM (Max&#160;is either 255 or 65535)&#160;<br/>
EventStatus&#160;<br/>
uint8&#160;<br/>
{DEM_EVENT_STATUS_PASSED,&#160;<br/>
DEM_EVENT_STATUS_FAILED,&#160;<br/>
DEM_EVENT_STATUS_PREPASSED,&#160;<br/>
DEM_EVENT_STATUS_PREFAILED&#160;<br/>
[, Custom]}&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK:&#160;set&#160;of&#160;event&#160;status&#160;was successful&#160;<br/>
E_NOT_OK: set of event status failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Queue the status of an event.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
44&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-45_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-45_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Do not call this&#160;API for events, that&#160;are&#160;set by the BSW too (see&#160;chapter&#160;<a href="TechnicalReference_Asr_Dems.html#36"><i>5.5&#160;Call Context</i>).&#160;</a><br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-6&#160;&#160;&#160;Dem_SetEventStatus&#160;<br/>
This&#160;API accepts internal events as well as external events.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To notify the application&#160;whether it was successful to add this&#160;API to the action queue&#160;<br/>
&#160;&#160;(see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#18">4.4) an additional return&#160;</a>value is introduced:&#160;<br/>
Without&#160;<br/>
RTE:&#160;DEM_E_QUEUE_OVERFLOW&#160;<br/>
&#160;<br/>
&#160; &#160; &#160;(0x0F)&#160;<br/>
With RTE:&#160;&#160;&#160;&#160;RTE_E_DiagnosticMonitor_E_NOT_OK&#160;&#160;&#160;&#160;(15u) &#160;<br/>This return value is an extension to&#160;AUTOSAR.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>6.2.3.2&#160;</b><br/>
<b>Dem_ResetEventStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_ResetEventStatus</b>&#160;(&#160;<br/>&#160; Dem_EventIdType &#160;EventId&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x05&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned EventId.&#160;The EventId is configured&#160;in&#160;<br/>the DEM.&#160;<br/>
Min.: 1 (0: Indication of no&#160;Event or Failure)&#160;<br/>
Max.: Result&#160;of configuration of EventId’s&#160;in DEM (Max&#160;is either 255 or 65535)&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: reset of event status&#160;was successful&#160;<br/>
E_NOT_OK: reset of event status failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Resets&#160;the Event Status stored in&#160;the Event Memory&#160;in the DEM.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-7&#160;&#160;&#160;Dem_ResetEventStatus&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
45&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-46_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-46_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To notify the application&#160;whether it was successful to add this&#160;API to the action queue&#160;<br/>
&#160;&#160;(see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#18">4.4) an additional return&#160;</a>value is introduced:&#160;<br/>
Without&#160;<br/>
RTE:&#160;DEM_E_QUEUE_OVERFLOW&#160;<br/>
&#160;<br/>
&#160; &#160; &#160;(0x0F)&#160;<br/>
With RTE:&#160;&#160;&#160;&#160;RTE_E_DiagnosticMonitor_E_NOT_OK&#160;&#160;&#160;&#160;(15u) &#160;<br/>This return value is an extension to&#160;AUTOSAR.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>6.2.3.3&#160;</b><br/>
<b>Dem_PrestoreFreezeFrame&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_PrestoreFreezeFrame</b>&#160;(&#160;<br/>&#160; Dem_EventIdType &#160;EventId&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x01&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned EventId.&#160;The EventId is configured&#160;in&#160;<br/>the DEM.&#160;<br/>
Min.: 1 (0: Indication of no&#160;Event or Failure)&#160;<br/>
Max.: Result&#160;of configuration of EventId’s&#160;in DEM (Max&#160;is either 255 or 65535)&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK PreStoreFreezeFrame was successful&#160;<br/>
E_NOT_OK PreStoreFreezeFrame&#160;failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Captures&#160;the FreezeFrame&#160;data for a specific EventId.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-8&#160;&#160;&#160;Dem_PrestoreFreezeFrame&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
46&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-47_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.3.4&#160;</b><br/>
<b>Dem_ClearPrestoredFreezeFrame&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_ClearPrestoredFreezeFrame</b>&#160;(&#160;<br/>&#160; Dem_EventIdType EventId&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x07&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned EventId.&#160;The EventId is configured&#160;in&#160;<br/>the DEM.&#160;<br/>
Min.: 1 (0: Indication of no&#160;Event or Failure)&#160;<br/>
Max.: Result&#160;of configuration of EventId’s&#160;in DEM (Max&#160;is either 255 or 65535)&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: ClearPreStoreFreezeFrame&#160;was successful&#160;<br/>
E_NOT_OK: ClearPreStoreFreezeFrame&#160;failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Clears a prestored Freeze&#160;Frame&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>&#160;<br/>
Table 6-9&#160;&#160;&#160;Dem_ClearPrestoredFreezeFrame&#160;<br/>
&#160;<br/>
<b>6.2.3.5&#160;</b><br/>
<b>Dem_SetOperationCycleState&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_SetOperationCycleState</b>&#160;(&#160;<br/>&#160; uint8 &#160;OperationCycleId,&#160;<br/>&#160; uint8 &#160;CycleState&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x08&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
OperationCycleId&#160;<br/>
Identification&#160;of operation cycle, like power cycle, driving cycle.&#160;<br/>
CycleState&#160;<br/>
DEM_CYCLE_STATE_END 0x02 End of&#160;operation&#160;cycle,&#160;<br/>
DEM_CYCLE_STATE_START&#160;0x01 Start of operation&#160;cycle&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: set of operation cycle was successful&#160;<br/>
E_NOT_OK: set of operation cycle failed&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
47&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-48_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-48_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Functional Description&#160;</b><br/>
Sets&#160;an operation cycle state.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-10&#160;&#160;&#160;Dem_SetOperationCycleState&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To notify the application&#160;whether it was successful to add this&#160;API to the action queue&#160;<br/>
&#160;&#160;(see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#18">4.4) an additional return&#160;</a>value is introduced:&#160;<br/>
Without&#160;<br/>
RTE:&#160;DEM_E_QUEUE_OVERFLOW&#160;<br/>
&#160;<br/>
&#160; &#160; &#160;(0x0F)&#160;<br/>
With RTE:&#160;&#160;&#160;&#160;RTE_E_OperationCycle_E_NOT_OK&#160;&#160;&#160;&#160;&#160;&#160;&#160;(15u) &#160;<br/>This return value is an extension to&#160;AUTOSAR.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
48&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-49_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.3.6&#160;</b><br/>
<b>Dem_GetEventStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_GetEventStatus&#160;</b>(&#160;<br/>&#160; Dem_EventIdType &#160;EventId,&#160;<br/>&#160; uint8 * &#160; &#160; &#160; &#160; &#160;EventStatusExtended&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x0a&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned EventId.&#160;The EventId is configured&#160;in&#160;<br/>the DEM.&#160;<br/>
Min.: 1 (0: Indication of no&#160;Event)&#160;<br/>
Max.: Result&#160;of configuration of EventId’s&#160;in DEM (Max&#160;is either 255 or 65535)&#160;<br/>
EventStatusExtended&#160;<br/>
Bit 0&#160;TestFailed is&#160;set to 1 if the last&#160;event status update by the function&#160;<br/>Dem_SetEventStatus(Passed Failed) was called&#160;with&#160;failed.&#160;The status is&#160;set&#160;<br/>to 0 if Dem_SetEventStatus is called&#160;with passed, on&#160;tester&#160;clear command&#160;<br/>and by&#160;API Dem_ResetEventStatus.&#160;<br/>
Bit 0 and 6 is intended to set/reset monitor inhibit or&#160;default.&#160;<br/>
Bit 1&#160;TestFailedThisOperationCycle is&#160;set if at least one time the function&#160;<br/>Dem_SetEventStatus (passed | failed) is&#160;called with failed this&#160;cycle. Intended&#160;<br/>to be used&#160;for defaults&#160;reset only at next&#160;key on.&#160;<br/>
Bit 2 PendingDTC is&#160;set when associated DTC becomes available&#160;in Mode07&#160;<br/>(currently corresponds to ISO pending&#160;bit 2 [9]&#160;Intended to be used&#160;for the&#160;<br/>control of IUMPR counters.&#160;<br/>
Bit 3 ConfirmedDTC&#160;is&#160;set&#160;when associated DTC becomes available in&#160;<br/>Mode03 (currently corresponds to ISO confirmed bit 3 [9] Could be&#160;used&#160;to set&#160;<br/>e.g. service request message.&#160;<br/>
Bit 4&#160;TestNotCompletedSinceLastClear is set to 0 if&#160;at least one time the&#160;<br/>function&#160;Dem_SetEventStatus (passed | failed) is&#160;called after last ClearDTC.&#160;<br/>
Bit 5 testFailedSinceLastClear is&#160;set to 0&#160;if at least one time the function&#160;<br/>Dem_SetEventStatus is&#160;caled with failed&#160;this cycle.&#160;<br/>
Bit 6&#160;TestNotCompletedThisOperationCycle is set if at least one time the&#160;<br/>function&#160;Dem_SetEventStatus (passed | failed) is&#160;called within this&#160;cycle (the&#160;<br/>usage of different cycles is&#160;application-specific, if only one cycle is&#160;used, the&#160;<br/>differentiation&#160;is obsolete).&#160;<br/>
Bit 7 WarningIndicatorRequested reports the status&#160;of&#160;any warning&#160;indicators&#160;<br/>associated&#160;with a particular&#160;DTC.&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: get of&#160;event status&#160;was successful&#160;<br/>
E_NOT_OK: get of event status failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the extended event status of an event.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
49&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-50_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-11&#160;&#160;Dem_GetEventStatus&#160;<br/>
<b>6.2.3.7&#160;</b><br/>
<b>Dem_GetEventFailed&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_GetEventFailed</b>&#160;(&#160;<br/>&#160; Dem_EventIdType &#160;EventId,&#160;<br/>&#160; boolean * &#160; &#160; &#160; &#160;EventFailed&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x0b&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned EventId.&#160;The EventId is configured&#160;in&#160;<br/>the DEM. Min.: 1 (0: Indication of no Event) Max.: Result of configuration of&#160;<br/>EventId’s&#160;in DEM (Max is&#160;either 255 or&#160;65535)&#160;<br/>
EventFailed&#160;<br/>
TRUE&#160;- Last Failed&#160;<br/>
FALSE - not Last Failed&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: get of&#160;“EventFailed”&#160;was&#160;successful&#160;<br/>
E_NOT_OK: get of “EventFailed”&#160;was not successful&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the event failed status&#160;of an event.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-12&#160;&#160;&#160;Dem_GetEventFailed&#160;<br/>
<b>6.2.3.8&#160;</b><br/>
<b>Dem_GetEventTested&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_GetEventTested</b>&#160;(&#160;<br/>&#160; Dem_EventIdType &#160;EventId,&#160;<br/>&#160; boolean * &#160; &#160; &#160; &#160;EventTested&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x0c&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
50&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-51_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned EventId.&#160;The EventId is configured&#160;in&#160;<br/>the DEM.&#160;<br/>
Min.: 1 (0: Indication of no&#160;Event)&#160;<br/>
Max.: Result&#160;of configuration of EventId’s&#160;in DEM (Max&#160;is either 255 or 65535)&#160;<br/>
EventTested&#160;<br/>
TRUE&#160;- event&#160;tested this cycle&#160;<br/>
FALSE - event not tested this cycle&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: get of&#160;event state “tested”&#160;successful&#160;<br/>
&#160;E_NOT_OK: get of event&#160;state “tested”&#160;failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the event tested status of an event.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-13&#160;&#160;&#160;Dem_GetEventTested&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
51&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-52_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.3.9&#160;</b><br/>
<b>Dem_GetDTCOfEvent&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_GetDTCOfEvent</b>&#160;(&#160;<br/>&#160; Dem_EventIdType &#160;EventId,&#160;<br/>&#160; uint8 &#160; &#160; &#160; &#160; &#160; &#160;DTCKind,&#160;<br/>&#160; uint32 * &#160; &#160; &#160; &#160; DTCOfEvent&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x01&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned EventId.&#160;The EventId is configured&#160;in&#160;<br/>the DEM.&#160;<br/>
Min.: 1 (0: Indication of no&#160;Event or Failure)&#160;<br/>
Max.: Result&#160;of configuration of EventId’s&#160;in DEM (Max&#160;is either 255 or 65535)&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC, either only&#160;OBDrelevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTCOfEvent&#160;<br/>
Receives&#160;the DTC value returned by the&#160;function. If the return value&#160;of the&#160;<br/>function is&#160;other than E_OK&#160;this parameter does not&#160;contain valid&#160;data.&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK:&#160;get&#160;of&#160;DTC&#160;was successful&#160;<br/>
DEM_GET_DTCOFEVENT_WRONG_DTCKIND: 0x04 DTC&#160;kind&#160;wrong,&#160;<br/>
DEM_GET_DTCOFEVENT_WRONG_EVENTID: 0x05&#160;Wrong EventId&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;DTC of an event.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-14&#160;&#160;Dem_GetDTCOfEvent &#160;&#160;<br/>
<b>6.2.3.10&#160;&#160;Dem_SetValueByOemId&#160;<br/></b>This optional&#160;API is not supported by&#160;Vector specific DEM (it is implemented, but returns always&#160;<br/>E_NOT_OK).&#160;<br/>
<b>6.2.3.11&#160;&#160;Dem_SetEnableCondition&#160;<br/></b>This optional&#160;API is not supported by&#160;Vector specific DEM (it is implemented, but returns always&#160;<br/>E_NOT_OK).&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
52&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-53_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.3.12&#160;&#160;Dem_GetFaultDetectionCounter&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_GetFaultDetectionCounter</b>&#160;(&#160;<br/>&#160; Dem_EventIdType &#160;EventId,&#160;<br/>&#160; sint8 * &#160; &#160; &#160; &#160; &#160;EventIdFaultDetectionCounter&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x3e&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Provide the EventId value the fault detection counter is&#160;requested for.&#160;If the&#160;<br/>return value of&#160;the function is other than OK this parameter does not contain&#160;<br/>valid data.&#160;<br/>
EventIdFaultDetection-<br/>
This&#160;parameter receives&#160;the fault detection counter information of the&#160;<br/>
Counter&#160;<br/>
requested EventId. If the return value of&#160;the function&#160;call is other than E_OK&#160;<br/>this parameter does not contain valid data.&#160;<br/>
-128dec...127dec PASSED... FAILED&#160;according to ISO 14229-1&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: request of fault detection&#160;counter was successful&#160;<br/>
E_NOT_OK: request of fault detection counter failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the fault&#160;detection&#160;counter of an event.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-15&#160;&#160;Dem_GetFaultDetectionCounter&#160;&#160;&#160;&#160;<br/>
<b>6.2.3.13&#160;&#160;Dem_GetIndicatorStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_GetIndicatorStatus</b>&#160;(&#160;<br/>&#160; uint8 &#160; &#160;IndicatorId,&#160;<br/>&#160; uint8 * &#160;IndicatorStatus&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x29&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
IndicatorId&#160;<br/>
Number of indicator&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
53&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-54_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-54_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
IndicatorStatus&#160;<br/>
Status of the indicator,&#160;like on, off, blinking.&#160;<br/>
DEM_INDICATOR_BLINK_CONT&#160;0x03&#160;Continuous and blinking mode,&#160;<br/>
DEM_INDICATOR_CONTINUOUS 0x01&#160;Continuous&#160;on,&#160;<br/>
DEM_INDICATOR_OFF 0x00 Indicator off,&#160;<br/>
DEM_INDICATOR_BLINKING 0x02 blinking mode&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: Operation was successful&#160;<br/>
E_NOT_OK: Operation failed or is not supported&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the indicator status derived from the&#160;event status&#160;(Bit&#160;TestFailed) and the&#160;configured indicator states&#160;<br/>(see&#160;<a href="TechnicalReference_Asr_Dems.html#121"><i>8.2.12.5.5</i></a><i>&#160;</i>to see<i>&#160;</i>how&#160;to configure indicators). It will be reported as a&#160;summary of the single indicator&#160;<br/>states&#160;(usually an indicator is assigned to different events.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-16&#160;&#160;Dem_GetIndicatorStatus&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Info&#160;<br/></b>When the RTE is part of the software, only&#160;valid IndicatorIDs can be used when&#160;<br/>
&#160;&#160;calling&#160;Dem_GetIndicatorStatus().&#160;<br/>
Without RTE, the function&#160;Dem_GetIndicatorStatus()&#160;will accept all IDs&#160;<br/>(result: E_OK) and returns the indicator status 0&#160;(“not active”) not only when no event is&#160;<br/>“failed”, but&#160;also if no event was assigned to this&#160;IndicatorID.&#160;Such &#34;Invalid&#34;&#160;<br/>IndicatorIDs (result: E_NOT_OK) could be detected by expensive search only, as the&#160;<br/>ID values are post-buildable.&#160;This search is not&#160;implemented.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
54&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-55_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-55_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.3.14&#160;&#160;Dem_GetOccurrenceCounter&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_GetOccurrenceCounter&#160;</b>(&#160;<br/>&#160; Dem_EventIdType &#160;EventId,&#160;<br/>&#160; uint8 * &#160; &#160; &#160; &#160; &#160;OccurrenceCounterValue&#160;<br/>)&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Provide the EventId value the occurrence&#160;counter is&#160;requested for.&#160;If the return&#160;<br/>value of the function&#160;is other than E_OK&#160;this parameter does not contain valid&#160;<br/>data.&#160;<br/>
OccurrenceCounterValue&#160;<br/>
This&#160;parameter receives&#160;the Occurrence&#160;Counter&#160;information of the requested&#160;<br/>EventId. If the return value&#160;of the&#160;function call is other than E_OK this&#160;<br/>parameter does not contain valid data.&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: &#160;&#160;&#160;&#160;&#160;&#160;Operation was successful&#160;<br/>
E_NOT_OK: &#160;Operation failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Read&#160;the DEM internal implemented&#160;OccurrenceCounter&#160;of an event.&#160;The&#160;API shall be&#160;used&#160;to request the&#160;<br/>current Occurrence Counter&#160;for a given&#160;EventId.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;API is an&#160;extension to&#160;AUTOSAR.&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-17&#160;&#160;&#160;Dem_GetOccurrenceCounter&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>This&#160;API is an extension to the&#160;AUTOSAR description. It is available, when a CDD is&#160;<br/>
&#160;&#160;used which&#160;supports&#160;the&#160;internally implemented&#160;occurrence&#160;counter (see&#160;<a href="TechnicalReference_Asr_Dems.html#99">8.1.3.1</a>).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
55&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-56_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-56_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.4&#160;</b><br/>
<b>Interface BSW-Components&#160;</b>Ù<b>&#160;DEM&#160;</b><br/>
<b>6.2.4.1&#160;</b><br/>
<b>Dem_ReportErrorStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Dem_ReportErrorStatus</b>&#160;(&#160;<br/>&#160; Dem_EventIdType &#160;EventId,&#160;<br/>&#160; uint8 &#160; &#160; &#160; &#160; &#160; &#160;EventStatus&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x01&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
EventId&#160;<br/>
Identification&#160;of an Event by assigned Event ID.&#160;The Event ID is configured in&#160;<br/>the DEM.&#160;<br/>
Min.: 1 (0: Indication of no&#160;Event or Failure)&#160;<br/>
Max.: Result&#160;of configuration of Event&#160;IDs in&#160;DEM (Max is either&#160;255 or&#160;<br/>65535)&#160;<br/>
EventStatus&#160;<br/>
uint8&#160;<br/>
{DEM_EVENT_STATUS_PASSED,&#160;<br/>
DEM_EVENT_STATUS_FAILED,&#160;<br/>
DEM_EVENT_STATUS_PREPASSED,&#160;<br/>
DEM_EVENT_STATUS_PREFAILED&#160;<br/>
[, Custom]}&#160;<br/>
<b>Return code&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Functional Description&#160;</b><br/>
Reports&#160;errors&#160;to the DEM.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Do not call this&#160;API for events, that are&#160;set via RTE/application too (see&#160;chapter&#160;<a href="TechnicalReference_Asr_Dems.html#36"><i>5.5</i></a><i>&#160;<a href="TechnicalReference_Asr_Dems.html#36">Call Context</a></i>)&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
<b>&gt;&#160;&#160;</b>If interrupt context can not be avoided, please ensure, that both critical sections&#160;can be called&#160;within&#160;<br/>
interrupt context (see&#160;chapter&#160;<a href="TechnicalReference_Asr_Dems.html#35">5.4)&#160;</a><br/>
Table 6-18&#160;&#160;Dem_ReportErrorStatus &#160;&#160;&#160;<br/>
This&#160;API accepts internal events as well as external events.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To notify the DET&#160;whether it was successful&#160;to add this&#160;API to the action&#160;queue (see&#160;<br/>
&#160;&#160;chapter&#160;<a href="TechnicalReference_Asr_Dems.html#18">4.4) an addition</a>al development error is implemented:&#160;<br/>
ErrorId:&#160;<br/>
&#160; &#160;DEM_E_QUEUE_OVERFLOW&#160;<br/>
&#160;<br/>
&#160; &#160; &#160;(0x0F)&#160;<br/>
This development error is an extension to&#160;AUTOSAR.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
56&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-57_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>6.2.5&#160;</b><br/>
<b>Interface DCM&#160;</b>Ù<b>&#160;DEM&#160;</b><br/>
A&#160;further description of the usage of the interface&#160;between DCM (diagnostic&#160;<br/>communication manager) and DEM can be found in&#160;chapter “Error Manager&#160;Interface” of&#160;<br/><a href="TechnicalReference_Asr_Dems.html#3">[3]</a>. Here, especially the handling of&#160;FreezeFrame data is described.&#160;<br/>
<b>6.2.5.1&#160;</b><br/>
<b>Access DTCs and Status Information&#160;</b><br/>
The following chapter&#160;defines&#160;the&#160;API calls&#160;that shall be used to&#160;access the number of&#160;<br/>DTCs&#160;as well as&#160;the DTCs matching specific&#160;filter criteria and&#160;the associated status&#160;<br/>information.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
57&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-58_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.5.1.1&#160;</b><br/>
<b>Dem_SetDTCFilter&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnSetDTCFilterType&#160;<b>Dem_SetDTCFilter</b>&#160;(&#160;<br/>&#160; uint8 &#160;DTCStatusMask,&#160;<br/>&#160; uint8 &#160;DTCKind,&#160;<br/>&#160; uint8 &#160;DTCOrigin,&#160;<br/>&#160; uint8 &#160;FilterWithSeverity,&#160;<br/>&#160; uint8 &#160;DTCSeverity,&#160;<br/>&#160; uint8 &#160;FilterForFaultDetectionCounter&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x13&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTCStatusMask&#160;<br/>
According ISO14229-1 StatusOfDTC Values:&#160;<br/>
0x00: Report all supported DTCs&#160;<br/>
0x01...0xFF: Match&#160;DTCStatusMask as&#160;defined in ISO14229-1&#160;<br/>
DTCKind&#160;<br/>
Defines the functional group of DTCs to&#160;be reported&#160;(e.g. all DTC,&#160;<br/>OBDrelevant DTC)&#160;<br/>
DEM_DTC_KIND_ALL_DTCS selects all&#160;DTCs,&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS selects OBD-relevant&#160;DTCs&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>
DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information ocated&#160;in&#160;<br/>the secondary memory, &#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory&#160;<br/>
The definition&#160;and use of the different&#160;memory types is OEM specific.&#160;<br/>
FilterWithSeverity&#160;<br/>
This flag defines&#160;whether&#160;severity information (ref. to parameter below) shall&#160;<br/>be used for filtering.&#160;This&#160;is to allow for coexistence of&#160;DTCs with and without&#160;<br/>severity information.&#160;<br/>
DEM_FILTER_WITH_SEVERITY_YES 0x00&#160;Severity information used,&#160;<br/>
DEM_FILTER_WITH_SEVERITY_NO&#160;0x01 Severity information not used&#160;<br/>
DTCSeverity&#160;<br/>
This&#160;parameter contains&#160;the DTCSeverityMask&#160;according to ISO14229-1.&#160;<br/>
DEM_SEVERITY_CHECK_IMMEDIATELY&#160;0x80 Check&#160;immediately,&#160;<br/>
DEM_SEVERITY_NO_SEVERITY&#160;0x00 No&#160;severity&#160;information&#160;available,&#160;<br/>
DEM_SEVERITY_CHECK_AT_NEXT_HALT&#160;0x40&#160;check&#160;at next halt,&#160;<br/>
DEM_SEVERITY_MAINTENANCE_ONLY&#160;0x20 maintenance required&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
58&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-59_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
FilterForFaultDetection-<br/>
This flag defines&#160;whether&#160;Fault Detection Counter information&#160;shall be used&#160;<br/>
Counter&#160;<br/>
for filtering.&#160;This is to allow for coexistence of DTCs with and without Fault&#160;<br/>Detection Counter information. If Fault&#160;Detection Counter information is filter&#160;<br/>criteria, only those DTCs&#160;with a Fault Detection Counter value between 1 and&#160;<br/>0x7E shall be&#160;reported.&#160;<br/>
Remark: If the event does not uses&#160;the&#160;debouncing inside&#160;DEM, then the DEM&#160;<br/>must request this information via Xxx_DemGetFaultDetectionCounter.&#160;<br/>
DEM_FILTER_FOR_FDC_YES 0x00 Fault&#160;Detection Counter information&#160;<br/>used,&#160;<br/>
DEM_FILTER_FOR_FDC_NO 0x01&#160;Fault Detection Counter information not&#160;<br/>used&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnSetDTCFilter&#160;&#160;Status of the operation of type Dem_ReturnSetDTCFilterType&#160;<br/>Type&#160;<br/>
<b>Functional Description&#160;</b><br/>
Sets&#160;the filter mask over all&#160;DTCs.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-19&#160;&#160;Dem_SetDTCFilter&#160;&#160;&#160;<br/>
<b>6.2.5.1.2&#160;</b><br/>
<b>Dem_SetDTCFilterForRecords&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnSetDTCFilterType&#160;<b>Dem_SetDTCFilterForRecords</b>&#160;(&#160;<br/>&#160; uint16 * &#160;NumberOfFilteredRecords&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x3f&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
NumberOfFilteredRecords&#160;&#160;Number of snapshot records currently stored in the event memory.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnSetDTCFilter-&#160;Status of the operation of type Dem_ReturnSetDTCFilterType&#160;<br/>Type&#160;<br/>
<b>Functional Description&#160;</b><br/>
Sets&#160;DTC Filter for records.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-20&#160;&#160;Dem_SetDTCFilterForRecords&#160;&#160;&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
59&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-60_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.5.1.3&#160;</b><br/>
<b>Dem_SetViewFilter&#160;</b><br/>
This optional&#160;API is not supported by&#160;Vector specific DEM (it is implemented, but returns always&#160;<br/>DEM_WRONG_ID).&#160;<br/>
&#160;<br/>
<b>6.2.5.1.4&#160;</b><br/>
<b>Dem_GetStatusOfDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetStatusOfDTCType&#160;<b>Dem_GetStatusOfDTC</b>&#160;(&#160;<br/>&#160; uint32 &#160; DTC,&#160;<br/>&#160; uint8 &#160; &#160;DTCKind,&#160;<br/>&#160; uint8 &#160; &#160;DTCOrigin,&#160;<br/>&#160; uint8 * &#160;DTCStatus&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x15&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
For this&#160;DTC its status&#160;is&#160;requested&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>
DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information located in&#160;<br/>the secondary memory, &#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory&#160;The definition and use&#160;of the different memory types is OEM&#160;<br/>specific.&#160;<br/>
DTCStatus&#160;<br/>
This&#160;parameter receives&#160;the status&#160;information of the requested DTC. If the&#160;<br/>return value of&#160;the function call is other than DEM_STATUS_OK this&#160;<br/>parameter does not contain valid data.&#160;<br/>
0x00...0xFF match&#160;DTCStatusMask as&#160;defined in ISO14229-1&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetStatusOf-<br/>
Status of the operation of type Dem_ReturnGetStatusOfDTCType.&#160;<br/>
DTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;status of a DTC&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
60&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-61_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-21&#160;&#160;Dem_GetStatusOfDTC&#160;&#160;&#160;&#160;<br/>
If the DTC is not stored in one of&#160;the available event memories the parameter DTCOrigin&#160;<br/>is neglected e.g. when DTC status is pending. &#160;<br/>&#160;<br/>
<b>6.2.5.1.5&#160;</b><br/>
<b>Dem_GetDTCStatusAvailabilityMask&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_GetDTCStatusAvailabilityMask</b>&#160;(&#160;<br/>&#160; uint8 * &#160;DTCStatusMask&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x16&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTCStatusMask&#160;<br/>
The value DTCStatusMask indicates the&#160;supported&#160;DTC status bits&#160;from the&#160;<br/>DEM.&#160;All supported information is indicated by setting&#160;the corresponding&#160;<br/>status&#160;bit to 1.&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: get of&#160;DTC&#160;status&#160;mask&#160;was&#160;successful&#160;<br/>
E_NOT_OK: get of DTC&#160;status mask failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;DTC Status availability mask&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-22&#160;&#160;Dem_GetDTCStatusAvailabilityMask &#160;&#160;<br/>
<b>6.2.5.1.6&#160;</b><br/>
<b>Dem_GetNumberOfFilteredDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetNumberOfFilteredDTCType&#160;<b>Dem_GetNumberOfFilteredDTC</b>&#160;(&#160;<br/>&#160; uint16 * &#160;NumberOfFilteredDTC&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x17&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
NumberOfFilteredDTC&#160;<br/>
The number&#160;of DTCs matching the defined status&#160;mask.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
61&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-62_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetNumber-<br/>
Status of the operation to retrieve a number of DTC from the DEM&#160;<br/>
OfFilteredDTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the number of a filtered&#160;DTC&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-23&#160;&#160;Dem_GetNumberOfFilteredDTC&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.1.7&#160;</b><br/>
<b>Dem_GetNextFilteredDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetNextFilteredDTCType&#160;<b>Dem_GetNextFilteredDTC</b>&#160;(&#160;<br/>&#160; uint32 * &#160;DTC,&#160;<br/>&#160; uint8 * &#160; DTCStatus&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x18&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
Receives&#160;the DTC value returned by the&#160;function. If the return value&#160;of the&#160;<br/>function is&#160;other than&#160;DEM_FILTERED_OK this&#160;parameter does not contain&#160;<br/>valid data.&#160;<br/>
DTCStatus&#160;<br/>
This&#160;parameter receives&#160;the status&#160;information of the requested DTC. If the&#160;<br/>return value of&#160;the function call is other than DEM_FILTERED_OK this&#160;<br/>parameter does not contain valid data.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetNext-<br/>
Status of the operation to retrieve a DTC from the DEM.&#160;<br/>
FilteredDTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the next filtered DTC.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-24&#160;&#160;Dem_GetNextFilteredDTC&#160;&#160;&#160;&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
62&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-63_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.5.1.8&#160;</b><br/>
<b>Dem_GetDTCByOccurrenceTime&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetDTCByOccurrenceTimeType&#160;<b>Dem_GetDTCByOccurrenceTime</b>&#160;(&#160;<br/>&#160; uint8 &#160; &#160; DTCRequest,&#160;<br/>&#160; uint8 &#160; &#160; DTCKind,&#160;<br/>&#160; uint32 * &#160;DTC&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x19&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTCRequest&#160;<br/>
This&#160;parameter defines&#160;the&#160;request type of the DTC.&#160;<br/>
DEM_FIRST_DET_CONFIRMED_DTC 0x03 first detected&#160;confirmed DTC&#160;<br/>requested,&#160;<br/>
DEM_MOST_RECENT_FAILED_DTC&#160;0x02 most recent failed&#160;DTC&#160;<br/>requested,&#160;<br/>
DEM_MOST_REC_DET_CONFIRMED_DTC&#160;0x04&#160;most recently detected&#160;<br/>confirmed DTC&#160;requested,&#160;<br/>
DEM_FIRST_FAILED_DTC&#160;0x01 first failed DTC requested&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC, either only&#160;OBD relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTC&#160;S Select&#160;OBD-relevant&#160;DTCs&#160;<br/>
DTC&#160;<br/>
Receives&#160;the DTC value returned by the&#160;function. If the return value&#160;of the&#160;<br/>function is&#160;other than&#160;DEM_OCCURR_OK&#160;this parameter does not contain&#160;<br/>valid data.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetDTCBy-<br/>
Status of the operation of type Dem_ReturnGetDTCByOccurrenceTimeType.&#160;<br/>
OccurrenceTimeType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;DTC by occurrence time.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-25&#160;&#160;Dem_GetDTCByOccurrenceTime &#160;&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
63&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-64_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.5.1.9&#160;</b><br/>
<b>Dem_GetViewIDOfDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetViewIDOfDTCType&#160;<b>Dem_GetViewIDOfDTC</b>&#160;(&#160;<br/>&#160; uint32 &#160; DTC,&#160;<br/>&#160; uint8 &#160; &#160;DTCKind,&#160;<br/>&#160; uint8 * &#160;ViewId&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x36&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC.&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC, either only&#160;OBDrelevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
ViewId&#160;<br/>
The ViewId is&#160;a parameter&#160;used&#160;to select a specific&#160;view.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetViewIDOf-&#160;Status of the operation of type&#160;Dem_ReturnGetViewIDOfDTCType.&#160;<br/>DTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the ViewID of a DTC.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-26&#160;&#160;Dem_GetViewIDOfDTC&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.1.10&#160;&#160;Dem_GetNextFilteredRecord&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetNextFilteredDTCType&#160;<b>Dem_GetNextFilteredRecord</b>&#160;(&#160;<br/>&#160; uint32 * &#160;DTC,&#160;<br/>&#160; uint8 * &#160; SnapshotRecord&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x3a&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
Receives&#160;the DTC value returned by the&#160;function. If the return value&#160;of the&#160;<br/>function is&#160;other than&#160;DEM_FILTERED_OK this&#160;parameter does not contain&#160;<br/>valid data.&#160;<br/>
SnapshotRecord&#160;<br/>
Snapshot Record Number&#160;for the reported DTC.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
64&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-65_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetNext-<br/>
Status of the operation to retrieve a DTC from the DEM.&#160;<br/>
FilteredDTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;current DTC and&#160;its associated&#160;snapshot record numbers&#160;from the DEM.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-27&#160;&#160;Dem_GetNextFilteredRecord&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.1.11&#160;&#160;Dem_GetNextFilteredDTCAndFDC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetNextFilteredDTCType&#160;<b>Dem_GetNextFilteredDTCAndFDC&#160;</b>(&#160;<br/>&#160; uint32 * &#160;DTC,&#160;<br/>&#160; sint8 * &#160; DTCFaultDetectionCounter&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x3b&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
Receives&#160;the DTC value returned by the&#160;function. If the return value&#160;of the&#160;<br/>function is&#160;other than&#160;DEM_FILTERED_OK this&#160;parameter does not contain&#160;<br/>valid data.&#160;<br/>
DTCFaultDetection-<br/>
This&#160;parameter receives&#160;the Fault Detection Counter information of the&#160;<br/>
Counter&#160;<br/>
requested DTC. If the return value of the function call is other than&#160;<br/>DEM_FILTERED_OK this parameter does not contain valid data.&#160;<br/>
-128dec...127dec PASSED...FAILED according to ISO 14229-1&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetNext-<br/>
Status of the operation to retrieve a DTC from the DEM.&#160;<br/>
FilteredDTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;current DTC and&#160;its associated&#160;Fault Detection Counter&#160;(FDC) from the DEM.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-28&#160;&#160;Dem_GetNextFilteredDTCAndFDC&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
65&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-66_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.5.1.12&#160;&#160;Dem_GetNextFilteredDTCAndSeverity&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetNextFilteredDTCType&#160;<b>Dem_GetNextFilteredDTCAndSeverity</b>(&#160;<br/>&#160; uint32 * &#160;DTC,&#160;<br/>&#160; uint8 * &#160; DTCStatus,&#160;<br/>&#160; uint8 * &#160; DTCSeverity,&#160;<br/>&#160; uint8 * &#160; DTCFunctionalUnit&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x3d&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
Receives&#160;the DTC value returned by the&#160;function. If the return value&#160;of the&#160;<br/>function is&#160;other than&#160;DEM_FILTERED_OK this&#160;parameter does not contain&#160;<br/>valid data.&#160;<br/>
DTCStatus&#160;<br/>
Receives&#160;the status value returned&#160;by&#160;the function. If the return value of the&#160;<br/>function is&#160;other than&#160;DEM_FILTERED_OK this&#160;parameter does not contain&#160;<br/>valid data.&#160;<br/>
DTCSeverity&#160;<br/>
Receives&#160;the severity value returned by the function. If the return value of the&#160;<br/>function is&#160;other than&#160;DEM_FILTERED_OK this&#160;parameter does not contain&#160;<br/>valid data.&#160;<br/>
DTCFunctionalUnit&#160;<br/>
Receives&#160;the functional unit value returned by the function. If the return value&#160;<br/>of the function&#160;is other than&#160;DEM_FILTERED_OK this parameter&#160;does not&#160;<br/>contain valid data.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetNext-<br/>
Status of the operation to retrieve a DTC from the DEM.&#160;<br/>
FilteredDTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets the current DTC and&#160;its Severity from the DEM.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-29&#160;&#160;&#160;Dem_GetNextFilteredDTCAndSeverity&#160;<br/>
<b>6.2.5.1.13&#160;&#160;Dem_GetTranslationType&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>Dem_GetTranslationType</b>&#160;(&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x3c&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
66&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-67_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
uint8&#160;<br/>
The&#160;TranslationFormat provides the configured translation formats&#160;<br/>
Bit 0: 2 byte&#160;ISO15031-6 DTC&#160;<br/>
Bit 1: 3 byte&#160;ISO14229-1 DTC&#160;<br/>
Bit 2: Customer specific&#160;DTC&#160;<br/>
Bit 3: SAEJ1939&#160;<br/>
Bit 4: WWH-OBD-format&#160;<br/>
Set the according Bit to '1' means DTC format is&#160;supported. Combination of&#160;<br/>different DTC formats is&#160;possible (e.g. ISO 15031-6 and ISO14229-1 is coded&#160;<br/>by 0x0011b).&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;supported&#160;DTC formats of the ECU.&#160;The&#160;supported formats are configured via&#160;<br/>DemTypeOfDTCSupported.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-30&#160;&#160;Dem_GetTranslationType&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.1.14&#160;&#160;Dem_GetSeverityOfDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetSeverityOfDTCType&#160;<b>Dem_GetSeverityOfDTC</b>&#160;(&#160;<br/>&#160; uint32 &#160; DTC,&#160;<br/>&#160; uint8 * &#160;DTCSeverity&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x0e&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
The Severity assigned to this DTC&#160;should be returned&#160;<br/>
DTCSeverity&#160;<br/>
This&#160;parameter contains&#160;the DTCSeverityMask&#160;according to ISO14229-1.&#160;<br/>
DEM_SEVERITY_CHECK_IMMEDIATELY&#160;0x80 Check&#160;immediately,&#160;<br/>
DEM_SEVERITY_NO_SEVERITY&#160;0x00 No&#160;severity&#160;information&#160;available,&#160;<br/>
DEM_SEVERITY_CHECK_AT_NEXT_HALT&#160;0x40&#160;check&#160;at next halt,&#160;<br/>
DEM_SEVERITY_MAINTENANCE_ONLY&#160;0x20 maintenance required&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetSeverity-<br/>
Status of the operation of type&#160;Dem_ReturnGetSeverityOfDTCType.&#160;<br/>
OfDTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Status of the operation of type&#160;Dem_ReturnGetSeverityOfDTCType.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
67&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-68_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-31&#160;&#160;Dem_GetSeverityOfDTC&#160;&#160;&#160;<br/>
<b>6.2.5.2&#160;</b><br/>
<b>Access Extended Data Records and FreezeFrame Data&#160;</b><br/>
This section defines the&#160;API-calls to be used to get access to the environmental data&#160;<br/>stored with the DTCs in the records of the DEM.&#160;<br/>&#160;<br/>
<b>6.2.5.2.1&#160;Dem_DisableDTCRecordUpdate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_DisableDTCRecordUpdate</b>&#160;(&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x1a&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: Operation was successful&#160;<br/>
E_NOT_OK: Operation failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Disables&#160;the DTC record&#160;update.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-32&#160;&#160;Dem_DisableDTCRecordUpdate&#160;&#160;&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.2.2&#160;</b><br/>
<b>Dem_EnableDTCRecordUpdate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType Dem_EnableDTCRecordUpdate(&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x1b&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
68&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-69_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: Operation was successful&#160;<br/>
E_NOT_OK: Operation failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Enables&#160;the DTC&#160;record update&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-33&#160;&#160;Dem_EnableDTCRecordUpdate&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.2.3&#160;</b><br/>
<b>Dem_GetDTCOfFreezeFrameRecord&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetDTCOfFreezeFrameRecordType&#160;<b>Dem_GetDTCOfFreezeFrameRecord&#160;</b>(&#160;<br/>&#160; uint8 &#160; &#160; RecordNumber,&#160;<br/>&#160; uint8 &#160; &#160; DTCOrigin,&#160;<br/>&#160; uint8 &#160; &#160; DTCKind,&#160;<br/>&#160; uint32 * &#160;DTC&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x1c&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
RecordNumber&#160;<br/>
This&#160;parameter is a unique&#160;identifier for&#160;a FreezeFrame record as&#160;defined in&#160;<br/>ISO15031-5 and&#160;ISO14229-1.&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>
DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information located in&#160;<br/>the secondary memory,&#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory&#160;<br/>
The definition&#160;and use of the different&#160;memory types is OEM specific.&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTC&#160;<br/>
Receives&#160;the DTC value returned by the&#160;function. If the return value&#160;of the&#160;<br/>function is&#160;other than&#160;DEM_GET_DTCOFFF_OK this parameter&#160;does not&#160;<br/>contain valid&#160;data.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
69&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=70></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-70_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetDTCOf-<br/>
Status of the operation of type&#160;Dem_ReturnGetDTCOfFreezeFrame&#160;<br/>
FreezeFrameRecordType&#160;&#160;RecordType.&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;a&#160;DTC associated with a FreezeFrame.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-34&#160;&#160;Dem_GetDTCOfFreezeFrameRecord &#160;&#160;&#160;<br/>
<b>6.2.5.2.4&#160;</b><br/>
<b>Dem_GetFreezeFrameDataByDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetFreezeFrameDataByDTCType&#160;<b>Dem_GetFreezeFrameDataByDTC</b>&#160;(&#160;<br/>&#160; uint32 &#160; DTC,&#160;<br/>&#160; uint8 &#160; &#160;DTCKind,&#160;<br/>&#160; uint8 &#160; &#160;DTCOrigin,&#160;<br/>&#160; uint8 &#160; &#160;RecordNumber,&#160;<br/>&#160; uint16 &#160; DataId,&#160;<br/>&#160; uint8 * &#160;DestBuffer,&#160;<br/>&#160; uint8 * &#160;BufSize&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x1d&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
This is the DTC the FreezeFrame is assigned to.&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC, either only&#160;OBD relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>
DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information ocated&#160;in&#160;<br/>the secondary memory,&#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory&#160;<br/>
The definition&#160;and use of the different&#160;memory types is OEM specific.&#160;<br/>
RecordNumber&#160;<br/>
This&#160;parameter is a unique&#160;identifier for&#160;a FreezeFrame record as&#160;defined in&#160;<br/>ISO15031-5 and&#160;ISO14229-1.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
70&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=71></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-71_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
DataId&#160;<br/>
This&#160;parameter specifies the PID (ISO15031-5) (Mode2 individual&#160;parameter&#160;<br/>or the whole&#160;FreezeFrame&#160;data set)&#160;or&#160;data identifier (ISO14229-1)&#160;that shall&#160;<br/>be copied to the destination buffer.&#160;<br/>
DestBuffer&#160;<br/>
This&#160;parameter contains&#160;a&#160;byte pointer that points to the buffer to which the&#160;<br/>FreezeFrame&#160;data shall be&#160;written.&#160;<br/>
BufSize&#160;<br/>
When&#160;the function is&#160;called&#160;this parameter contains&#160;the maximum number&#160;of&#160;<br/>data bytes that can be&#160;written to the buffer.&#160;The function returns the actual&#160;<br/>number of written data bytes in this parameter.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetFreeze-<br/>
Status of the operation of type&#160;Dem_ReturnGetFreezeFrameDataBy&#160;<br/>
FrameDataByDTCType&#160;<br/>
DTCType.&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;a Freeze Frame Data&#160;by DTC&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-35&#160;&#160;Dem_GetFreezeFrameDataByDTC &#160;&#160;&#160;<br/>
<b>6.2.5.2.5&#160;</b><br/>
<b>Dem_GetFreezeFrameDataIdentifierByDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetFreezeFrameDataIdentifierByDTCType&#160;<br/><b>Dem_GetFreezeFrameDataIdentifierByDTC</b>&#160;(&#160;<br/>&#160; uint32 &#160; &#160; &#160; &#160; &#160; DTC,&#160;<br/>&#160; uint8 &#160; &#160; &#160; &#160; &#160; &#160;DTCKind,&#160;<br/>&#160; uint8 &#160; &#160; &#160; &#160; &#160; &#160;DTCOrigin,&#160;<br/>&#160; uint8 &#160; &#160; &#160; &#160; &#160; &#160;RecordNumber,&#160;<br/>&#160; uint8 * &#160; &#160; &#160; &#160; &#160;ArraySize,&#160;<br/>&#160; const uint16 ** &#160;DataId&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x1e&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
This is the DTC the FreezeFrame is assigned to.&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
71&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=72></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-72_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>
DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information located in&#160;<br/>the secondary memory,&#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory&#160;<br/>
The definition&#160;and use of the different&#160;memory types is OEM specific.&#160;<br/>
RecordNumber&#160;<br/>
This&#160;parameter is a unique&#160;identifier for&#160;a FreezeFrame record as&#160;defined in&#160;<br/>ISO15031-5 and&#160;ISO14229-1.&#160;<br/>
ArraySize&#160;<br/>
This&#160;parameter specifies the number of&#160;data identifiers for the&#160;selected&#160;<br/>RecordNumber.&#160;<br/>
DataId&#160;<br/>
Pointer to an&#160;array with the&#160;supported data identifier for the selected&#160;<br/>RecordNumber and&#160;DTC.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetFreeze-<br/>
Status of the operation of type&#160;<br/>
FrameDataIdentifierBy-<br/>
Dem_ReturnGetFreezeFrameDataIdentifierByDTCType.&#160;<br/>
DTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;a Freeze Frame Data&#160;identifier by DTC&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-36&#160;&#160;Dem_GetFreezeFrameDataIdentifierByDTC&#160;&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.2.6&#160;</b><br/>
<b>Dem_GetSizeOfFreezeFrame&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetSizeOfFreezeFrameType&#160;<b>Dem_GetSizeOfFreezeFrame</b>&#160;(&#160;<br/>&#160; uint32 &#160; &#160;DTC,&#160;<br/>&#160; uint8 &#160; &#160; DTCKind,&#160;<br/>&#160; uint8 &#160; &#160; DTCOrigin,&#160;<br/>&#160; uint8 &#160; &#160; RecordNumber,&#160;<br/>&#160; uint16 * &#160;SizeOfFreezeFrame&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x1f&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
This is the DTC the FreezeFrame is assigned to.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
72&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=73></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-73_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC, either only&#160;OBDrelevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>
DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information ocated&#160;in&#160;<br/>the secondary memory,&#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory&#160;<br/>
The definition&#160;and use of the different&#160;memory types is OEM specific.&#160;<br/>
RecordNumber&#160;<br/>
This&#160;parameter is a unique&#160;identifier for&#160;a FreezeFrame record as&#160;defined in&#160;<br/>ISO15031-5 and&#160;ISO14229-1.&#160;<br/>
SizeOfFreezeFrame&#160;<br/>
Number of bytes in the requested FreezeFrame.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetSizeOf-<br/>
Status of the operation of type Dem_ReturnGetSizeOfFreezeFrameType&#160;<br/>
FreezeFrameType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;size of a FreezeFrame&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-37&#160;&#160;Dem_GetSizeOfFreezeFrame&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.2.7&#160;</b><br/>
<b>Dem_GetExtendedDataRecordByDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetExtendedDataRecordByDTCType&#160;<br/><b>Dem_GetExtendedDataRecordByDTC</b>(&#160;<br/>&#160; uint32 &#160; DTC,&#160;<br/>&#160; uint8 &#160; &#160;DTCKind,&#160;<br/>&#160; uint8 &#160; &#160;DTCOrigin,&#160;<br/>&#160; uint8 &#160; &#160;ExtendedDataNumber,&#160;<br/>&#160; uint8 * &#160;DestBuffer,&#160;<br/>&#160; uint8 * &#160;BufSize&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x20&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
This is the DTC the 'Extended Data&#160;Record' is&#160;assigned to.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
73&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=74></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-74_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information located in&#160;<br/>the secondary memory,&#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory&#160;<br/>
The definition&#160;and use of the different&#160;memory types is OEM specific.&#160;<br/>
ExtendedDataNumber&#160;<br/>
Identification of&#160;requested&#160;Extended data record.&#160;The&#160;requested&#160;record is&#160;<br/>copied to the destination buffer.&#160;<br/>
DestBuffer&#160;<br/>
This&#160;parameter contains&#160;a&#160;byte pointer that points to the buffer to which the&#160;<br/>Extended Data&#160;shall be&#160;written.&#160;<br/>
BufSize&#160;<br/>
When&#160;the function is&#160;called&#160;this parameter contains&#160;the maximum number&#160;of&#160;<br/>data bytes that can be&#160;written to the buffer.&#160;The function returns the actual&#160;<br/>number of written data bytes in this parameter.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetExtended-&#160;Status of the operation of type&#160;<br/>DataRecordByDTCType&#160;<br/>
Dem_ReturnGetExtendedDataRecordByDTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;extended&#160;data record&#160;by DTC&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-38&#160;&#160;Dem_GetExtendedDataRecordByDTC&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.2.8&#160;</b><br/>
<b>Dem_GetSizeOfExtendedDataRecordByDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnGetSizeOfExtendedDataRecordByDTCType&#160;<br/><b>Dem_GetSizeOfExtendedDataRecordByDTC</b>&#160;(&#160;<br/>&#160; uint32 &#160; &#160;DTC,&#160;<br/>&#160; uint8 &#160; &#160; DTCKind,&#160;<br/>&#160; uint8 &#160; &#160; DTCOrigin,&#160;<br/>&#160; uint8 &#160; &#160; ExtendedDataNumber,&#160;<br/>&#160; uint16 * &#160;SizeOfExtendedDataRecord&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x21&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
74&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=75></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-75_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
This is the DTC the 'Extended Data&#160;Record' is&#160;assigned to.&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>
DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information ocated&#160;in&#160;<br/>the secondary memory,&#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory &#160;<br/>
The definition&#160;and use of the different&#160;memory types is OEM specific.&#160;<br/>
ExtendedDataNumber&#160;<br/>
Identification of&#160;requested&#160;Extended data record.&#160;The&#160;requested&#160;record is&#160;<br/>copied to the destination buffer.&#160;<br/>
SizeOfExtendedData-<br/>
Pointer to Size of the requested data&#160;record&#160;<br/>
Record&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnGetSizeOf-<br/>
Status of the operation of type&#160;<br/>
ExtendedDataRecordBy-<br/>
Dem_ReturnGetSizeOfExtendedDataRecordByDTCType&#160;<br/>
DTCType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;the&#160;size of an extended data record&#160;by DTC&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-39&#160;&#160;Dem_GetSizeOfExtendedDataRecordByDTC&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.3&#160;</b><br/>
<b>Clear DTC Information&#160;</b><br/>
The next sections define the usage of the&#160;API-calls to delete single DTCs as well as&#160;<br/>groups of DTCs from the records of the DEM.&#160;<br/>
<b>6.2.5.3.1&#160;</b><br/>
<b>Dem_ClearDTC&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnClearDTCType&#160;<b>Dem_ClearDTC</b>&#160;(&#160;<br/>&#160; uint32 &#160;DTC,&#160;<br/>&#160; uint8 &#160; DTCKind,&#160;<br/>&#160; uint8 &#160; DTCOrigin&#160;<br/>)&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
75&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=76></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-76_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x22&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
Defines the DTC that shall be cleared from&#160;the event memory. If the DTC fits&#160;<br/>to a DTC group number,&#160;all DTCs of the group shall be cleared.&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTCOrigin&#160;<br/>
If the DEM supports&#160;more than one event memory this parameter is&#160;used&#160;to&#160;<br/>select the source memory the DTCs&#160;shall be read from.&#160;<br/>DEM_DTC_ORIGIN_MIRROR_MEMORY&#160;Event information located in the&#160;<br/>mirror memory,&#160;<br/>
DEM_DTC_ORIGIN_SECONDARY_MEMORY&#160;Event information ocated&#160;in&#160;<br/>the secondary memory,&#160;<br/>
DEM_DTC_ORIGIN_PRIMARY_MEMORY&#160;Event information located in the&#160;<br/>primary memory&#160;<br/>
The definition&#160;and use of the different&#160;memory types is OEM specific.&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnClearDTC-<br/>
Status of the operation of&#160;type Dem_ReturnClearDTCType.&#160;<br/>
Type&#160;<br/>
<b>Functional Description&#160;</b><br/>
Clears a&#160;DTC&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-40&#160;&#160;Dem_ClearDTC&#160;&#160;&#160;&#160;<br/>
When the&#160;API is called with the wrong&#160;DTCKind, the return value is&#160;<br/>DEM_CLEAR_WRONG_DTC and not DEM_CLEAR_WRONG_DTCKIND, as DTC and&#160;<br/>DTCKind don't fit together, and it cannot be&#160;determined which of both is incorrect.&#160;<br/>However,&#160;if an invalid DTCKind is used,&#160;DEM_CLEAR_WRONG_DTCKIND will be&#160;<br/>returned.&#160;<br/>
<b>6.2.5.4&#160;</b><br/>
<b>Control DTC Storage&#160;</b><br/>
This section defines the&#160;API-calls to&#160;enable and disable DTC storage in the DEM.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
76&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=77></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-77_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-77_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.5.4.1&#160;</b><br/>
<b>Dem_DisableDTCStorage&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnControlDTCStorageType&#160;<b>Dem_DisableDTCStorage</b>&#160;(&#160;<br/>&#160; uint32 &#160;DTCGroup,&#160;<br/>&#160; uint8 &#160; DTCKind&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x24&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTCGroup&#160;<br/>
Defines the group of DTC that shall be&#160;disabled to store in event memory.&#160;<br/>
DEM_DTC_GROUP_BODY_DTCS selects group of&#160;body DTCs,&#160;<br/>
DEM_DTC_GROUP_EMISSION_REL_DTCS selects group of OBD-relevant&#160;<br/>DTCs,&#160;<br/>
DEM_DTC_GROUP_ALL_DTCS selects all DTCs,&#160;<br/>
DEM_DTC_GROUP_CHASSIS_DTCS selects&#160;group of chassis&#160;DTCs,&#160;<br/>
DEM_DTC_GROUP_NETWORK_COM_DTCS selects group of&#160;network&#160;<br/>communication DTCs,&#160;<br/>
&#160;DEM_DTC_GROUP_POWERTRAIN_DTCS&#160;selects group of powertrain&#160;<br/>DTCs&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnControlDTC-<br/>
Status of the operation of type Dem_ReturnControlDTCStorageType.&#160;<br/>
StorageType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Disables&#160;the&#160;storage of a&#160;DTC group&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-41&#160;&#160;Dem_DisableDTCStorage&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Internal events can be disabled with&#160;the&#160;DTCGroup&#160;“all”.&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
77&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=78></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-78_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>6.2.5.4.2&#160;</b><br/>
<b>Dem_EnableDTCStorage&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnControlDTCStorageType&#160;<b>Dem_EnableDTCStorage</b>&#160;(&#160;<br/>&#160; uint32 &#160;DTCGroup,&#160;<br/>&#160; uint8 &#160; DTCKind&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x25&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTCGroup&#160;<br/>
Defines the group of DTC that shall be&#160;disabled to store in event memory.&#160;<br/>
DEM_DTC_GROUP_BODY_DTCS selects group of&#160;body DTCs,&#160;<br/>
DEM_DTC_GROUP_EMISSION_REL_DTCS selects group of OBD-relevant&#160;<br/>DTCs,&#160;<br/>
DEM_DTC_GROUP_ALL_DTCS selects all DTCs,&#160;<br/>
DEM_DTC_GROUP_CHASSIS_DTCS selects&#160;group of chassis&#160;DTCs,&#160;<br/>
DEM_DTC_GROUP_NETWORK_COM_DTCS selects group of&#160;network&#160;<br/>communication DTCs,&#160;<br/>
DEM_DTC_GROUP_POWERTRAIN_DTCS&#160;selects group of powertrain&#160;<br/>DTCs&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnControlDTC-<br/>
Status of the operation of type Dem_ReturnControlDTCStorageType.&#160;<br/>
StorageType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Enables&#160;the storage of a DTC group&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-42&#160;&#160;Dem_EnableDTCStorage&#160;&#160;&#160;&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
78&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=79></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-79_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.2.5.4.3&#160;</b><br/>
<b>Dem_DisableEventStatusUpdate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnControlEventUpdateType&#160;<b>Dem_DisableEventStatusUpdate</b>&#160;(&#160;<br/>&#160; uint32 &#160;DTCGroup,&#160;<br/>&#160; uint8 &#160; DTCKind&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x26&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTCGroup&#160;<br/>
Defines the group of DTC that shall be&#160;disabled to store in event memory.&#160;<br/>
DEM_DTC_GROUP_BODY_DTCS selects group of&#160;body DTCs,&#160;<br/>
DEM_DTC_GROUP_EMISSION_REL_DTCS selects group of OBD-relevant&#160;<br/>DTCs,&#160;<br/>
DEM_DTC_GROUP_ALL_DTCS selects all DTCs,&#160;<br/>
DEM_DTC_GROUP_CHASSIS_DTCS selects&#160;group of chassis&#160;DTCs,&#160;<br/>
DEM_DTC_GROUP_NETWORK_COM_DTCS selects group of&#160;network&#160;<br/>communication DTCs,&#160;<br/>
DEM_DTC_GROUP_POWERTRAIN_DTCS&#160;selects group of powertrain&#160;<br/>DTCs&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnControlEvent-&#160;Status of the operation of type&#160;Status of the operation&#160;of type&#160;<br/>UpdateType&#160;<br/>
Dem_ReturnControlEventUpdateType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Disables&#160;the&#160;event status&#160;update of a DTC group&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-43&#160;&#160;Dem_DisableEventStatusUpdate&#160;&#160;&#160;&#160;<br/>
<b>6.2.5.4.4&#160;</b><br/>
<b>Dem_EnableEventStatusUpdate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Dem_ReturnControlEventUpdateType&#160;<b>Dem_EnableEventStatusUpdate</b>&#160;(&#160;<br/>&#160; uint32 &#160;DTCGroup,&#160;<br/>&#160; uint8 &#160; DTCKind&#160;<br/>)&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
79&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=80></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-80_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
0x27&#160;<br/>
Synchronous&#160;<br/>
Non&#160;Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
DTCGroup&#160;<br/>
Defines the group of DTC that shall be&#160;disabled to store in event memory.&#160;<br/>
DEM_DTC_GROUP_BODY_DTCS selects group of&#160;body DTCs,&#160;<br/>
DEM_DTC_GROUP_EMISSION_REL_DTCS selects group of OBD-relevant&#160;<br/>DTCs,&#160;<br/>
DEM_DTC_GROUP_ALL_DTCS selects all DTCs,&#160;<br/>
DEM_DTC_GROUP_CHASSIS_DTCS selects&#160;group of chassis&#160;DTCs,&#160;<br/>
DEM_DTC_GROUP_NETWORK_COM_DTCS selects group of&#160;network&#160;<br/>communication DTCs,&#160;<br/>
DEM_DTC_GROUP_POWERTRAIN_DTCS&#160;selects group of powertrain&#160;<br/>DTCs&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC,&#160;either only&#160;OBD-relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS Select all&#160;DTCs&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
<b>Return code&#160;</b><br/>
Dem_ReturnControlEvent-&#160;Status of the operation of type&#160;Status of the operation&#160;of type&#160;<br/>UpdateType&#160;<br/>
Dem_ReturnControlEventUpdateType&#160;<br/>
<b>Functional Description&#160;</b><br/>
Enables&#160;the event status update of a DTC group&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
Table 6-44&#160;&#160;Dem_EnableEventStatusUpdate&#160;&#160;&#160;&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
80&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=81></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-81_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.3&#160;</b><br/>
<b>Services Used by&#160;DEM&#160;</b><br/>
In the following table services provided by&#160;other components, which are used by the DEM&#160;<br/>are listed. For details&#160;about prototype and functionality refer to&#160;the documentation of the&#160;<br/>providing component.&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
DET&#160;Det_ReportError&#160;<br/>EcuM&#160;EcuM_GeneratorCompatibilityError<a href="TechnicalReference_Asr_Dems.html#81">3&#160;<br/></a>NvM&#160;NvM_SetRamBlockStatus&#160;<br/>SchM&#160;SchM_Enter_Dem&#160;<br/>SchM&#160;SchM_Exit_Dem&#160;<br/>
Table 6-45&#160;&#160;&#160;Services Used by the DEM&#160;<br/>
<b>6.4&#160;</b><br/>
<b>Callback Functions&#160;</b><br/>
Callback functions are functions that are&#160;implemented by the DEM and that can be&#160;<br/>invoked by&#160;other modules.&#160;The&#160;prototypes of the callback functions are provided in the&#160;<br/>header file&#160;Dem.h&#160;by the DEM.&#160;<br/>
<b>6.4.1&#160;</b><br/>
<b>Dem_NvDataInit&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Dem_NvDataInit</b>&#160;(&#160;<br/>&#160; void&#160;<br/>)&#160;<br/>
<b>Service ID (hex)&#160;</b><br/>
<b>Sync/Async&#160;</b><br/>
<b>Reentrancy&#160;</b><br/>
none&#160;<br/>
Synchronous&#160;<br/>
Reentrant&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK &#160; &#160; &#160;&#160; &#160;to fulfill requirement NVM369&#160;for InitBlockCallbackFunction&#160;<br/>
<b>Functional Description&#160;</b><br/>
This&#160;callback shall be configured in the NvM as&#160;callback (NvmBlockDescriptor/NvmInitBlockCallback) to&#160;<br/>initialize the buffer&#160;Dem_NvData&#160;(NvmBlockDescriptor/NvmRamBlockDataAddress). The&#160;NvM&#160;will trigger&#160;<br/>this callback&#160;when either the stored non-volatile data&#160;block was never initialized&#160;before or&#160;when&#160;the non-<br/>volatile data&#160;was corrupted.&#160;<br/>
It may be called directly to re-initialize the non-volatile&#160;data of the Dem during the&#160;startup phase after the&#160;<br/>NvM has&#160;restored the previous data.&#160;<br/>
The initialization will clear all DTCs and data records from Dem and&#160;set all events to status untested (0x50).<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
3&#160;See [9]&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
81&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=82></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-82_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-82_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>GENy will automatically configure the&#160;NvM in the EcuC file to use that callback:&#160;<br/>
/AUTOSAR/NvM/NvmBlockDescriptor/NvmRamBlockDataAddress&#160;is&#160;set to&#160;Dem_NvData&#160;<br/>/AUTOSAR/NvM/NvmBlockDescriptor/NvmInitBlockCallback&#160;is&#160;set to&#160;Dem_NvDataInit&#160;<br/>/AUTOSAR/NvM/NvmBlockDescriptor/NvmSelectBlockForReadall&#160;is&#160;set to&#160;true&#160;<br/>
<b>&gt;&#160;&#160;</b>This function&#160;will reset all stored (non volatile) data of the Dem&#160;(besides the ‘SuppressDTC’&#160;data).&#160;<br/>
<b>&gt;&#160;&#160;</b>Do not call this function after Dem was started, as this will corrupt the working data.&#160;<br/>
Only call this&#160;function after&#160;Dem_PreInit() and before&#160;calling Dem_Init().&#160;<br/>
<b>&gt;&#160;&#160;</b>When&#160;using this function additional to the NvM callback to reset the (non volatile) data&#160;of the Dem, take&#160;<br/>
care that the NvM may restore the data of the Dem inside the&#160;startup-sequence,&#160;too.&#160;To make&#160;an&#160;<br/>impact, in this case you shall call this&#160;function after the NvM’s restoring and before Dem_Init(),&#160;<br/>otherwise the last wins (and&#160;Dem will use NvM’s restored data).&#160;<br/>
<b>&gt;&#160;&#160;</b>In Dem_Init()&#160;the&#160;Dem_NvData&#160;buffer is&#160;tested for a&#160;specific&#160;pattern at the begin&#160;and at the end of the&#160;<br/>
buffer.&#160;When&#160;either the pattern is missing or corrupt, the Dem itself will do a (re-)initialization of&#160;the&#160;<br/>buffer by calling this function.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;callback must be&#160;called before&#160;calling Dem_Init()&#160;each time when the non-volatile stored&#160;data is&#160;<br/>
either uninitialized or&#160;corrupt.&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Must be&#160;called in startup phase only (task or&#160;interrupt&#160;context)&#160;<br/>
Table 6-46&#160;&#160;&#160;Dem_NvDataInit&#160;<br/>
&#160;<br/>
<b>6.5&#160;</b><br/>
<b>Configurable Interfaces&#160;</b><br/>
<b>6.5.1&#160;</b><br/>
<b>Notifications&#160;</b><br/>
At its configurable interfaces the DEM defines&#160;notifications that&#160;can be mapped to callback&#160;<br/>functions provided by other modules.&#160;The mapping&#160;is not statically&#160;defined by&#160;the DEM but&#160;<br/>can be performed at configuration time.&#160;The function prototypes that can be used for the&#160;<br/>configuration have to&#160;match&#160;the appropriate function prototype signatures, which are&#160;<br/>described in the following sub-chapters.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>If following interfaces are used as port interfaces&#160;without RTE, the function prefix&#160;<br/>
&#160;&#160;<b>Rte_Call_Dem_</b>&#160;will be&#160;replaced by the prefix&#160;<b>Appl_Dem_</b>.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
82&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=83></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-83_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>6.5.1.1&#160;</b><br/>
<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_InitMonitorForEvent&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_InitMonitorForEvent</b>&#160;( &#160;<br/>&#160; Dem_InitMonitorKindType &#160;InitMonitorKind &#160;<br/>)&#160;<br/>
<b>Parameter&#160;</b><br/>
InitMonitorKind&#160;<br/>
{Clear, Restart}&#160;<br/>
Identification&#160;of the type of&#160;init function to be called from Monitor Function.&#160;<br/>
DEM_INIT_MONITOR_RESTART&#160;(0x02)&#160;Monitor Function of the EventId is&#160;<br/>requested to restart, DEM_INIT_MONITOR_CLEAR&#160;(0x01) Monitor Function&#160;<br/>of the EventId is cleared and all internal&#160;values and states are reset.&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: Operation was successful&#160;<br/>
E_NOT_OK: Operation failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
(Re)initializes the Monitor&#160;Function&#160;of a specific Event.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>AUTOSAR requires&#160;<i><b>CBInitEvt_&lt;EventName&gt;</b></i>&#160;as&#160;<i>&lt;ConfiguredName&gt;</i>.&#160;<br/>
In the configuration tool GENy the&#160;<i>&lt;ConfiguredName&gt;</i>&#160;is fully configurable by the user, you are&#160;not&#160;<br/>restricted to this&#160;AUTOSAR requirement.&#160;<br/>For full compliance with non-Vector&#160;components,&#160;choose the&#160;AUTOSAR required name. See “OnScreen&#160;<br/>Help” window in GENy for hint.&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
<b>&gt;&#160;&#160;</b>The specific&#160;Event has been cleared or&#160;the operation&#160;cycle of this&#160;Event has been (re)started&#160;<br/>
Table 6-47&#160;&#160;&#160;Rte_Call_Dem_&lt;ConfiguredName&gt;_InitMonitorForEvent&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
83&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=84></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-84_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.5.1.2&#160;</b><br/>
<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged &#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged</b>&#160;( &#160;<br/>&#160; Dem_EventStatusExtendedType &#160;EventStatusOld,&#160;<br/>&#160; Dem_EventStatusExtendedType &#160;EventStatusNew &#160;<br/>)&#160;<br/>
<b>Parameter&#160;</b><br/>
EventStatusOld&#160;<br/>
Event&#160;status before change&#160;<br/>
Bit 0&#160;TestFailed is&#160;set to 1 if the last&#160;event status update by the function&#160;<br/>Dem_SetEventStatus(Passed | Failed)&#160;was&#160;called with ‘failed’.&#160;The status&#160;is&#160;<br/>set to 0 if Dem_SetEventStatus is&#160;called&#160;with ‘passed’, on tester clear&#160;<br/>command and&#160;by&#160;API Dem_ResetEventStatus.&#160;<br/>
Bits&#160;0 and 6 are intended to&#160;set/reset monitor ‘inhibit ‘or ‘default’.&#160;<br/>
Bit 1&#160;TestFailedThisOperationCycle is&#160;set if at least one time the function&#160;<br/>Dem_SetEventStatus (passed | failed) is&#160;called with ‘failed’&#160;this cycle. Intended&#160;<br/>to be used&#160;for defaults&#160;reset only at next&#160;key on. &#160;<br/>
Bit 2 PendingDTC is&#160;set when associated DTC becomes available&#160;in Mode07&#160;<br/>(currently corresponds to ISO pending&#160;bit). &#160;<br/>
Intended to be&#160;used&#160;for the&#160;control of IUMPR counters.&#160;<br/>
Bit 3 ConfirmedDTC&#160;is&#160;set&#160;when associated DTC becomes available in&#160;<br/>Mode03 (currently corresponds to ISO confirmed bit). Could be used&#160;to set&#160;<br/>e.g. service request message.&#160;<br/>
Bit 4&#160;TestNotCompletedSinceLastClear is set to 0 if&#160;at least one time the&#160;<br/>function&#160;Dem_SetEventStatus (passed | failed) is&#160;called after last ClearDTC.&#160;<br/>
Bit 5 testFailedSinceLastClear is&#160;set to 0&#160;if at least one time the function&#160;<br/>Dem_SetEventStatus is&#160;called with ‘failed’&#160;this cycle.&#160;<br/>
Bit 6&#160;TestNotCompletedThisOperationCycle is set if at least one time the&#160;<br/>function&#160;Dem_SetEventStatus (passed | failed) is&#160;called within this&#160;cycle (the&#160;<br/>usage of different cycles is&#160;application-specific, if only one cycle is&#160;used, the&#160;<br/>differentiation&#160;is obsolete).&#160;<br/>
Bit 7 WarningIndicatorRequested reports the status&#160;of&#160;Bit 0 (TestFailed)&#160;when&#160;<br/>the support of&#160;this bit is configured&#160;(see&#160;<a href="TechnicalReference_Asr_Dems.html#118">8.2.12.5.1</a>).&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
84&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=85></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-85_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
EventStatusNew&#160;<br/>
Event status&#160;after change&#160;<br/>
Bit 0&#160;TestFailed is&#160;set to 1 if the last&#160;event status update by the function&#160;<br/>Dem_SetEventStatus(Passed | Failed)&#160;was&#160;called with ‘failed’.&#160;The status&#160;is&#160;<br/>set to 0 if Dem_SetEventStatus is&#160;called&#160;with ‘passed’, on tester clear&#160;<br/>command and&#160;by&#160;API Dem_ResetEventStatus.&#160;<br/>
Bits&#160;0 and 6 are intended to&#160;set/reset monitor ‘inhibit ‘or ‘default’.&#160;<br/>
Bit 1&#160;TestFailedThisOperationCycle is&#160;set if at least one time the function&#160;<br/>Dem_SetEventStatus (passed | failed) is&#160;called with ‘failed’&#160;this cycle. Intended&#160;<br/>to be used&#160;for defaults&#160;reset only at next&#160;key on. &#160;<br/>
Bit 2 PendingDTC is&#160;set when associated DTC becomes available&#160;in Mode07&#160;<br/>(currently corresponds to ISO pending&#160;bit). &#160;<br/>
Intended to be&#160;used&#160;for the&#160;control of IUMPR counters.&#160;<br/>
Bit 3 ConfirmedDTC&#160;is&#160;set&#160;when associated DTC becomes available in&#160;<br/>Mode03 (currently corresponds to ISO confirmed bit). Could be used&#160;to set&#160;<br/>e.g. service request message.&#160;<br/>
Bit 4&#160;TestNotCompletedSinceLastClear is set to 0 if&#160;at least one time the&#160;<br/>function&#160;Dem_SetEventStatus (passed | failed) is&#160;called after last ClearDTC.&#160;<br/>
Bit 5 testFailedSinceLastClear is&#160;set to 0&#160;if at least one time the function&#160;<br/>Dem_SetEventStatus is&#160;called with ‘failed’&#160;this cycle.&#160;<br/>
Bit 6&#160;TestNotCompletedThisOperationCycle is set if at least one time the&#160;<br/>function&#160;Dem_SetEventStatus (passed | failed) is&#160;called within this&#160;cycle (the&#160;<br/>usage of different cycles is&#160;application-specific, if only one cycle is&#160;used, the&#160;<br/>differentiation&#160;is obsolete).&#160;<br/>
Bit 7 WarningIndicatorRequested reports the status&#160;of&#160;Bit 0 (TestFailed)&#160;when&#160;<br/>the support of&#160;this bit is configured&#160;(see&#160;<a href="TechnicalReference_Asr_Dems.html#118">8.2.12.5.1</a>).&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: Operation was successful&#160;<br/>
E_NOT_OK: Operation failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Triggers on&#160;changes of the&#160;extended Event status&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>None&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
<b>&gt;&#160;&#160;</b>The extended&#160;Event status&#160;of the specific Event has been changed&#160;<br/>
Table 6-48&#160;&#160;&#160;Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
85&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=86></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-86_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-86_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.5.1.3&#160;</b><br/>
<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged &#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged</b>&#160;(&#160;<br/>&#160; Dem_DTCType &#160; &#160; &#160; &#160; &#160; &#160;DTC,&#160;<br/>&#160; Dem_DTCKindType &#160; &#160; &#160; &#160;DTCKind,&#160;<br/>&#160; Dem_DTCStatusMaskType &#160;DTCStatusOld,&#160;<br/>&#160; Dem_DTCStatusMaskType &#160;DTCStatusNew&#160;<br/>)&#160;<br/>
<b>Parameter&#160;</b><br/>
DTC&#160;<br/>
This is the DTC the change trigger is assigned to.&#160;<br/>
DTCKind&#160;<br/>
This&#160;parameter defines&#160;the&#160;requested&#160;DTC, either only&#160;OBD relevant DTCs or&#160;<br/>all DTCs&#160;<br/>
DEM_DTC_KIND_ALL_DTCS: Select all&#160;DTCs&#160;&#160;<br/>
DEM_DTC_KIND_EMISSION_REL_DTCS:&#160;Select OBD-relevant&#160;DTCs&#160;<br/>
DTCStatusOld&#160;<br/>
DTC&#160;status&#160;before change&#160;<br/>
DTCStatusNew&#160;<br/>
DTC&#160;status&#160;after change&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK: Operation was successful&#160;<br/>
E_NOT_OK: Operation failed&#160;<br/>
<b>Functional Description&#160;</b><br/>
Triggers on&#160;changes of the&#160;DTC&#160;status&#160;(the DTC status reports all&#160;supported status bits&#160;but the bits&#160;<br/>disabled by the DTCStatusAvailabilityMask, see&#160;<a href="TechnicalReference_Asr_Dems.html#97"><i>8.1.1</i></a>).&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>AUTOSAR requires&#160;<i><b>CBStatusDTC_&lt;EventName&gt;</b></i>&#160;as&#160;<i>&lt;ConfiguredName&gt;</i>.&#160;<br/>
In the configuration tool GENy the&#160;<i>&lt;ConfiguredName&gt;</i>&#160;is fully configurable by the user, you are&#160;not&#160;<br/>restricted to this&#160;AUTOSAR requirement.&#160;<br/>For full compliance with non-Vector&#160;components,&#160;choose the&#160;AUTOSAR required name. See “OnScreen&#160;<br/>Help” window in GENy for hint.&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
<b>&gt;&#160;&#160;</b>The status of&#160;the specific Event (DTC) has been changed&#160;<br/>
Table 6-49&#160;&#160;&#160;Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The parameter DTCKind&#160;is an extension to the&#160;AUTOSAR description.&#160;This parameter&#160;<br/>
&#160;&#160;is needed to&#160;get a unique prototype (a DTC is not unambiguous) – see&#160;Bugzilla 24330.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>6.5.2&#160;</b><br/>
<b>Callout Functions&#160;</b><br/>
At its configurable interfaces&#160;the DEM defines callout&#160;functions.&#160;The declarations of the&#160;<br/>callout functions are provided by&#160;the BSW module. It is the integrator's task to provide the&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
86&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=87></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-87_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-87_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-87_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
corresponding function definitions.&#160;The definitions of the callouts&#160;can be adjusted to the&#160;<br/>system's needs.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>If following interfaces are used as port interfaces&#160;without RTE, the function prefix&#160;<br/>
&#160;&#160;<b>Rte_Call_Dem_</b>.will be&#160;replaced by the prefix&#160;<b>Appl_Dem_</b>.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>6.5.2.1&#160;</b><br/>
<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<br/><b>Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier</b>&#160;(&#160;<br/>&#160; Dem_MaxDataValueType &#160;Data &#160;<br/>)&#160;<br/>
<b>Parameter&#160;</b><br/>
Data &#160;<br/>
Pointer to the buffer in the DEM which&#160;must be filled with the requested value.&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
If the data value of the requested data identifier is available and successful&#160;<br/>supplied as&#160;out parameter&#160;the&#160;API returns E_OK. If there is no&#160;data&#160;value&#160;<br/>available for&#160;a certain data&#160;identifier the&#160;API returns E_NOT_OK. In case of&#160;<br/>E_NOT_OK the DEM fills the missing data&#160;with the padding&#160;value&#160;0xFF,&#160;<br/>reports the development error DEM_E_NODATAAVAILABLE to the DET&#160;and&#160;<br/>continues its&#160;normal operation.&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;data&#160;value defined&#160;by a data identifier.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>AUTOSAR requires&#160;<i><b>CBValByDID_&lt;DataID&gt;</b></i>&#160;as&#160;<i>&lt;ConfiguredName&gt;</i>.&#160;<br/>
In the configuration tool GENy the&#160;<i>&lt;ConfiguredName&gt;</i>&#160;is fully configurable by the user, you are&#160;not&#160;<br/>restricted to this&#160;AUTOSAR requirement.&#160;<br/>For full compliance with non-Vector&#160;components,&#160;choose the&#160;AUTOSAR required name. See “OnScreen&#160;<br/>Help” window in GENy for hint.&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
<b>&gt;&#160;&#160;</b>Data values are required for a specific&#160;(pre-stored)&#160;FreezeFrame&#160;<br/>
Table 6-50&#160;&#160;&#160;Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To get DCM&#160;compatible ports, use the option “Use Dcm Compatible Ports” described in&#160;<br/>
&#160;&#160;chapter&#160;<a href="TechnicalReference_Asr_Dems.html#107">8.2.6.&#160;</a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
87&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=88></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-88_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-88_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>When DCM&#160;compatible ports&#160;are used, the runnable may not return neither&#160;<br/>
<b>&#160;&#160;</b>E_PENDING nor E_NOT_OK.&#160;<br/>
In case of an error the SWC shall return E_OK and fill the whole data buffer with 0xFF&#160;<br/>bytes instead of returning E_NOT_OK.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>6.5.2.2&#160;</b><br/>
<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_GetExtendedDataRecord&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Rte_Call_Dem_&lt;ConfiguredName&gt;_GetExtendedDataRecord</b>&#160;( &#160;<br/>&#160; Dem_MaxExtendedDataRecordType &#160;Data &#160;<br/>)&#160;<br/>
<b>Parameter&#160;</b><br/>
Data &#160;<br/>
Pointer to the buffer in the DEM which&#160;must be filled with the requested value.&#160;<br/>
<b>Return code&#160;</b><br/>
Std_ReturnType&#160;<br/>
The return value specifies&#160;whether the&#160;API call has been successful&#160;<br/>(Extended&#160;Data Record available)&#160;or not&#160;(no Extended Data&#160;Record&#160;<br/>available). In case of E_NOT_OK the DEM fills the missing Data&#160;with the&#160;<br/>padding value 0xFF, reports&#160;the development error&#160;<br/>DEM_E_NODATAAVAILABLE to the DET&#160;and continues its normal operation.&#160;<br/>
<b>Functional Description&#160;</b><br/>
Gets&#160;an&#160;extended data&#160;record.&#160;<br/>
<b>Particularities and Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>AUTOSAR requires&#160;<i><b>CBExtDataRec_&lt;RecordNumber&gt;</b></i>&#160;as&#160;<i>&lt;ConfiguredName&gt;</i>.&#160;<br/>
In the configuration tool GENy the&#160;<i>&lt;ConfiguredName&gt;</i>&#160;is used as&#160;required by&#160;AUTOSAR.&#160;<br/>
Expected Caller Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task context&#160;<br/>
<b>&gt;&#160;&#160;</b>ExtendedDataRecord is&#160;required&#160;<br/>
Table 6-51&#160;&#160;&#160;Rte_Call_Dem_&lt;ConfiguredName&gt;_GetExtendedDataRecord&#160;<br/>
<b>6.6&#160;</b><br/>
<b>Service Ports&#160;</b><br/>
<b>6.6.1&#160;</b><br/>
<b>Client Server Interface&#160;</b><br/>
A&#160;client server interface is related to a Provide Port at the server&#160;side and a Require Port&#160;<br/>at the client side. &#160;<br/>
<b>6.6.1.1&#160;</b><br/>
<b>Provide Ports on DEM Side&#160;</b><br/>
At the Provide Ports of the DEM&#160;the&#160;API functions described in&#160;<a href="TechnicalReference_Asr_Dems.html#39">6.2&#160;are available as&#160;<br/></a>Runnable Entities.&#160;The Runnable&#160;Entities are invoked via operations.&#160;The mapping from a&#160;<br/>SWC client&#160;call to an operation is performed by&#160;the RTE. In this mapping the RTE adds&#160;<br/>Port Defined&#160;Argument Values to the client call of the SWC, if configured.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
88&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=89></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-89_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
The following sub-chapters present the Provide Ports defined for the DEM and the&#160;<br/>operations defined for the Provide Ports, the&#160;API functions&#160;related to the&#160;operations and&#160;<br/>the Port Defined&#160;Argument Values to be added by the RTE.&#160;<br/>
<b>6.6.1.1.1&#160;</b><br/>
<b>DiagnosticMonitor&#160;</b><br/>
&#160;<br/>
<b>Operation&#160;</b><br/>
<b>API Function&#160;</b><br/>
<b>Port Defined&#160;Argument Values&#160;</b><br/>
SetEventStatus Dem_SetEventStatus&#160;&#160;IN Dem_EventStatusType EventStatus,&#160;<br/>
ERR{E_NOT_OK}&#160;<br/>
ResetEventStatus&#160;Dem_ResetEventSt<br/>
s&#160;<br/>
atu<br/>
ERR{E_NOT_OK}&#160;<br/>
GetEventStatus Dem_GetEventStatus&#160;OUT&#160;<br/>
Dem_EventSt<br/>
dT<br/>
atusExtende&#160;ype&#160;<br/>
EventStatusExtended, ERR{E_NOT_OK}&#160;<br/>
GetEventFailed&#160;Dem_GetEventFailed&#160;<br/>
OUT&#160;Boolean&#160;EventFailed,&#160;<br/>ERR{E_NOT_OK}&#160;<br/>
GetEventTested&#160;Dem_GetEventTested&#160;<br/>
OUT&#160;Boolean&#160;EventTested,&#160;<br/>ERR{E_NOT_OK}&#160;<br/>
GetDTCOfEvent&#160;Dem_GetDTCOfEvent&#160;&#160;IN&#160;Dem_DTCKindType DTCKind, OUT&#160;<br/>
Dem_DTCType DTC, ERR{E_NOT_OK,&#160;<br/>DEM_GET_DTCOFEVENT_WRONG_DT<br/>CKIND,&#160;<br/>DEM_GET_DTCOFEVENT_WRONG_EV<br/>ENTID}&#160;<br/>
PrestoreFreezeFrame Dem_PrestoreFreezeFrame&#160;&#160;ERR{E_NOT_OK}&#160;<br/>
ClearPrestoredFreezeFrame Dem_ClearPrestoredFreezeFrame&#160;ERR{E<br/>
_OK}&#160;<br/>
_NOT<br/>
GetFaultDetectionCounter&#160;Dem_GetFaultDetectionCo&#160;ter&#160;<br/>
un<br/>
OUT&#160;<br/>
Dem_FaultDetectionCounterType&#160;<br/>
EventIdFaultDetec<br/>
Cou<br/>
tion<br/>
nter,&#160;<br/>
ERR{E_NOT_OK}&#160;<br/>
GetOccurrenceCounter&#160;Dem_GetOccurrenceCounter&#160;&#160;OUT&#160;<br/>
UInt8&#160;<br/>
OccurrenceCounterValue,&#160;<br/>
ERR{E_NOT_OK}&#160;<br/>
Table 6-52&#160;&#160;&#160;DiagnosticMonitor&#160;<br/>
<b>6.6.1.1.2&#160;</b><br/>
<b>C</b><br/>
<b>Operation&#160;ycle&#160;</b><br/>
&#160;<br/>
<b>Operation&#160;</b><br/>
<b>API Function&#160;</b><br/>
<b>Port Defined&#160;Argument Values&#160;</b><br/>
SetOperationCycleState Dem_SetOperationCycleState&#160;&#160;IN&#160;<br/>
Dem_OperationCycleStateType&#160;<br/>
CycleState, ERR{E_NOT_OK}&#160;<br/>
Table 6-53&#160;&#160;&#160;OperationCycle&#160;<br/>
<b>6.6.1.1.3&#160;</b><br/>
<b>O</b><br/>
<b>ValueBy&#160;emId&#160;</b><br/>
This optional interface is not supported by Vector.&#160;<br/>See chapter&#160;6.2.3.10.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
89&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=90></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-90_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>6.6.1.1.4&#160;</b><br/>
<b>EnableCondition&#160;</b><br/>
This opt<br/>
orted by V<br/>
ional interface is not supp<br/>
ector.&#160;<br/>
See chapter&#160;6.2.3.11.&#160;<br/>
<b>6.6.1.1.5&#160;</b><br/>
<b>IndicatorStatus&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
<b>Port Defined&#160;Argument Values&#160;</b><br/>
GetIndicatorStatus&#160;Dem_GetIndica<br/>
t<br/>
torS&#160;atus&#160;&#160;OUT&#160;IndicatorStatusType IndicatorSt&#160;tus<br/>
a<br/>
,&#160;<br/>
ERR{E_NOT_OK}&#160;<br/>
Table 6-54&#160;&#160;&#160;IndicatorStatus&#160;<br/>
<b>6.6.1.2&#160;</b><br/>
<b>Require Ports on DEM Side&#160;</b><br/>
At its Require Ports the DEM calls Operations.&#160;These Operations have to be&#160;provided by&#160;<br/>the SWCs&#160;by means of Runn<br/>
tities.&#160;<br/>
able En<br/>
These Runnable Entities implement the&#160;<br/>
callback functions expected by the DEM.&#160;<br/>The following sub-chapters present the Require Ports defined for the&#160;DEM, the Operations&#160;<br/>
&#160;Notifi<br/>
that are called by the DEM and the related<br/>
cations or Callouts, which are described in&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#82">chapter&#160;6.5</a>.&#160;<br/>
<b>6.6.1.2.1&#160;</b><br/>
<b>otification CallbackInitMonitorForEvent</b><br/>
<b>N</b><br/>
<b>&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>Notification&#160;</b><br/>
InitMonitorForEvent{EventName} Rte_Call_Dem_&lt;ConfiguredName&gt;_InitMonitorForEvent&#160;<br/>
Table 6-55&#160;&#160;&#160;CallbackInitMonitorForEvent&#160;<br/>
AUTOSAR requires&#160;CBInitEvt_&lt;EventName&gt;&#160;as &lt;ConfiguredName&gt;.&#160;This name&#160;is&#160;<br/>suggested by the configuration tool GENy&#160;but fully configurable by the user. &#160;<br/>
<b>6.6.1.2.2&#160;</b><br/>
<b>Notification CallbackInitMonitorForFunction&#160;</b><br/>
This callback is not supported by&#160;Vector DEM.&#160;To&#160;initialize monitors use the&#160;AUTOSAR&#160;API&#160;<br/>CallbackInitMonitorForEvent instead.&#160;<br/>
<b>6.6.1.2.3&#160;</b><br/>
<b>Notification CallbackEventStatusChange&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>Notification&#160;</b><br/>
EventStatusChanged Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged&#160;<br/>
Table 6-56&#160;&#160;<br/>
t<br/>
CallbackEventS&#160;atusChange&#160;<br/>
AUTOSAR requires CBStatusEvt_&lt;EventName&gt; as &lt;ConfiguredName&gt;.&#160;This name is&#160;<br/>suggested by the configuration tool GENy&#160;but fully configurable by the user. &#160;<br/>
<b>6.6.1.2.4&#160;</b><br/>
<b>Notification CallbackDTCStatusChange&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>Notification&#160;</b><br/>
DTCStatusChanged Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
90&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=91></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-91_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-91_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
Table 6-57&#160;&#160;&#160;CallbackDTCStatusChange&#160;<br/>
AUTOSAR&#160;requires CBStatusDTC_&lt;EventName&gt; as&#160;&lt;ConfiguredName&gt;.&#160;This name is&#160;<br/>s<br/>
onfiguratio<br/>
uggested by the c<br/>
n tool GENy&#160;but fully configurable by the user. &#160;<br/>
<b>6.6.1.2.5&#160;</b><br/>
<b>Callout Function CallbackGetDataValueByDataID{DataId}&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>Callout Function&#160;</b><br/>
GetDataValueByDataID Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataID&#160;<br/>
Table 6-58&#160;&#160;&#160;CallbackGetDataValueByDataID{DataId}&#160;<br/>
AUTOSAR&#160;requires&#160;CBValByDID_&lt;DataID&gt;&#160;as&#160;&lt;ConfiguredName&gt;.&#160;This name is&#160;<br/>suggested<br/>
iguration<br/>
&#160;by the conf<br/>
&#160;tool GENy&#160;but fully configurable by the user.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To get DCM&#160;compatible ports, use the option “Use Dcm Compatible Ports” described in&#160;<br/>
&#160;&#160;chapter&#160;8.2.6.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>6.6.1.2.6&#160;</b><br/>
<b>Callout Function CallbackGetExtendedDataRecord{RecordNumber}&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>Callout Function&#160;</b><br/>
GetExtendedDataRecord Rte_Call_Dem_&lt;ConfiguredName&gt;_GetExtendedDataRecord&#160;<br/>
Table 6-59&#160;&#160;&#160;CallbackGetExtendedDataRecord{RecordNumber}&#160;<br/>
AUTO<br/>
requires<br/>
SAR&#160;<br/>
&#160;CBExtDataRec_&lt;Record&#160;u<br/>
N&#160;mber&gt; as &lt;ConfiguredName&gt;. This&#160;name&#160;<br/>
is&#160;used&#160;by the configur&#160;tion to<br/>
a<br/>
ol GENy.&#160;<br/>
<b>6.6.1.2.7&#160;</b><br/>
<b>Callout Function CallbackG&#160;FaultDetectCounter&#160;</b><br/>
<b>et</b><br/>
As debouncing is implemented in the DEM, the SWC does&#160;not have to deliver the&#160;<br/>DTCFaultDetectionCounter via this callback function.&#160;<br/>
Therefore there is no need to support this&#160;API.&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
91&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=92></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-92_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>7&#160;&#160;Additional Features&#160;</b><br/>
<b>7.1&#160;</b><br/>
<b>Multi-Identity&#160;Support&#160;</b><br/>
<b>7.1.1&#160;</b><br/>
<b>Functionality&#160;</b><br/>
Per specification the DEM has a static configuration set – once all events are configured,&#160;<br/>and the program code is flashed into the ECU there are no&#160;more configuration changes&#160;<br/>possible.&#160;This is the so called single identity mode.&#160;<br/>&#160;<br/>The DEM module, developed by&#160;Vector, additionally&#160;implements a dynamic&#160;configuration&#160;<br/>mode that allows switching among the available configuration&#160;sets at run-time (without&#160;<br/>need to reprogram the ECU).&#160;This&#160;requires that the superset of&#160;all variants must be pre-<br/>enabled during the software compilation and link process.&#160;<br/>DEM/DCM supports the following kinds of&#160;diagnostic configuration set usage:&#160;<br/>
<b>&gt;&#160;&#160;</b>Single Identity – the&#160;ECU is programmed with only one configuration set.&#160;<br/>
<b>&gt;&#160;&#160;</b>Multi Identity – the ECU is programmed with multiple configuration sets.&#160;At ECU start up&#160;<br/>
there will be&#160;only one of them selected as active (exclusive configuration selection).&#160;<br/>
<i>Multi Identity Mode is not available with this version of the DEM.&#160;</i><br/>
<b>&gt;&#160;&#160;</b>Vehicle&#160;System Group (VSG) –&#160;the ECU is programmed with multiple configuration sets,&#160;<br/>
where as one of them is specified&#160;as base&#160;variant.&#160;At ECU start up the base variant will&#160;<br/>be always active (automatically&#160;used in DEM). Optionally the application can select one&#160;<br/>or more from the available configuration sets to be active&#160;too (additive configuration&#160;<br/>selection).&#160;<br/>
&#160;<br/>For more details about the different kinds of&#160;the configuration use cases, please refer to&#160;<br/>the following chapters and to&#160;the related chapters of the DCM&#160;Technical Reference.&#160;<br/>&#160;<br/>
<b>7.1.2&#160;</b><br/>
<b>Single-Identity&#160;Mode&#160;</b><br/>
If the single-identity operation&#160;mode has&#160;been selected, DEM uses a statically assigned&#160;<br/>configuration set which is linked at ECU compile and link time.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
92&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=93></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-93_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
APPL&#160;<br/>
DEM &#160;<br/>
Event CFG&#160;<br/>
DEM&#160;<br/>
DCM&#160;<br/>
BSW&#160;<br/>
Figure 7-1&#160;&#160;DEM single identity&#160;mode&#160;<br/>
In this case DEM has only one diagnostic configuration set.&#160;<br/>&#160;<br/>
<b>7.1.2.1&#160;</b><br/>
<b>Configuration in CANdela&#160;</b><br/>
<b>ation in CANdela&#160;</b><br/>
You just need to prepare the c<br/>
ou just need to prep<br/>
orresponding CDD variant for your ECU configuration in&#160;<br/>
CANdelaSt<br/>
CANdelaS&#160;udio as usual.&#160;<br/>
<b>7.1.2.2&#160;</b><br/>
<b>Configuration in GENy&#160;</b><br/>
<b>Configuration in GENy</b><br/>
Import the CDD file and the&#160;corresponding CDD variant in&#160;GENy (refer to chapter&#160;<br/>
nt in&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#102"><i>8.2.2.1</i></a><br/>
GENy (refer to chapter&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#102"><i>&#160;</i></a><br/>
<a href="TechnicalReference_Asr_Dems.html#102"><i>8.2.2.1</i></a><br/>
<a href="TechnicalReference_Asr_Dems.html#102">Single Identity Mode</a>).&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#102">Single Identity Mode<br/></a>&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
93&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=94></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-94_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>7.1.3&#160;</b><br/>
<b>Vehicle System Group (VSG) Mode&#160;</b><br/>
In Vehicle System Group (VSG) mode, DEM has the following characteristics:&#160;<br/>
<b>&gt;&#160;&#160;</b>Allows to support multiple diagnostic configuration variants – each variant reflects a&#160;<br/>
VSG from the imported CDD file, and additionally&#160;there is a base variant that contains&#160;<br/>all services&#160;that does not belong to any VSG.&#160;<br/>
<b>&gt;&#160;&#160;</b>One or several configuration variants can&#160;be simultaneously activated during the ECU&#160;<br/>
initialization.&#160;The base variant is always active.&#160;<br/>
All VSGs are specified by a single variant of a CDD (see chapter<a href="TechnicalReference_Asr_Dems.html#94">&#160;<i>7.1.3.1</i></a>). The&#160;common&#160;<br/>part of all VSGs will build the&#160;<i>base variant</i>.&#160;The difference of each VSG in relation to the&#160;<br/><i>base variant</i>&#160;will build a&#160;<i>diagnostic configuration variant</i>.&#160;At startup, the ECU will be&#160;<br/>configured with the&#160;<i>base variant</i>&#160;plus zero or more&#160;<i>diagnostic configuration variants</i>.&#160;<br/>&#160;<br/>
APPL&#160;<br/>
additional to base&#160;<br/>(optional)<br/>
&#160;<br/>&#160;&#160;&#160;&#160;&#160;<i>Add.</i>&#160;DEM &#160;<br/>
Event CFG&#160;<br/>
DEM&#160;<br/>
∑&#160;<br/>
<i>Base</i>&#160;DEM&#160;<br/>
Event CFG&#160;<br/>
DCM&#160;<br/>
BSW&#160;<br/>
&#160;<br/>
Figure 7-2&#160;&#160;DEM Vehicle System Group (VSG) mode&#160;<br/>
&#160;<br/>
<b>7.1.3.1&#160;</b><br/>
<b>Configuration in CANdela&#160;</b><br/>
Please follow the steps below on how to&#160;configure VSG in CANdelaStudio.&#160;<br/>&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
94&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=95></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-95_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-95_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-95_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
1.&#160;&#160;Defining all available&#160;VSGs for the actual ECU.&#160;<br/>In CANdelaStudio, select the Vehicle System Groups view and add all necessary VSGs&#160;<br/>into the VSG pool.&#160;<br/>
&#160;<br/>
Figure 7-3&#160;&#160;Defining VSGs in CANdelaStudio&#160;<br/>
The name of the created&#160;VSGs will be used&#160;later by DEM for the diagnostic configuration&#160;<br/>constants that the DEM application shall use during the configuration&#160;activation phase (see&#160;<br/><a href="TechnicalReference_Asr_Dems.html#42">chapter&#160;<i>6.2.2.4&#160;Dem_InitDiagnosticVariant</i></a>).&#160;<br/>Each DTC can be assigned to one or more VSGs.&#160;<br/>
&#160;<br/>
Figure 7-4&#160;&#160;Assigning VSGs&#160;to a DTC in&#160;CANdelaStudio&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
95&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=96></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-96_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
If a DTC is part of all&#160;defined VSGs (or in none of them) it will be put into&#160;the&#160;<i>base variant</i>,&#160;<br/>otherwise it&#160;will be put into the configured additive&#160;<i>diagnostic configuration variant(s)</i>.&#160;<br/>
In the example above it&#160;will become&#160;part of additive variant “VSG2” and&#160;of “VSG3” –&#160;it is not part of&#160;<br/>the additive variant “VSG1”.&#160;<br/>
The DTC is available, when you start-up your ECU in these modes:&#160;<br/>
<b>&gt;&#160;&#160;</b>Base variant + VSG2&#160;<br/>
<b>&gt;&#160;&#160;</b>Base variant + VSG3&#160;<br/>
<b>&gt;&#160;&#160;</b>Base variant + VSG1 + VSG2&#160;<br/>
<b>&gt;&#160;&#160;</b>Base variant + VSG2 + VSG3&#160;<br/>
It is not available,&#160;when you start-up your ECU in that mode:&#160;<br/>
<b>&gt;&#160;&#160;</b>Base variant only&#160;<br/>
<b>&gt;&#160;&#160;</b>Base variant + VSG1&#160;<br/>
&#160;<br/>
<b>7.1.3.2&#160;</b><br/>
<b>Configuration in GENy&#160;</b><br/>
Import the CDD file in GE<a href="TechnicalReference_Asr_Dems.html#103">Ny (refer to chapter&#160;<i>8.2.2.2&#160;Vehicle System&#160;Group</i>&#160;(VSG) Mode).&#160;<br/></a>&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
96&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=97></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-97_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-97_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-97_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-97_4.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>8&#160;&#160;Configuration&#160;</b><br/>
GENy is the configuration tool for all&#160;MICROSAR components. CANdelaStudio is&#160;the&#160;<br/>expert tool for diagnostic communication&#160;managed by the DCM.&#160;All diagnostic services&#160;<br/>used by the DCM can be configured there.&#160;The DCM and the DEM work closely together&#160;<br/>so significant attributes of&#160;the DEM can be configured in CANdelaStudio as well as in&#160;<br/>GENy.&#160;<br/>In the DEM the attributes can be&#160;configured with the&#160;following methods:&#160;<br/>
<b>&gt;&#160;&#160;</b>Configuration in CANdelaStudio,&#160;for a detailed description see&#160;<a href="TechnicalReference_Asr_Dems.html#97">8.1&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Configuration in GENy, for a detailed description see&#160;<a href="TechnicalReference_Asr_Dems.html#101">8.1.3.1&#160;</a><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The configuration made in CANdelaStudio can be&#160;used for automatic configuration in&#160;<br/>
&#160;&#160;GENy – see&#160;<a href="TechnicalReference_Asr_Dems.html#104">8.2.2.3</a>.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The structure of the template (CDDT) and the qualifier of all relevant attributes and&#160;<br/>
<b>&#160;&#160;</b>parameters is predefined&#160;for correct import of CDD files in GENy.&#160;Any&#160;modification&#160;<br/>
might result&#160;in unrecognized values&#160;during the import.&#160;<br/>
The DIAG_ASRDEM_VECTOR 2.08.00 is released for CDD-Template&#160;<br/>
.&#160;<br/>
Please check that your CDD founds&#160;on the correct CDDT&#160;in CANdelaStudio menu&#160;<br/>“File” &gt; “Properties…” &gt; “Document Info”.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.1&#160;</b><br/>
<b>Configuration with CANdelaStudio&#160;</b><br/>
The following attributes can&#160;be configured in the diagnostic instance “Fault Memory” for&#160;<br/>the DEM.&#160;<br/>
<b>8.1.1&#160;</b><br/>
<b>DTC Settings&#160;</b><br/>
In the DTCStatusAvailabilityMask table you can configure the reported status bits&#160;which&#160;<br/>are used for all DTCs.&#160;<br/>In the DTC&#160;Table you can create DTCs and&#160;make the needed settings for them. See the&#160;<br/>following table to find the analogy&#160;between the CANdela attributes and the GENy notations&#160;<br/>(the attributes not used for the configuration are not&#160;mentioned here).&#160;<br/>&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
97&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=98></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-98_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-98_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>DTC Table&#160;<br/></b>CANdelaStudio &#160;<br/>
GENy&#160;<br/>
DTC &#160;<br/>
DTC&#160;<br/>
Errortext shortname &#160;<br/>
Symbolic Name&#160;<br/>
Operation Cycle &#160;<br/>
Operation Cycle Ref&#160;<br/>
Self Healing (Aging)&#160;<br/>
Healing&#160;Allowed&#160;<br/>
Healing Cycle &#160;<br/>
Healing Cycle Ref&#160;<br/>
Healing Cycles &#160;<br/>
Healing Cycle Counter&#160;<br/>
Monitor Initialization Function&#160;<br/>
Init Monitor Name, will be:&#160;<br/>
CBInitEvt<i>_&lt;Symbolic Name&gt;</i>&#160;<br/>
DTC Priority &#160;<br/>
Event Priority&#160;<br/>
DTC Severity&#160;<br/>
DTC Severity&#160;<br/>
Pre-Debounce Algorithm&#160;<br/>
Pre Debounce Name&#160;<br/>
Count-In step size&#160;<br/>
Count In Step Size&#160;<br/>
Count-Out step size&#160;<br/>
Count Out Step Size&#160;<br/>
Use Jump-Up (Prefailed)&#160;<br/>
Jump Up&#160;<br/>
Use Jump-Down (Prepassed)&#160;<br/>
Jump Down&#160;<br/>
Set WarningIndicator Bit at fault&#160;<br/>
DTC Support Warning Indicator&#160;<br/>
Functional Unit&#160;<br/>
DTC Functional Unit – fixed to 0xFF&#160;<br/>
DTC Debounce Failed&#160;Timeout Value&#160;Failed&#160;<br/>
Timeout&#160;<br/>
Value&#160;<br/>
[ms]&#160;<br/>
DTC Debounce Passed&#160;Timeout Value&#160;&#160;Passed&#160;Timeout Value [ms]&#160;<br/>
Table 8-1&#160;&#160;&#160;Equivalence of DTC Settings in CANdelaStudio and GENy&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Several BSW errors are predefined for your project.&#160;These errors are typically internal&#160;<br/>
&#160;&#160;and therefore, no DTC number is configured and&#160;no additional data will be stored when&#160;<br/>
the event becomes failed. In GENy,&#160;many&#160;settings of BSW errors are greyed out and&#160;<br/>can not be changed.&#160;<br/>To change settings of BSW errors, you must configure them via CANdelaStudio. Use&#160;<br/>the “Symbolic&#160;Name” of the BSW error as “Errortext shortname” and make your&#160;<br/>configurations. During the import of the CDD in&#160;GENy<a href="TechnicalReference_Asr_Dems.html#104">&#160;(see&#160;8.2.2.3) the&#160;</a>settings of&#160;that&#160;<br/>BSW error&#160;will be overwritten.&#160;To avoid inconsistencies, all&#160;imported settings will be&#160;<br/>write-protected (i.e. greyed out) in GENy.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
98&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=99></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-99_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-99_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>In Vehicle System&#160;Group (VSG)&#160;mode (see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#94"><i>7.1.3</i>) all DTCs created in GENy&#160;</a><br/>
&#160;&#160;are put into the&#160;<i>base variant</i>.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>8.1.2&#160;</b><br/>
<b>Freeze Frame Types (Snapshot&#160;Records)&#160;</b><br/>
Snapshot records can be assigned to the single&#160;DTCs.&#160;They consist of one&#160;ore more DIDs&#160;<br/>(Data Identifiers).&#160;To&#160;configure the snapshot record data, follow the subsequent&#160;<br/>description:&#160;<br/>
<b>&gt;&#160;&#160;</b>Ensure that the required DIDs&#160;are available in a data identifier diagnostic class e.g.&#160;<br/>
“Read Only Data&#160;Identifiers”. Create a&#160;new diagnostic instance with the required&#160;<br/>identifier if necessary:&#160;<br/>
&#160;&#160;Right-Mouse-Button on “Read Only Data&#160;Identifiers”, add new diagnostic instance&#160;<br/>
&#160;&#160;Configure name and DID&#160;<br/>
&#160;&#160;Create&#160;a new Packet data type for this DID&#160;(configure name and size), copy or reuse&#160;<br/>
an existing Packet data type&#160;<br/>
<b>&gt;&#160;&#160;</b>Assign the needed DIDs to the DTCs via Right-Mouse-Button menu “New DID&#160;<br/>
reference” (tab “Snapshot Record” of&#160;diagnostic instance “Fault Memory”).&#160;<br/>
<b>8.1.3&#160;</b><br/>
<b>Extended Records&#160;</b><br/>
The configured extended data record package is used for all DTCs.&#160;<br/>
<b>&gt;&#160;&#160;</b>Ensure that the data types with the required extended records are&#160;available. Otherwise&#160;<br/>
create a new data type “Text&#160;Table” or extend an existing one with the missing extended&#160;<br/>record numbers (e.g. data type “ExtendedDataRecordNumber).&#160;<br/>
<b>&gt;&#160;&#160;</b>Assign the data type including the required extended data&#160;record numbers in tab&#160;<br/>
“ExtendedDataRecordNumber”.&#160;<br/>
<b>8.1.3.1&#160;</b><br/>
<b>OccurrenceCounter&#160;</b><br/>
For using the internally implemented occurrence counter your CDD must base on&#160;a CDDT&#160;<br/>that offers this feature. See description&#160;below, how to check for the correct CDD. &#160;<br/>The extended data record “OccurrenceCounter” shall be predefined in the&#160;CDD of your&#160;<br/>delivery.&#160;The record has some constraints:&#160;<br/>
&#160;&#160;it must contain only one data element, and&#160;<br/>
&#160;&#160;this data element must be of Datatype “Occurrence Counter”, which is a 1 Byte&#160;<br/>
unsigned data&#160;that was specifically flagged in&#160;the CDDT.&#160;<br/>
The record number for the extended data record can be modified by the user. It defaults to&#160;<br/>Extended Record Number 0x01.&#160;<br/>If this extended data record exists, the internal implementation for&#160;the Occurrence Counter&#160;<br/>will be activated, you will get an&#160;API&#160;for&#160;the BSW modules to&#160;read the counter (see&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
99&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=100></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-100_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-100_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-100_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-100_4.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#55">6.2.3.14</a>) and you will get an additional operation for the PortInterface DiagnosticMonitor&#160;<br/>for access via the RTE (see&#160;<a href="TechnicalReference_Asr_Dems.html#89">6.6.1.1.1).&#160;</a><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>If this extended record&#160;does not exist or above constraints&#160;are not fulfilled, the internal&#160;<br/>
&#160;&#160;implementation of the occurrence counter will be&#160;deactivated.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
When the “OccurrenceCounter” is missing in your CDD (but supported by the CDDT),&#160;<br/>please follow the subsequent description to add the counter:&#160;<br/>
<b>&gt;&#160;&#160;</b>Ensure that the datatype “Occurrence Counter” exists. Create a new “raw value” if&#160;<br/>
necessary:&#160;<br/>
&#160;&#160;Right-Mouse-Button in the list&#160;of the Data&#160;Types, add “New Data&#160;Type” “Raw Value”&#160;<br/>
&#160;&#160;In tab “General” configure name (“Occurrence Counter”) and qualifier&#160;<br/>
(“OccurrenceCounter”)&#160;<br/>
&#160;&#160;In tab “id Raw value” configure Length (Byte:Bit) “1:0” and “Encoding” with&#160;<br/>
“Unsigned”&#160;<br/>
<b>&gt;&#160;&#160;</b>Assign this data type to the extended record you want to use as occurrence counter ( in&#160;<br/>
diagnostic class “Fault Memory”, tab “ExtendedDataRecord”)&#160;<br/>
&#160;<br/>
Figure 8-1&#160;&#160;OccurrenceCounter&#160;<br/>
When you followed above sequence but the internal implementation of the occurrence&#160;<br/>counter is still not available, please prove following, to evaluate&#160;if the feature is missing in&#160;<br/>your CDDT.&#160;<br/>In GENy open the DEM’s extended data record view:&#160;<br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
100&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=101></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-101_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-101_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-101_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
In the right side of the window,&#160;the internal OccurrenceCounter will look like:&#160;<br/>
&#160;Å&#160;Correct: No Function here&#160;<br/>
Figure 8-2&#160;&#160;This CDD supports&#160;the internal Occurrence Counter&#160;<br/>
&#160;<br/>When the CDD/CDDT&#160;does&#160;<b>not support</b>&#160;the internal OccurrenceCounter, the window&#160;<br/>contains an additional row “Get Ext&#160;Data&#160;Record&#160;Fnc“. In this case you must change your&#160;<br/>CDDT&#160;or upgrade your&#160;CDD to use the internal counter.&#160;<br/>
&#160;Å&#160;Wrong: External Function&#160;<br/>
Figure 8-3&#160;&#160;This CDD does&#160;NOT&#160;support the&#160;internal Occurrence Counter&#160;<br/>
&#160;<br/>
<b>8.1.4&#160;</b><br/>
<b>Pre de-bounce algorithms&#160;</b><br/>
The DEM offers the algorithms&#160;<br/>
<b>&gt;&#160;&#160;</b>Counter based&#160;<br/>
<b>&gt;&#160;&#160;</b>Time based&#160;<br/>
The CDD setting “Application based” is not&#160;supported. During import, the counter based&#160;<br/>algorithm is used instead and&#160;GENy will report an error message for the wrong configured&#160;<br/>DTC.&#160;<br/>For implementing an external de-bouncing, choose the counter based algorithm with step&#160;<br/>size “1”. When you start the application based, external&#160;de-bouncing, send the event&#160;<br/>status PRE_FAILED respectively&#160;PRE_PASSED as&#160;trigger to the DEM to correctly initialize&#160;<br/>the FaultDetectionCounter.&#160;At&#160;end of application based de-bouncing, report the final event&#160;<br/>status to DEM as PASSED respectively FAILED.&#160;<br/>&#160;<br/>
<b>8.2&#160;</b><br/>
<b>Configuration with GENy&#160;</b><br/>
The DEM is configured with the help&#160;of the configuration tool GENy.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
101&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=102></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-102_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-102_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-102_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-102_4.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>8.2.1&#160;</b><br/>
<b>Start the Configuration&#160;</b><br/>
To&#160;configure the DEM select this component&#160;in the system configuration window.&#160;The DEM&#160;<br/>should be visible in the tree view.&#160;<br/>
<b>8.2.2&#160;</b><br/>
<b>Import CDD&#160;</b><br/>
Independent of the used variant&#160;mode (Single Identity&#160;or Vehicle System Group (VSG)),&#160;<br/>the used CDD(s) are configured with component DCM for both, the DEM and the DCM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>When you switch off the&#160;DCM, the&#160;virtual&#160;component “Diagnostic Configuration” will&#160;<br/>
&#160;&#160;pop up instead. Use this&#160;component to configure the imported CDD files and diagnostic&#160;<br/>
variants:&#160;<br/>
&#160;<br/>
&#160;<br/>
Note: For supporting Multiple Identity&#160;Mode (see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#94"><i>7.1.3</i></a><i>&#160;<a href="TechnicalReference_Asr_Dems.html#94">Vehicle System&#160;Group&#160;<br/>(VSG) Mode</i>) together with ECU-C fil</a>e format to store the configuration, the use of&#160;<br/>Vector’s&#160;DCM is mandatory.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.2.1&#160;</b><br/>
<b>Single Identity&#160;Mode&#160;</b><br/>
First you have to put the DCM GENy configurator in single-identity mode:&#160;<br/>
&#160;<br/>
Figure 8-4&#160;&#160;Switching DCM/DEM in GENy&#160;to&#160;single-identity&#160;mode&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
102&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=103></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-103_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-103_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-103_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
Now you have to specify the CDD file and a CDD variant for the first diagnostic&#160;<br/>configuration.&#160;<br/>
&#160;<br/>
Figure 8-5&#160;&#160;Select the CDD&#160;and the variant in&#160;the CDD&#160;<br/>
&#160;<br/>
<b>8.2.2.2&#160;</b><br/>
<b>Vehicle System Group (VSG) Mode&#160;</b><br/>
Here are the steps you have to&#160;follow in order to configure multi-identity mode (Vehicle&#160;<br/>System Group – VSG) in GENy.&#160;<br/>&#160;<br/>1.&#160;&#160;Select multi-identity mode&#160;“VSG Mode” for DCM and DEM &#160;<br/>First you have to put the DCM GENy configurator in multi-identity mode:&#160;<br/>
&#160;<br/>
Figure 8-6&#160;&#160;Switching DCM in GENy&#160;to VSG&#160;mode&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
103&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=104></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-104_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-104_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-104_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-104_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-104_5.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-104_6.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-104_7.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
Now import the CDD file and specify the CDD-variant containing the VSGs in GENy.&#160;<br/>
&#160;<br/>
Figure 8-7&#160;&#160;Select the CDD&#160;and the variant in&#160;the CDD&#160;<br/>
&#160;<br/>
<b>8.2.2.3&#160;</b><br/>
<b>Automatic Configuration&#160;via CANdelaStudio Files&#160;</b><br/>
For automatic configuration via CANdelaStudio file (*.CDD) here some remarks.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Not all settings of the DEM can be done via CANdelaStudio and not all properties can&#160;<br/>
<b>&#160;&#160;</b>be imported automatically.&#160;The GENy import&#160;message refers to possible&#160;errors.&#160;They&#160;<br/>
shall not&#160;cause an erratic behaviour.&#160;The DEM settings have to be verified and if&#160;<br/>necessary extended manually.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The settings of BSW errors will be overwritten, if this event is configured in the CDD,&#160;<br/>
&#160;&#160;too (i.e. in the CDD exists&#160;a DTC with the name of the BSW error as “Errortext&#160;<br/>
shortname” - see chapter<a href="TechnicalReference_Asr_Dems.html#97">&#160;8.1.1).&#160;</a><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To avoid inconsistencies, all imported settings from the CDD will be write-protected in&#160;<br/>
&#160;&#160;GENy.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/><b>&gt;&#160;&#160;</b>You&#160;can reselect the “CANdela Variant” to re-import the *.CDD-file.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>In CANdelaStudio there are no equivalents to&#160;Trigger Functions. For setting these&#160;<br/>
&#160;&#160;elements see following chapters.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Later imports&#160;may overwrite manual modifications in the GENy configuration.&#160;<br/>
<b>&#160;</b><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
104&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=105></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-105_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-105_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.3&#160;</b><br/>
<b>Tree View&#160;</b><br/>
With the tree view the different tables can be accessed.&#160;<br/>&#160;<br/>
&#160;<br/>
Figure 8-8&#160;&#160;Tree View&#160;<br/>
By pressing the + you will open the tree and see the currently defined objects.&#160;<br/>&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
105&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=106></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-106_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-106_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>8.2.4&#160;</b><br/>
<b>Main Configuration Window&#160;</b><br/>
&#160;<br/>
Figure 8-9&#160;&#160;Main Configuration Window&#160;&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
106&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=107></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-107_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-107_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-107_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-107_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-107_5.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-107_6.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-107_7.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
The main configuration window is separated in&#160;different sections. For a detailed description&#160;<br/>see the following chapters.&#160;<br/>
<b>8.2.5&#160;</b><br/>
<b>Common&#160;</b><br/>
These switches are informational and show&#160;the current settings of the delivered DEM&#160;<br/>library files.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The precompiled settings&#160;cannot be&#160;changed, due to compatibility with the delivered&#160;<br/>
<b>&#160;&#160;</b>library files.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>When you received source files of the DEM, the&#160;Development Error Detection (“Dev&#160;<br/>
&#160;&#160;Error Detect”) can be switched off or&#160;on. When this option&#160;is switched on,&#160;development&#160;<br/>
errors are reported to the development error tracer (DET).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.6&#160;</b><br/>
<b>Software Component Template&#160;</b><br/>
<i><b>Use RTE:</b></i>&#160;RTE-support can be en-/disabled.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>When you received library files of the DEM, please validate&#160;that the size of event ID&#160;<br/>
<b>&#160;&#160;</b>data type is not different&#160;between DEM types and&#160;RTE created types when changing&#160;<br/>
this setting.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>When enabling the RTE-support please ensure that there is at&#160;least one external event&#160;<br/>
<b>&#160;&#160;</b>configured.&#160;Map the associated port&#160;interfaces via DaVinci Network Designer.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The RTE-generated data type of the DEM “Dem_EventIdType” will be removed by&#160;the&#160;<br/>
&#160;&#160;RTE if there is no event&#160;with event destination other than internal.&#160;That optimization&#160;will&#160;<br/>
lead to a compile-error because the&#160;DEM needs&#160;that data type anyway.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<i><b>Software Component Name:</b></i>&#160;Used in the service port export as service component&#160;<br/>template name.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Change this name if you&#160;try to import&#160;the Dem components of several ECUs and have&#160;<br/>
&#160;&#160;problems with name clashes.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
107&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=108></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-108_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-108_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-108_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-108_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-108_5.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<i><b>Use Dcm Compatible Ports:</b></i>&#160;&#160;<br/>
If this option is enabled, the port interface 'CallbackGetDataValueByDataID' is replaced by&#160;<br/>a separate port interface CallbackGetDataValue_&lt;DID&gt; per DID.&#160;<br/>The operation GetDataValueByDataIdentifier is&#160;redefined to be compatible to the DCM&#160;<br/>counterpart ReadData.&#160;<br/>This makes it possible to trigger the same runnable with both operations.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>To work correctly, the runnable may&#160;not return neither E_PENDING nor&#160;E_NOT_OK&#160;<br/>
<b>&#160;&#160;</b>and may not&#160;depend upon CheckConditionRead&#160;being called&#160;before the runnable is&#160;<br/>
triggered.&#160;<br/>In case of an error the SWC shall return E_OK and fill the whole data buffer with 0xFF&#160;<br/>bytes instead of returning E_NOT_OK.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
If the option is disabled, the ports&#160;are generated as defined by&#160;AUTOSAR.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>This option&#160;has no effect if the RTE support is disabled.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.7&#160;</b><br/>
<b>Postbuild Settings&#160;</b><br/>
<i><b>Postbuild Start&#160;Address:&#160;</b></i>Enter the start address of your&#160;post-build configurable data of&#160;<br/>the DEM.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#3">See&#160;[8]</a>&#160;for&#160;more information.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Configuration variant post-build is not supported&#160;(see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#13">3&#160;for supp</a>orted&#160;<br/>
&#160;&#160;configuration variant(s).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.8&#160;</b><br/>
<b>Miscellaneous&#160;</b><br/>
<i><b>Dem Version:</b></i>&#160;Version of the DEM embedded source.&#160;<br/>
<i><b>Task Time [ms]:</b></i>&#160;Enter the time period for the scheduling of the Dem_MainFunction [ms].&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>This specified time must be provided by the ECU&#160;manager.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<i><b>Support Fim Notification&#160;API:</b></i>&#160;As the FIM is part of the&#160;AUTOSAR system, the FIM will&#160;<br/>be notified of event changes.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
108&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=109></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-109_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-109_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<i><b>DTC origin “Primary Memory” supported:</b></i>&#160;If enabled, this origin is&#160;available at the ECU.&#160;<br/>
<i><b>Status Availability&#160;Mask:</b></i>&#160;The status availability mask as configured in the CDD&#160;<br/>
<i><b>Snapshots&#160;Per DTC:</b></i>&#160;Number of stored Snapshot Records that can simultaneously be&#160;<br/>stored for each DTC.&#160;This is the sum of the first occurred and most recent snapshot&#160;<br/>records stored.&#160;<br/>
<i><b>First non-permanent snapshot:</b></i>&#160;First snapshot that will be overwritten when all snapshot&#160;<br/>slots are filled once.&#160;This will produce so called &#34;most recent&#34; snapshots.&#160;The snapshot&#160;<br/>slots are numbered zero (0) bases.&#160;<br/>Examples:&#160;<br/>-&#160;&#160;If you&#160;enter 2, you will get two &#34;First Occurred&#34; snapshots, the remaining &#34;Most Recent&#34;&#160;<br/>
snapshots (= 'Number of FreezeFrame Snapshots' - 2) will be overwritten when the&#160;<br/>event matures.&#160;<br/>
-&#160;&#160;If you enter 0 here, there are no permanent &#34;First Occurred&#34;&#160;snapshots, all (= 'Number&#160;<br/>
of FreezeFrame Snapshots' - 0) snapshot slots are used for the latest occurrences of&#160;<br/>the event (pure &#34;Most Recent&#34;).&#160;<br/>
<i><b>Max Number Event Entry Prm:</b></i>&#160;The storage capability&#160;of&#160;failed events and their&#160;<br/>environmental data is limited.&#160;The maximum&#160;size can be adjusted by this value.&#160;<br/>
<i><b>Type Of DTC Supported:</b></i>&#160;The DTC type is fixed by preconfiguration.&#160;<br/>
<b>8.2.9&#160;</b><br/>
<b>BSW Error Buffer&#160;</b><br/>
During start-up phase the BSW Modules report their errors with a buffered&#160;API&#160;<br/>(Dem_ReportError()) until the DEM is fully functional (call of&#160;Dem_Init()).&#160;<br/>
<i><b>Bsw Error Buffer Size:</b></i>&#160;Up to this number of events occurring before initialization of the&#160;<br/>DEM module can be stored in an error queue.&#160;Those events are processed by the DEM&#160;<br/>after the initialization&#160;process has completed.&#160;<br/>Priority will not be checked.&#160;<br/>
<i><b>Add Error Buffer Size:</b></i>&#160;In addition to the number of BSW events stored in the&#160;<br/>BswErrorBuffer,&#160;up to this number of operation cycle start events can be stored in the start&#160;<br/>up queue.&#160;<br/>The value should match the number of different&#160;operation cycles of those BSW events that&#160;<br/>can occur during system initialization.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>After the startup phase the buffers (for events and operation&#160;cycles) are joined and&#160;<br/>
&#160;&#160;reused to log event based&#160;API calls&#160;(see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#18">4.4).&#160;</a>These&#160;actions will&#160;be executed&#160;<br/>
during the next call of&#160;Dem_MainFunction().&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>8.2.10&#160;&#160;DTC Groups&#160;<br/></b>All available DTC groups are shown here and their represented DTC number can be&#160;<br/>adapted there. Unused DTC groups do not&#160;need to have a DTC number set.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
109&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=110></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-110_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-110_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-110_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>8.2.11&#160;&#160;NvRam Block IDs&#160;<br/></b><a href="TechnicalReference_Asr_Dems.html#41">The NvM-API mentioned in&#160;6.2.2.3</a>&#160;(NvM_SetRamBlockStatus()) accesses the NvRAM&#160;<br/>blocks configured in the NvRAM manager. &#160;<br/>
<i><b>Manually add an NvRAM&#160;BlockID:</b></i>&#160;This option is to configure a&#160;<i><b>non-existing</b></i>&#160;NvRAM&#160;<br/>BlockID for use with the DEM.&#160;<br/>Pressing this button will only create a symbolic&#160;name for an NvRAM Block in the NvM&#160;<br/>configuration, so you can choose that block when selecting the NvRAM Block&#160;ID in the&#160;<br/>next settings.&#160;<br/>This NvRAM Block ID is only used as a&#160;placeholder for GENy configuration and will&#160;<i><b>not</b></i>&#160;be&#160;<br/>exported to an EcuC file when it is created here.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Please ensure that the NvRAM BlockID is completely configured in the NvRAM&#160;<br/>
<b>&#160;&#160;</b>manager later, if you choose that ID in the following settings!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<i><b>NvRAM&#160;Block ID / Core NvRam Block:</b></i>&#160;The drop down list contains all available&#160;<br/>(configured) NvM Block IDs. Select one for the DEM to store its non-volatile data&#160;at.&#160;<br/>
GENy will configure the following attributes in the&#160;NvM/NvmBlockDescriptor&#160;in the&#160;<br/>EcuC file:&#160;<br/>
NvmRamBlockDataAddress&#160;is set to&#160;Dem_NvData&#160;<br/>NvmInitBlockCallback&#160;is set to&#160;Dem_NvDataInit<a href="TechnicalReference_Asr_Dems.html#81">&#160;(see ch.&#160;<i>6.4.1</i></a>)&#160;<br/>NvmSelectBlockForReadall&#160;is set to&#160;true.&#160;<br/>
If the chosen NvRAM Block ID was placeholder&#160;only (“manually added”), it now becomes a&#160;<br/><i><b>partly configured</b></i>&#160;NvRAM block after saving the EcuC file. Don’t forget to configure the&#160;<br/>leftover parts!&#160;<br/>
<b>8.2.12&#160;&#160;Manual Configuration&#160;<br/></b>The different configuration elements can either be added in the main configuration window &#160;<br/>&#160;<br/>
&#160;<br/>
Figure 8-10&#160;&#160;Manual Configuration of the DEM&#160;via Main Configuration Window&#160;&#160;<br/>
or by using Right-Mouse-Button in the left&#160;side tree view.&#160;<br/><b>&#160;</b><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
110&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=111></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-111_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-111_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-111_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-111_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-111_5.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
&#160;<br/>
Figure 8-11&#160;&#160;Manual Configuration of the&#160;DEM&#160;via Right-Mouse-Button in&#160;Tree&#160;View&#160;<br/>
<i><b>Create New Operation Cycle:&#160;</b></i>A&#160;new Operation Cycle can be added.&#160;<br/>
<i><b>Create New Data Object:&#160;</b></i>A&#160;new Data&#160;Object can be added.&#160;<br/>
<i><b>Create New Extended Data Record:</b></i><b>&#160;</b>A&#160;new Extended Data&#160;Record can be added.&#160;<br/>
<i><b>Create New Indicator:</b></i><b>&#160;</b>A&#160;new Indicator can be added.&#160;<br/>
<i><b>Create New Event:</b></i><b>&#160;</b>A&#160;new Event can be added.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>For configuring an event, you need an operation&#160;cycle and indicator(s) if required.&#160;To&#160;<br/>
&#160;&#160;accelerate the configuration, please&#160;check that&#160;the necessary&#160;objects&#160;do exist before&#160;<br/>
creating a new event.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>With Vehicle&#160;System&#160;Group (VSG)&#160;mode (see ch<a href="TechnicalReference_Asr_Dems.html#94">apter&#160;<i>7.1.3</i></a>) each event manually&#160;<br/>
&#160;&#160;created in GENy is put into the&#160;<i>base&#160;variant</i>.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.12.1&#160;&#160;Operation Cycles Window&#160;<br/></b>AUTOSAR predefines 4 Operation Cycles which are preconfigured.&#160;You can add your own&#160;<br/>cycles here by using the Right-Mouse-Button in&#160;the tree view or by pressing the “Add&#160;<br/>Operation Cycle” button in the main configuration window.&#160;<br/>&#160;<br/>
&#160;<br/>
Figure 8-12&#160;&#160;Operation Cycles&#160;Window&#160;<br/>
The set “Symbolic Name” for this operation&#160;cycle can be used to identify this operation&#160;<br/>cycle in a more human&#160;readable way.&#160;In the generated source there will be created a&#160;<br/>#define using this name.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
111&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=112></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-112_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-112_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-112_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-112_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-112_5.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The&#160;AUTOSAR configuration model does not permit the definition of new,&#160;independent&#160;<br/>
&#160;&#160;cycles.&#160;You&#160;can only create new labels&#160;(symbolic names) for existing cycles.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.12.2&#160;&#160;Data Object Window&#160;<br/></b>A&#160;data object describes one DataIdentifier – including its symbolic name, Data&#160;ID and Data&#160;<br/>Size. For each data object a separate port interface can be created by adding individual&#160;<br/>Port Prototype Name. If the same Port Prototype Name is used a common port interface&#160;<br/>will be used.&#160;<br/>
&#160;<br/>
Figure 8-13&#160;&#160;Data&#160;Object Window&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>To get DCM&#160;compatible ports, use the option “Use Dcm Compatible Ports” described in&#160;<br/>
&#160;&#160;chapter&#160;<a href="TechnicalReference_Asr_Dems.html#107">8.2.6.&#160;</a><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.12.3&#160;&#160;Extended Data Records&#160;<br/></b>The following ExtendedData&#160;Record can be imported via CDD&#160;<a href="TechnicalReference_Asr_Dems.html#99">(configuration see&#160;8.1.3.1</a>):&#160;<br/>
&#160;<br/>
Figure 8-14&#160;&#160;ExtendedData Records &#160;<br/>
<i><b>OccurrenceCounter:&#160;<br/></b></i>This ExtendedData Record will be available when a CDD configured&#160;as&#160;described in&#160;<br/>chapter&#160;&#160;<a href="TechnicalReference_Asr_Dems.html#99">8.1.3.1&#160;has been imported. It has a fixed s</a>ize&#160;of 1 Byte (unsigned).&#160;The record&#160;<br/>number is configurable in the CDD.&#160;You can neither change the size and the name of this&#160;<br/>ExtendedData&#160;Record nor remove&#160;it from&#160;the&#160;configuration.&#160;<br/>For this ExtendedData Record, an internal function of the DEM exists&#160;and therefore, no&#160;<br/>port prototype must be configured.&#160;<br/>
<i><b>Optional: further,&#160;user defined Data Records:&#160;<br/></b></i>After adding a new record you must define the&#160;(1 Byte) record number and the size of this&#160;<br/>record.&#160;The data values for ExtendedData Records are provided by&#160;the SWC.&#160;Therefore&#160;<br/>the callback function that&#160;is written into Port&#160;Prototype Name field will be&#160;called, if it is&#160;<br/>necessary to update the Extended&#160;Data&#160;Record of any event. &#160;<br/>The suggestion of GENy for the function&#160;name&#160;(Get Ext&#160;Data&#160;Record Fnc)&#160;is&#160;<br/>CBExtDataRec_&lt;RecordNumber&gt;. In spite of&#160;AUTOSAR configuration, which limits the&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
112&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=113></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-113_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-113_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-113_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-113_4.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
name of the port interface to CBExtDataRec_&lt;RecordNumber&gt;, you can set the full name&#160;<br/>of the function here.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The user defined extended records&#160;will be updated each time the event gets failed&#160;<br/>
&#160;&#160;(status bit “testFailed” changes from 0 to 1), when all storage&#160;conditions&#160;are fulfilled.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The biggest&#160;extended data record must fit in the&#160;configured page buffer of the DCM.&#160;<br/>
<b>&#160;&#160;</b>See technical reference&#160;of the DCM&#160;for more details.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.12.4&#160;&#160;Indicator Window&#160;<br/></b>AUTOSAR does not have any predefined Indicators and if your ECU doesn’t need them,&#160;<br/>you needn’t define any.&#160;<br/>&#160;<br/>To&#160;define the first Indicator you can either&#160;press in the main configuration window the&#160;<br/>button “Add Indicator” or use in the left&#160;side tree view the Right-Mouse-Button option “Add&#160;<br/>New Indicator”.&#160;<br/>After defining the first Indicator you can also use Right-Mouse-Button in the Indicator&#160;<br/>window to add further Indicators:&#160;<br/>&#160;<br/>
&#160;<br/>
Figure 8-15&#160;&#160;Indicator Window&#160;<br/>
Enter a symbolic name and assign an IndicatorID.&#160;<br/>&#160;<br/>The set “Symbolic Name” of this Indicator&#160;can be used to identify it in a more human&#160;<br/>readable way.&#160;In the generated&#160;source there will be created&#160;a #define using this name.&#160;<br/>&#160;<br/>
<b>8.2.12.5&#160;&#160;Event Configuration Window&#160;<br/></b>When starting with a new&#160;configuration, typically there exist some preset events.&#160;These&#160;<br/>are required by other&#160;AUTOSAR SW-C modules&#160;and are typically configured as “Internal&#160;<br/>Event”:&#160;They have no DTC number assigned thus cannot be requested externally by&#160;<br/>diagnostic services.&#160;They don’t store environmental data&#160;with them (as such could not be&#160;<br/>read via diagnostics) but they have an event&#160;status that can be used by FIM.&#160;<br/>Such predefined internal events&#160;have greyed&#160;out the “Symbolic&#160;Name”; they cannot be&#160;<br/>removed from the configuration.&#160;<br/>&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
113&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=114></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-114_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-114_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-114_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Starting with Dem&#160;version 2.14.00, the interpretation of the “Symbolic Name” was&#160;<br/>
&#160;&#160;modified to act closer to&#160;the&#160;AUTOSAR requirements:&#160;<br/>
When creating #defines&#160;for EventID&#160;and IndicatorID, the Dem will now add prefix&#160;Dem_&#160;<br/>to the configured Symbolic Names to&#160;avoid namespace clashes. See your release&#160;<br/>notes for more details.&#160;<br/>
Example: the symbolic name&#160;for the event CAN_E_TIMEOUT&#160;will now result in file&#160;<br/>Dem_IntErrId.h to a line&#160;like that:&#160;<br/>
#define Dem_CAN_E_TIMEOUT &#160; &#160; &#160; 42&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
Figure 8-16&#160;&#160;Event Configuration Window&#160;<br/>
To&#160;define your own event, use&#160;one of the 3 choices: press&#160;in the main configuration&#160;<br/>window the button “Add Event”, use in the left&#160;side tree view the Right-Mouse-Button&#160;<br/>option “Add New Event” or (as seen above) use Right-Mouse-Button in the event&#160;<br/>configuration window itself.&#160;<br/>By selecting the created event in the left&#160;side tree-view, you can configure the event.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
114&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=115></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-115_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-115_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-115_3.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>For configuring an event, you need an operation&#160;cycle and indicator(s) if required.&#160;To&#160;<br/>
&#160;&#160;accelerate the configuration, please&#160;check that&#160;the necessary&#160;objects&#160;mentioned above&#160;<br/>
do exist before creating&#160;a new event.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The DEM requires at least one external event (assign a DTC&#160;Number to&#160;at least one&#160;<br/>
<b>&#160;&#160;</b>event). Otherwise the RTE will not generate the&#160;typedef Dem_EventIdType&#160;<br/>
and the compilation will&#160;not be possible.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
115&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=116></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-116_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-116_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
&#160;<br/>
Figure 8-17&#160;&#160;Configurable&#160;Options of an Event &#160;<br/>
All event specific parameters have to be&#160;adapted in this window. Preconfigured options&#160;<br/>may not be changed.&#160;<br/>
<i><b>Event Kind:&#160;<br/></b></i>Define the origin of the event (i.e. who is&#160;setting/modifying the event data) SWC (SW-<br/>Component) or BSW (Basic software).&#160;<br/>Events of Kind SWC will offer a Port Interface “Diagnostic Monitor” to set and read&#160;the&#160;<br/>event data via RTE. Such events must be set via RTE/Dem_SetEventStatus only.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
116&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=117></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-117_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-117_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-117_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-117_4.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
Events of Kind BSW will be queued in the Dem and worked in Dem’s cyclic task to get a&#160;<br/>defined call context (for notifications and callouts). Such events must be set via&#160;<br/>Dem_ReportErrorStatus only.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Either modify an event only through a monitor on application level (i.e. above the RTE)&#160;<br/>
<b>&#160;&#160;</b>and select “Event Kind: SWC” here, or through a&#160;monitor on basic software level and&#160;<br/>
select “Event Kind: BSW” here. Prevent modification from both sides for an event –&#160;<br/>else you may run into data corruption&#160;and undefined behavior resulting from&#160;infrequent&#160;<br/>simultaneous access.&#160;<br/>
Do not select “Event Kind: SWC” for BSW events&#160;and do not&#160;manually add a&#160;<br/>PortInterface (e.g. in DaVinci) for BSW events, for example to&#160;be able to use&#160;<br/>GetEventStatus via RTE: you will sporadically get incomplete event status when&#160;<br/>reading these events and you will sporadically&#160;corrupt DEM internal data when writing&#160;<br/>such events which can trigger undefined behavior. See chapt<a href="TechnicalReference_Asr_Dems.html#36">er&#160;<i>5.5</i></a><i>&#160;<a href="TechnicalReference_Asr_Dems.html#36">Call Context</i>&#160;for&#160;<br/></a>some background info.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/><i><b>Symbolic Name:&#160;<br/></b></i>The names&#160;can only be changed with own added events.&#160;The names of pre-added events&#160;<br/>cannot be changed.&#160;<br/>
<i><b>Operation Cycle Ref:&#160;<br/></b></i>An operation cycle has to be added to an event.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>Only if the operation cycle is started,&#160;the status of the event can be changed.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<i><b>Healing Allowed:&#160;<br/></b></i>Use this configuration switch to choose, if&#160;it will be possible to heal this event or not.&#160;<br/>
<i><b>Healing Cycle Ref:&#160;<br/></b></i>The cycle used for healing can be set here. Usually the “Operation Cycle” is chosen.&#160;<br/>
<i><b>Healing Cycle Counter:&#160;<br/></b></i>If an event can be healed, the necessary count&#160;of healing cycles until the event is healed&#160;<br/>can be adapted here.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The healing&#160;cycles are only counted, when the event is tested ‘passed’&#160;during that&#160;<br/>
&#160;&#160;operation cycle.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<i><b>Init&#160;Monitor Name:&#160;<br/></b></i>This function will be called to inform the monitor function if the operation cycle for this&#160;<br/>event is (re-)started (DEM_INIT_MONITOR_RESTART) or if the event&#160;is cleared from the&#160;<br/>event memory (DEM_INIT_MONITOR_CLEAR).&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
117&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=118></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-118_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-118_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-118_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-118_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-118_5.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
In spite of&#160;AUTOSAR configuration, which limits the name of the port interface to&#160;<br/>CBInitEvt_&lt;EventName&gt;, you can set the full name of the function here. &#160;<br/>
When you&#160;are importing from CDD,&#160;the&#160;default name will be&#160;CBInitEvt<i>_&lt;Symbolic&#160;<br/>Name&gt;</i>.&#160;You may change the name after the import.&#160;<br/>
<i><b>Event Priority:&#160;<br/></b></i>The priority value influences the displacement&#160;strategy if the storage buffer is full.&#160;The&#160;<br/>event with the lowest priority will be&#160;discarded, when the new event has a higher priority.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Different DTCs with equal priority value are permitted.&#160;The priorities are&#160;limited to&#160;<br/>
&#160;&#160;range 0…255 as required by&#160;AUTOSAR.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<i><b>Event Destination:&#160;<br/></b></i>The event destination is currently restricted&#160;to the primary memory, because the other&#160;<br/>memory locations are not supported.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>If an event has&#160;<b>no</b>&#160;<b>DTC number&#160;</b>assigned, it becomes an&#160;<b>INTERNAL&#160;EVENT</b>&#160;which&#160;<br/>
&#160;&#160;cannot be accessed&#160;via diagnostic services and&#160;which does&#160;not store environmental&#160;<br/>
data!&#160;This is the default for all BSW errors.&#160;<br/>INTERNAL&#160;EVENTs&#160;do have an event status, which is used&#160;by the FIM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>8.2.12.5.1&#160;&#160;DTC Settings&#160;</b><br/>
<i><b>DTC:&#160;<br/></b></i>This number is the external&#160;representation of the event.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>If an event has&#160;<b>no</b>&#160;<b>DTC number&#160;</b>assigned, it becomes an&#160;<b>INTERNAL&#160;EVENT</b>&#160;which&#160;<br/>
&#160;&#160;cannot be accessed&#160;via diagnostic services and&#160;which does&#160;not store environmental&#160;<br/>
data!&#160;This is the default for all BSW errors.&#160;<br/>INTERNAL&#160;EVENTs&#160;do have an event status, which is used&#160;by FIM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>Each event can get just&#160;one DTC number. Event&#160;- DTC is a 1:1 correlation (or 1:0 for&#160;<br/>
&#160;&#160;internal events).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<i><b>DTC Group:&#160;<br/></b></i>The DTC group will automatically be assigned to an event, based on&#160;the configured DTC&#160;<br/>number and the available DTC groups.&#160;<br/>
<i><b>DTC Severity:&#160;</b></i><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
118&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=119></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-119_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-119_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
The severity can be selected here.&#160;<br/>
<i><b>DTC Kind:&#160;<br/></b></i>Until OBD is supported, the DTC&#160;kind is fixed to ‘NORMAL’&#160;DTCs.&#160;<br/>
<i><b>DTC Support Warning Indicator:&#160;<br/></b></i>If this parameter is enabled Bit 7 ‘WarningIndicatorRequested’&#160;of the DTC status will be set&#160;<br/>when the DTC is failed (Bit 0 ‘TestFailed’&#160;is set).&#160;<br/>
<i><b>DTC Functional Unit:&#160;<br/></b></i>This parameter is necessary for the report&#160;of severity information. It identifies&#160;the&#160;<br/>corresponding basic vehicle / system&#160;function which reports the DTC.&#160;<br/>
<b>8.2.12.5.2&#160;&#160;Event Pre-Debouncing&#160;</b><br/>
<i><b>Pre Debounce&#160;Algorithm Class:&#160;<br/></b></i>The current DEM version supports the ‘counter based’&#160;and ‘timer based’&#160;de-bounce&#160;<br/>algorithm. &#160;<br/>
<i><b>Count In Step Size (counter based): &#160;<br/></b></i>This value represents the step&#160;size by which the DTC fault&#160;detection counter&#160;is increased&#160;<br/>for each ‘prefailed’&#160;call. Reaching value&#160;+127&#160;will make an event become ‘failed’.&#160;<br/>
<i><b>Count Out Step Size (counter based): &#160;<br/></b></i>This value represents the step size by which&#160;the DTC fault detection counter&#160;is decreased&#160;<br/>for each ‘prepassed’&#160;call. Reaching value&#160;-128 will make an event become ‘passed’.&#160;<br/>
<i><b>Failed Timeout Value (timer based): &#160;<br/></b></i>This value represents the time&#160;which has to elapse until an&#160;event which was reported with&#160;<br/>‘prefailed’&#160;become ‘failed’.&#160;<br/>
<i><b>Passed Timeout Value (timer based): &#160;<br/></b></i>This value represents the time&#160;which has to elapse until an event which was reported with&#160;<br/>‘prepassed’&#160;become ‘passed’.&#160;<br/>
<i><b>Jump Up (counter based):&#160;<br/></b></i>If the direction of the DTC fault detection&#160;counting will change from decrementing to&#160;<br/>incrementing and the value is&#160;below zero, a jump to zero will be made before&#160;<br/>incrementing.&#160;<br/>
<i><b>Jump Down (counter based):</b>&#160;<br/></i>If the direction of the DTC fault detection&#160;counting will change from incrementing to&#160;<br/>decrementing and the value is&#160;above zero,&#160;a jump to zero will be made before&#160;<br/>decrementing.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>AUTOSAR forbids using&#160;Jump-Down if Jump-Up was deactivated. Rationale in&#160;<a href="TechnicalReference_Asr_Dems.html#3">[1]:&#160;</a><br/>
&#160;&#160;“‘passed’&#160;results could&#160;be faster obtained than ‘failed’&#160;results.&#160;This is&#160;critical from legal&#160;<br/>
point of view.”&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.12.5.3&#160;&#160;Snapshot Records (FreezeFrames)&#160;</b><br/>
<i><b>FF Prestorage Supported:&#160;</b></i><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
119&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=120></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-120_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-120_2.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-120_3.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-120_4.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-120_5.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-120_6.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
If this parameter is enabled, the prestorage of snapshot records is supported by the&#160;<br/>assigned event.&#160;<br/>
<i><b>Create New Snapshot Record:&#160;<br/></b></i>To&#160;create a new snapshot record, click the button in the event configuration window (see&#160;<br/><a href="TechnicalReference_Asr_Dems.html#116">Figure 8-17</a>) or use the right-mouse-button option in the tree window.&#160;<br/>&#160;<br/>
&#160;<br/>
Figure 8-18&#160;&#160;Create&#160;New&#160;Snapshot Record&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>For defining&#160;a snapshot record, you need data objects.&#160;To accelerate the configuration,&#160;<br/>
&#160;&#160;please check that the necessary data objects&#160;do&#160;exist before creating a new snapshot&#160;<br/>
record.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
Each snapshot record includes&#160;a list of&#160;data objects.&#160;You can use one data object in&#160;<br/>several snapshot records and each snapshot&#160;record may have any number of data&#160;<br/>objects.&#160;<br/>
&#160;<br/>
Figure 8-19&#160;&#160;Snapshot Record&#160;Window&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>All configured data objects&#160;of one event will be reported in one snapshot&#160;record.&#160;The&#160;<br/>
&#160;&#160;snapshot record number of each stored snapshot record will&#160;be incremented per event&#160;<br/>
(first confirmed snapshot&#160;record: 0x01, second confirmed snapshot record: 0x02,…).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Caution&#160;<br/></b>The complete snapshot record must fit in the configured page buffer of the&#160;DCM.&#160;See&#160;<br/>
<b>&#160;&#160;</b>technical reference of the DCM for&#160;more details.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.12.5.4&#160;&#160;Extended Data Records&#160;<br/></b>All (external) events will use the identical&#160;set of Extended Data&#160;Records&#160;imported via&#160;<br/>CANdelaStudio CDD file.&#160;To&#160;modify the set please refe<a href="TechnicalReference_Asr_Dems.html#112">r chapter&#160;8.2.12.3</a>&#160;<a href="TechnicalReference_Asr_Dems.html#112"><i>Extended Data&#160;<br/>Records</i></a><a href="TechnicalReference_Asr_Dems.html#99">&#160;or&#160;8.1.3&#160;<i>Extended Records</i></a>&#160;via CANdela.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
120&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=121></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-121_1.png"/><br/>
<img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-121_2.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>8.2.12.5.5&#160;&#160;Indicators&#160;</b><br/>
<i><b>Linked Indicator:</b>&#160;<br/></i>If the event has status ‘failed’&#160;(Bit 0 ‘TestFailed’&#160;is set), this can be shown by one (or more)&#160;<br/>indicator(s). Choose one of the indicators created before from&#160;the drop down box.&#160;<br/>
<i><b>Indicator Behavior:</b>&#160;<br/></i>Select to the required behaviour ‘active’&#160;or ‘blinking’&#160;for each linked indicator.&#160;<br/>
<b>8.2.12.5.6&#160;&#160;TriggerOnEvent Callback Functions&#160;<br/></b>If the event status is changing one or multiple trigger functions can be&#160;called.&#160;The event&#160;<br/>status reports all supported status bits.&#160;<br/>The suggestion of GENy for the function name (Port Prototype Name) is&#160;<br/>CBStatusEvt_&lt;EventSymbolicName&gt;. In spite of&#160;AUTOSAR configuration, which limits&#160;<br/>the name of the port interface to CBStatusEvt_&lt;EventName&gt;, you can set the full name&#160;of&#160;<br/>the function here.&#160;<br/>
<b>8.2.12.5.7&#160;&#160;TriggerOnDtc Callback Functions&#160;<br/></b>If the DTC status is changing one or multiple&#160;trigger functions can be called.&#160;The DTC&#160;<br/>status reports all supported status&#160;bits but the bits disabled by&#160;the&#160;<br/>DTCStatusAvailabilityMask (see&#160;<a href="TechnicalReference_Asr_Dems.html#97">8.1.1).&#160;<br/></a>The suggestion of GENy for the function name (Port Prototype Name) is&#160;<br/>CBStatusDTC_&lt;EventSymbolicName&gt;. In&#160;spite of&#160;AUTOSAR configuration, which limits&#160;<br/>the name of the port interface to CBStatusDTC_&lt;EventName&gt;, you can set the full name&#160;<br/>of the function here.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Info&#160;<br/></b>The&#160;TriggerOnDtc callback functions can only be configured&#160;for events with a DTC&#160;<br/>
&#160;&#160;Number.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>8.2.13&#160;&#160;Software Component Template&#160;<br/></b>When the RTE is part of the configuration, GENy&#160;generates&#160;during each generation&#160;<br/>process a software component template.&#160;The&#160;name of the software component can be&#160;<br/>specified in GENy with the configuration parameter “Software Component Name”.&#160;The&#160;<br/>name of the XML&#160;file&#160;consists of&#160;the software components name with the postfix “_swc”&#160;<br/>and the file extension “.arxml” (&lt;SoftwareComponentName&gt;_swc.arxml).&#160;The default is&#160;<br/>“Dem_swc.arxml”.&#160;<br/>The software component template contains&#160;the&#160;AUTOSAR service port description for the&#160;<br/>ports&#160;provided by DEM and can be used by the RTE to provide these ports&#160;to the&#160;<br/>application.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
121&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=122></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-122_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>9&#160;&#160;AUTOSAR Standard Compliance&#160;</b><br/>
<b>9.1&#160;</b><br/>
<b>Deviations&#160;</b><br/>
<b>9.1.1&#160;</b><br/>
<b>APIs&#160;and Features not Supported&#160;</b><br/>
<a href="TechnicalReference_Asr_Dems.html#15">See chapter&#160;4.1</a>.&#160;<br/>
<b>9.1.2&#160;</b><br/>
<b>AUTOSAR Defined APIs that Differ in this Implementation&#160;</b><br/>
<b>9.1.2.1&#160;</b><br/>
<b>Service Dem_ClearDTC&#160;</b><br/>
When the&#160;API is called with the wrong&#160;DTCKind, the return value is&#160;<br/>DEM_CLEAR_WRONG_DTC.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#75">See chapter&#160;6.2.5.3.1&#160;</a><br/>
<b>9.1.2.2&#160;</b><br/>
<b>Service Dem_SetEventStatus&#160;</b><br/>
The return value DEM_E_QUEUE_OVERFLOW has been defined additionally to the&#160;<br/><a href="TechnicalReference_Asr_Dems.html#3">return values described in&#160;[1]</a>.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#44">See chapter&#160;6.2.3.1</a>.&#160;<br/>
<b>9.1.2.3&#160;</b><br/>
<b>Service Dem_ResetEventStatus&#160;</b><br/>
The return value DEM_E_QUEUE_OVERFLOW has been defined additionally to the&#160;<br/><a href="TechnicalReference_Asr_Dems.html#3">return values described in&#160;[1]</a>.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#45">See chapter&#160;6.2.3.2</a>.&#160;<br/>
<b>9.1.2.4&#160;</b><br/>
<b>Service Dem_SetOperationCycleState&#160;</b><br/>
The return value DEM_E_QUEUE_OVERFLOW has been defined additionally to the&#160;<br/><a href="TechnicalReference_Asr_Dems.html#3">return values described in&#160;[1]</a>.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#47">See chapter&#160;6.2.3.5</a>.&#160;<br/>
<b>9.1.2.5&#160;</b><br/>
<b>Service Dem_ReportErrorStatus&#160;</b><br/>
The development error value DEM_E_QUEUE_OVERFLOW has been defined additionally&#160;<br/><a href="TechnicalReference_Asr_Dems.html#3">to the development error values described in&#160;[1]</a>.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#56">See chapter&#160;6.2.4.1</a>.&#160;<br/>
<b>9.1.2.6&#160;</b><br/>
<b>Interface Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged&#160;</b><br/>
The parameter DTCKind has been defined additionally to&#160;the parameters described in&#160;<a href="TechnicalReference_Asr_Dems.html#3">[1]</a>.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#86">See chapter&#160;6.5.1.3</a>.&#160;<br/>
<b>9.1.3&#160;</b><br/>
<b>Require Ports not Supported&#160;</b><br/>
CallbackInitMonitorForFunction and Callbac<a href="TechnicalReference_Asr_Dems.html#90">kGetFaultDetectCounter – see chapter&#160;6.6.1.2</a>.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
122&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=123></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-123_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>9.2&#160;</b><br/>
<b>Additions/ Extensions&#160;</b><br/>
<b>9.2.1&#160;</b><br/>
<b>Development Error Reporting – Include Structure&#160;</b><br/>
The include structure described by&#160;AUTOSAR is extended,&#160;when the development error&#160;<br/>reporting is activated.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#21">See chapter&#160;4.6.1</a>.&#160;<br/>
<b>9.2.2&#160;</b><br/>
<b>Development Error Reporting – Internal Debug Codes&#160;</b><br/>
The following error codes are reported addi<a href="TechnicalReference_Asr_Dems.html#3">tionally to the errors defined in&#160;[1]</a>:&#160;<br/><a href="TechnicalReference_Asr_Dems.html#21">Internal debug codes – see chapter&#160;4.6.1</a>.&#160;<br/>
<b>9.2.3&#160;</b><br/>
<b>Service Dem_GetOccurrenceCounter&#160;</b><br/>
The API&#160;Dem_GetOccurrenceCounter()&#160;is an extension to&#160;AUTOSAR. It can be used&#160;<br/>to request the current occurrence counter for a given event.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#55">See chapter&#160;6.2.3.146.2.3.14</a>.&#160;<br/>
<b>9.2.4&#160;</b><br/>
<b>Name Description of Configurable Interfaces (Notifications)&#160;</b><br/>
AUTOSAR requires specific names for the&#160;notifications. In GENy these names&#160;are&#160;<br/>suggested, but can fully be set by the user.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#110">See chapter&#160;8.2.12</a>.&#160;<br/>
<b>9.2.5&#160;</b><br/>
<b>Interface Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier&#160;</b><br/>
It is possible to use DCM compatible port interfaces.&#160;This is an extension to&#160;AUTOSAR.&#160;<br/><a href="TechnicalReference_Asr_Dems.html#107">See chapter&#160;8.2.6</a>.&#160;<br/>
<b>9.2.6&#160;</b><br/>
<b>Port Names Length Limitation&#160;</b><br/>
AUTOSAR limits the length of&#160;port names to 31 characters. In contrast naming&#160;<br/>conventions require port names longer than 31 characters.&#160;<br/>
See Bugzilla 16927.&#160;<br/>
<b>9.2.7&#160;</b><br/>
<b>Version Information&#160;</b><br/>
The return parameters for the&#160;Dem_GetVersionInfo()&#160;API are defined unequally.&#160;The&#160;<br/>implement<a href="TechnicalReference_Asr_Dems.html#39">ed version is described in chapter&#160;6.2.1</a>.&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
123&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=124></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-124_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>9.3&#160;</b><br/>
<b>Limitations&#160;</b><br/>
<b>9.3.1&#160;</b><br/>
<b>Limits Checked During Configuration&#160;</b><br/>
<a href="TechnicalReference_Asr_Dems.html#15">See not supported features in chapter&#160;4.1</a>:&#160;<br/>
-&#160;&#160;event combination is not supported&#160;<br/>-&#160;&#160;the&#160;mapping of events to DTCs is “1 to 1”&#160;or “1 to 0” and not “n&#160;to 1” or “1 to n”&#160;<br/>-&#160;&#160;until OBD is supported, the DTC kind is fixed to ‘NORMAL’&#160;DTCs (see chapter&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#118">8.2.12.5.1</a>)&#160;<br/>
-&#160;&#160;the&#160;event&#160;destinations are currently&#160;restricted to ‘PRIMARY_MEMORY’&#160;or&#160;<br/>
‘INTERNAL’, because the other memory locations are not supported (see chapter&#160;<br/><a href="TechnicalReference_Asr_Dems.html#113">8.2.12.5</a>)&#160;<br/>
-&#160;&#160;the&#160;pre-debounce algorithm is fixed to ‘Counter based’&#160;for all DTCs (see&#160;chapter&#160;<br/>
<a href="TechnicalReference_Asr_Dems.html#119">8.2.12.5.2</a>)&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
124&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=125></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-125_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>10&#160;&#160;Glossary and&#160;Abbreviations&#160;</b><br/>
<b>10.1&#160;&#160;Glossary&#160;</b><br/>
<b>Term&#160;</b><br/>
<b>Description&#160;</b><br/>
Callback Function&#160;<br/>
Callback functions are&#160;implemented&#160;by the Dem and can be&#160;invoked by&#160;<br/>other modules.&#160;<br/>
Callout Function&#160;<br/>
At its configurable interfaces the DEM defines callout functions to ask&#160;for&#160;<br/>data values.&#160;The declarations of the&#160;callout functions are provided by the&#160;<br/>BSW module. It is the&#160;integrator's task to provide the corresponding&#160;<br/>function definitions.&#160;<br/>
Notification&#160;<br/>
At its configurable interfaces the Dem defines notifications that can be&#160;<br/>mapped to callback functions provided by other modules.&#160;The&#160;mapping is&#160;<br/>not statically defined by the Dem but&#160;can be performed at configuration&#160;<br/>time.&#160;<br/>
&#160;<br/>
&#160;<br/>
Event Kind “BSW”&#160;<br/>
A&#160;basic software component will set&#160;the event via&#160;API call&#160;<br/>Dem_ReportErrorStatus.&#160;To achieve data consistency, the Dem will&#160;<br/>queue such&#160;triggers and&#160;work them in its cyclic task. Never try to set such&#160;<br/>DTCs via&#160;API Dem_SetEventStatus – you may&#160;get undefined&#160;behavior.&#160;<br/>Do not manually add a Port Interface “Diagnostic Monitor” to such events.<br/>
Event Kind “SWC”&#160;<br/>
A&#160;software component will set the event via RTE (and therefore&#160;API&#160;<br/>Dem_SetEventStatus). GENy will generate a Port Interface&#160;“Diagnostic&#160;<br/>Monitor” (see chapter&#160;<a href="TechnicalReference_Asr_Dems.html#89">6.6.1.1.1) for&#160;</a>events having Event Kind “SWC” to&#160;<br/>implement that use case, and to allow the read access&#160;to the event’s&#160;<br/>status.&#160;<br/>
External Event&#160;<br/>
External events&#160;have a DTC Number assigned,&#160;so they can be read via&#160;<br/>diagnostic request.&#160;Therefore each&#160;external event must have configured&#160;<br/>the mandatory Extended Data Records.&#160;<br/>The data records are stored in the&#160;Primary&#160;Memory for the&#160;ChronoStack&#160;<br/>(and in Mirror/Secondary Memory for the Historical Stack).&#160;<br/>
Internal Event&#160;<br/>
Internal events do not have a DTC&#160;Number assigned, so they can not be&#160;<br/>read via diagnostic request and thus are invisible&#160;for an external tester.&#160;<br/>The Dem offers no&#160;API resp. Port Interface to read Extended Data&#160;<br/>Records for&#160;other software inside the&#160;ECU, so internal events do not&#160;<br/>need to store such data.&#160;<br/>Therefore internal will only store the DTC status but no other&#160;data.&#160;<br/>
&#160;<br/>
&#160;<br/>
CANdelaStudio&#160;<br/>
Tool to compile, edit and display diagnostic data&#160;descriptions&#160;for control&#160;<br/>units&#160;in the&#160;automotive&#160;area.&#160;<br/>
GENy&#160;<br/>
Generation tool for CANbedded and&#160;MICROSAR components.&#160;<br/>
Table 10-1&#160;&#160;&#160;Glossary&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
125&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=126></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-126_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>10.2&#160;&#160;Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
API&#160;Application&#160;<br/>
Programming&#160;<br/>
Interface&#160;<br/>
&#160;<br/>
AUTOSAR&#160;Automotive&#160;<br/>
Open&#160;<br/>
System&#160;<br/>
Architecture&#160;<br/>
BSW&#160;Basic&#160;<br/>
Software&#160;<br/>
CDD&#160;<br/>
CANdela Diagnostic Data&#160;<br/>
DCM&#160;Diagnostic&#160;<br/>
Communication&#160;<br/>
Manager&#160;<br/>
DEM&#160;Diagnostic&#160;<br/>
Event&#160;<br/>
Manager&#160;<br/>
DET&#160;Development&#160;<br/>
Error&#160;<br/>
Tracer&#160;<br/>
DID&#160;Data&#160;<br/>
Identifier&#160;<br/>
DTC&#160;Diagnostic&#160;<br/>
Trouble&#160;<br/>
Code&#160;<br/>
ECU&#160;<br/>
Electronic Control Unit&#160;<br/>
ECU-SM&#160;<br/>
ECU State Manager&#160;<br/>
FIM&#160;<br/>
Function Inhibition Manager&#160;<br/>
HIS&#160;<br/>
Hersteller Initiative Software&#160;<br/>
IUMPR&#160;<br/>
In Use Monitoring Performance Ratio&#160;<br/>
MICROSAR&#160;<br/>
Microcontroller Open System&#160;Architecture (the Vector&#160;AUTOSAR&#160;<br/>solution)&#160;<br/>
NvRAM&#160;Non-volatile&#160;<br/>
RAM&#160;<br/>
OBD&#160;Onboard&#160;<br/>
Diagnostics&#160;<br/>
OS&#160;Operating&#160;<br/>
System&#160;<br/>
RTE&#160;Runtime&#160;<br/>
Environment&#160;<br/>
SWC&#160;Software&#160;<br/>
Component&#160;<br/>
SWS&#160;Software&#160;<br/>
Specification&#160;<br/>
Table 10-2&#160;&#160;&#160;Abbreviations&#160;<br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
126&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name=127></a><img src="ElectricPowerSteering_TMS570_FIAT_321_website/content/en/docs/Fiasa_326_327_EPS_TMS570/HLDD/BSW/TechnicalReference_Asr_Dem-127_1.png"/><br/>
Technical Reference MICROSAR Diagnostic Event Manager (DEM) &#160;<br/>
&#160;<br/>
<b>11&#160;&#160;Contact&#160;</b><br/>
Visit our website for more information on&#160;<br/>&#160;<br/>&gt;&#160; &#160;News&#160;<br/>&gt;&#160; &#160;Products&#160;<br/>&gt;&#160; &#160;Demo software&#160;<br/>&gt;&#160; &#160;Support&#160;<br/>&gt;&#160; &#160;Training data&#160;<br/>&gt;&#160; &#160;Addresses&#160;<br/>&#160;<br/>
<a href="http://www.vector.com/"><b>www.vector.com&#160;</b></a><br/>
©2010, Vector Informatik GmbH&#160;<br/>
Version: 2.2.0&#160;<br/>
127&#160;/ 127<br/>
based on template&#160;version 3.2&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#2">1 Document Information</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#2">1.1 History</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#3">1.2 Reference Documents</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#12">2 Component History</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#13">3 Introduction</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#13">3.1 Architecture Overview</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#15">4 Functional Description</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#15">4.1 Features</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#16">4.2 Initialization</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#17">4.3 States</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#18">4.4 Main Functions</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#20">4.5 Event De-bouncing</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#20">4.5.1 Via Counter Based Algorithm</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#20">4.5.2 Via Time Based Algorithm</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#21">4.6 Error Handling</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#21">4.6.1 Development Error Reporting</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#28">4.6.1.1 Parameter Checking&#160;</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#31">4.6.2 Production Code Error Reporting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#32">5 Integration</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#32">5.1 Scope of Delivery</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#32">5.1.1 Static Files</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#32">5.1.2 Dynamic Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#33">5.2 Include Structure&#160;</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#34">5.3 Compiler Abstraction and Memory Mapping&#160;</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#35">5.4 Critical Sections</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#35">5.4.1 Startup Phase</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#36">5.4.2 Call of Callback Functions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#36">5.5 Call Context</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#37">5.6 Scheduling of DEM and DCM</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#37">5.7 NvRAM Demand</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#39">6 API Description</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#39">6.1 Type Definitions</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#39">6.2 Services Provided by DEM</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#39">6.2.1 Dem_GetVersionInfo</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#39">6.2.2 Interface ECU State Manager ( DEM</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#39">6.2.2.1 Dem_PreInit</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#41">6.2.2.2 Dem_Init</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#41">6.2.2.3 Dem_Shutdown</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#42">6.2.2.4 Dem_InitDiagnosticVariant</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#44">6.2.3 Interface SW-Components via RTE ( DEM</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#44">6.2.3.1 Dem_SetEventStatus</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#45">6.2.3.2 Dem_ResetEventStatus</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#46">6.2.3.3 Dem_PrestoreFreezeFrame</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#47">6.2.3.4 Dem_ClearPrestoredFreezeFrame</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#47">6.2.3.5 Dem_SetOperationCycleState</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#49">6.2.3.6 Dem_GetEventStatus</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#50">6.2.3.7 Dem_GetEventFailed</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#50">6.2.3.8 Dem_GetEventTested</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#52">6.2.3.9 Dem_GetDTCOfEvent</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#52">6.2.3.10 Dem_SetValueByOemId</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#52">6.2.3.11 Dem_SetEnableCondition</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#53">6.2.3.12 Dem_GetFaultDetectionCounter</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#53">6.2.3.13 Dem_GetIndicatorStatus</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#55">6.2.3.14 Dem_GetOccurrenceCounter</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#56">6.2.4 Interface BSW-Components ( DEM</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#56">6.2.4.1 Dem_ReportErrorStatus</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#57">6.2.5 Interface DCM ( DEM</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#57">6.2.5.1 Access DTCs and Status Information</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#58">6.2.5.1.1 Dem_SetDTCFilter</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#59">6.2.5.1.2 Dem_SetDTCFilterForRecords</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#60">6.2.5.1.3 Dem_SetViewFilter</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#60">6.2.5.1.4 Dem_GetStatusOfDTC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#61">6.2.5.1.5 Dem_GetDTCStatusAvailabilityMask</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#61">6.2.5.1.6 Dem_GetNumberOfFilteredDTC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#62">6.2.5.1.7 Dem_GetNextFilteredDTC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#63">6.2.5.1.8 Dem_GetDTCByOccurrenceTime</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#64">6.2.5.1.9 Dem_GetViewIDOfDTC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#64">6.2.5.1.10 Dem_GetNextFilteredRecord</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#65">6.2.5.1.11 Dem_GetNextFilteredDTCAndFDC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#66">6.2.5.1.12 Dem_GetNextFilteredDTCAndSeverity</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#66">6.2.5.1.13 Dem_GetTranslationType</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#67">6.2.5.1.14 Dem_GetSeverityOfDTC</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#68">6.2.5.2 Access Extended Data Records and FreezeFrame Data</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#68">6.2.5.2.1 Dem_DisableDTCRecordUpdate</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#68">6.2.5.2.2 Dem_EnableDTCRecordUpdate</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#69">6.2.5.2.3 Dem_GetDTCOfFreezeFrameRecord</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#70">6.2.5.2.4 Dem_GetFreezeFrameDataByDTC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#71">6.2.5.2.5 Dem_GetFreezeFrameDataIdentifierByDTC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#72">6.2.5.2.6 Dem_GetSizeOfFreezeFrame</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#73">6.2.5.2.7 Dem_GetExtendedDataRecordByDTC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#74">6.2.5.2.8 Dem_GetSizeOfExtendedDataRecordByDTC</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#75">6.2.5.3 Clear DTC Information</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#75">6.2.5.3.1 Dem_ClearDTC</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#76">6.2.5.4 Control DTC Storage</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#77">6.2.5.4.1 Dem_DisableDTCStorage</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#78">6.2.5.4.2 Dem_EnableDTCStorage</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#79">6.2.5.4.3 Dem_DisableEventStatusUpdate</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#79">6.2.5.4.4 Dem_EnableEventStatusUpdate</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#81">6.3 Services Used by DEM</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#81">6.4 Callback Functions</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#81">6.4.1 Dem_NvDataInit</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#82">6.5 Configurable Interfaces</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#82">6.5.1 Notifications</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#83">6.5.1.1 Rte_Call_Dem_&lt;ConfiguredName&gt;_InitMonitorForEvent</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#84">6.5.1.2 Rte_Call_Dem_&lt;ConfiguredName&gt;_EventStatusChanged&#160;</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#86">6.5.1.3 Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged&#160;</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#86">6.5.2 Callout Functions</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#87">6.5.2.1 Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#88">6.5.2.2 Rte_Call_Dem_&lt;ConfiguredName&gt;_GetExtendedDataRecord</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#88">6.6 Service Ports</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#88">6.6.1 Client Server Interface</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#88">6.6.1.1 Provide Ports on DEM Side</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#89">6.6.1.1.1 DiagnosticMonitor</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#89">6.6.1.1.2 OperationCycle</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#89">6.6.1.1.3 ValueByOemId</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#90">6.6.1.1.4 EnableCondition</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#90">6.6.1.1.5 IndicatorStatus</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#90">6.6.1.2 Require Ports on DEM Side</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#90">6.6.1.2.1 Notification CallbackInitMonitorForEvent</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#90">6.6.1.2.2 Notification CallbackInitMonitorForFunction</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#90">6.6.1.2.3 Notification CallbackEventStatusChange</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#90">6.6.1.2.4 Notification CallbackDTCStatusChange</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#91">6.6.1.2.5 Callout Function CallbackGetDataValueByDataID{DataId}</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#91">6.6.1.2.6 Callout Function CallbackGetExtendedDataRecord{RecordNumber}</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#91">6.6.1.2.7 Callout Function CallbackGetFaultDetectCounter</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#92">7 Additional Features</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#92">7.1 Multi-Identity Support</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#92">7.1.1 Functionality</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#92">7.1.2 Single-Identity Mode</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#93">7.1.2.1 Configuration in CANdela</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#93">7.1.2.2 Configuration in GENy</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#94">7.1.3 Vehicle System Group (VSG) Mode</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#94">7.1.3.1 Configuration in CANdela</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#96">7.1.3.2 Configuration in GENy</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#97">8 Configuration</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#97">8.1 Configuration with CANdelaStudio</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#97">8.1.1 DTC Settings</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#99">8.1.2 Freeze Frame Types (Snapshot Records)</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#99">8.1.3 Extended Records</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#99">8.1.3.1 OccurrenceCounter</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#101">8.1.4 Pre de-bounce algorithms</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#101">8.2 Configuration with GENy</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#102">8.2.1 Start the Configuration</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#102">8.2.2 Import CDD</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#102">8.2.2.1 Single Identity Mode</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#103">8.2.2.2 Vehicle System Group (VSG) Mode</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#104">8.2.2.3 Automatic Configuration via CANdelaStudio Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#105">8.2.3 Tree View</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#106">8.2.4 Main Configuration Window</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#107">8.2.5 Common</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#107">8.2.6 Software Component Template</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#108">8.2.7 Postbuild Settings</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#108">8.2.8 Miscellaneous</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#109">8.2.9 BSW Error Buffer</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#109">8.2.10 DTC Groups</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#110">8.2.11 NvRam Block IDs</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#110">8.2.12 Manual Configuration</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#111">8.2.12.1 Operation Cycles Window</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#112">8.2.12.2 Data Object Window</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#112">8.2.12.3 Extended Data Records</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#113">8.2.12.4 Indicator Window</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#113">8.2.12.5 Event Configuration Window</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#118">8.2.12.5.1 DTC Settings</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#119">8.2.12.5.2 Event Pre-Debouncing</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#119">8.2.12.5.3 Snapshot Records (FreezeFrames)</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#120">8.2.12.5.4 Extended Data Records</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#121">8.2.12.5.5 Indicators</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#121">8.2.12.5.6 TriggerOnEvent Callback Functions</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#121">8.2.12.5.7 TriggerOnDtc Callback Functions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#121">8.2.13 Software Component Template</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#122">9 AUTOSAR Standard Compliance</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1 Deviations</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.1 APIs and Features not Supported</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.2 AUTOSAR Defined APIs that Differ in this Implementation</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.2.1 Service Dem_ClearDTC</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.2.2 Service Dem_SetEventStatus</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.2.3 Service Dem_ResetEventStatus</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.2.4 Service Dem_SetOperationCycleState</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.2.5 Service Dem_ReportErrorStatus</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.2.6 Interface Rte_Call_Dem_&lt;ConfiguredName&gt;_DTCStatusChanged</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#122">9.1.3 Require Ports not Supported</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#123">9.2 Additions/ Extensions</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#123">9.2.1 Development Error Reporting – Include Structure</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#123">9.2.2 Development Error Reporting – Internal Debug Codes</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#123">9.2.3 Service Dem_GetOccurrenceCounter</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#123">9.2.4 Name Description of Configurable Interfaces (Notifications)</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#123">9.2.5 Interface Rte_Call_Dem_&lt;ConfiguredName&gt;_GetDataValueByDataIdentifier</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#123">9.2.6 Port Names Length Limitation</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#123">9.2.7 Version Information</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#124">9.3 Limitations</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#124">9.3.1 Limits Checked During Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#125">10 Glossary and Abbreviations</a>
<ul>
<li><a href="TechnicalReference_Asr_Dems.html#125">10.1 Glossary</a></li>
<li><a href="TechnicalReference_Asr_Dems.html#126">10.2 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Dems.html#127">11 Contact</a></li>
</ul>
<hr/>
</body>
</html>
